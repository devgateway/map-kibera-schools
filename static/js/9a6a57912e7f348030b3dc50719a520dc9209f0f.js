/*

 Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 Build: `lodash underscore exports="amd,commonjs,global,node" -o ./dist/lodash.underscore.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <http://lodash.com/license>
 jQuery JavaScript Library v1.11.1
 http://jquery.com/

 Includes Sizzle.js
 http://sizzlejs.com/

 Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2014-05-01T17:42Z
 Sizzle CSS Selector Engine v1.10.19
 http://sizzlejs.com/

 Copyright 2013 jQuery Foundation, Inc. and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2014-04-18
*/
(function(){for(var b,m=function(){},l="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profileEnd table time timeEnd timeStamp trace warn".split(" "),v=l.length,p=window.console=window.console||{};v--;)b=l[v],p[b]||(p[b]=m)})();
(function(b,m){var l=function(){var l=this.attributes.href.nodeValue.toString(),C=l.substr(0,l.indexOf("#"));l=l.substr(l.indexOf("#")+1);var R=document.getElementById(l),K=E();R=p(R);b.isAutoScrolling=!0;v(K,R,15);b.history&&"function"==typeof b.history.pushState&&b.history.pushState({},m,C+"#"+l);return!1},v=function Z(l,p,m){15>333-m?(b.setTimeout(b.scrollTo,333-m,0,p),b.isAutoScrolling=!1):(b.scrollTo(0,(p-l)*(.5*-Math.cos(m/333*Math.PI)+.5)+l),b.setTimeout(Z,15,l,p,m+15))},p=function(b){for(var l=
-75;b.offsetParent!==m&&null!==b.offsetParent;)l+=b.offsetTop+(null!==b.clientTop?b.clientTop:0),b=b.offsetParent;return l},E=function(){return b.pageYOffset!==m?b.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop};b.smoothScroll=function(b){b=document.querySelectorAll(b);for(var p,m=0;m<b.length;m++){p=b[m].id;if(!p)throw"ScrollTo cannot scroll to targets without IDs.";p=document.querySelectorAll('a[href="/#'+p+'"]');for(var v=0;v<p.length;v++)p[v].onclick=
l}};b.targetFromTop=p;b.viewportFromTop=E;b.isAutoScrolling=!1;if(b.location.hash){var C=document.querySelector('a[href="/'+b.location.hash+'"]');C&&l.call(C)}})(window);
(function(b){b.each=function(b,l){for(var p=0;p<b.length;p++)l(b[p])};b.eachNode=function(){var b=Array.prototype.shift.call(arguments);return Array.prototype.forEach.apply(b,arguments)};b.mapNodes=function(){var b=Array.prototype.shift.call(arguments);return Array.prototype.map.apply(b,arguments)};b.startsWith=function(b,l){return 0===b.lastIndexOf(l,0)};b.stop=function(b){b.preventDefault?b.preventDefault():event.returnValue=!1};b.extend=function(b){b=b||{};for(var l=1;l<arguments.length;l++)if(arguments[l])for(var m in arguments[l])arguments[l].hasOwnProperty(m)&&
(b[m]=arguments[l][m]);return b};var m=document.body.classList,l=document.body.addEventListener;b.addClass=function(b,l){m?b.classList.add(l):b.className+=" "+className};b.removeClass=function(b,l){m?b.classList.remove(l):b.className=b.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")};b.toggleClass=function(b,l){if(m)b.classList.toggle(l);else{for(var p=b.className.split(" "),v=-1,D=p.length;D--;)p[D]===className&&(v=D);0<=v?p.splice(v,1):p.push(className);
b.className=p.join(" ")}};b.hasClass=function(b,l){return m?b.classList.contains(l):(new RegExp("(^| )"+l+"( |$)","gi")).test(b.className)};b.on=function(b,m,E){l?b.addEventListener(m,E):b.attachEvent("on"+m,function(){return E.call(b)})};b.key={13:"ENTER",27:"ESCAPE",32:"SPACE",33:"PAGEUP",34:"PAGEDOWN",35:"END",36:"HOME",38:"UP",40:"DOWN"}})(window.u||(window.u={}));String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});
(function(b,m){"object"===typeof module&&"object"===typeof module.exports?module.exports=b.document?m(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return m(b)}:m(b)})("undefined"!==typeof window?window:this,function(b,m){function l(a){var e=a.length,h=c.type(a);return"function"===h||c.isWindow(a)?!1:1===a.nodeType&&e?!0:"array"===h||0===e||"number"===typeof e&&0<e&&e-1 in a}function v(a,e,h){if(c.isFunction(e))return c.grep(a,function(a,c){return!!e.call(a,
c,a)!==h});if(e.nodeType)return c.grep(a,function(a){return a===e!==h});if("string"===typeof e){if(T.test(e))return c.filter(e,a,h);e=c.filter(e,a)}return c.grep(a,function(a){return 0<=c.inArray(a,e)!==h})}function p(a,e){do a=a[e];while(a&&1!==a.nodeType);return a}function E(a){var e=da[a]={};c.each(a.match(I)||[],function(a,c){e[c]=!0});return e}function C(){A.addEventListener?(A.removeEventListener("DOMContentLoaded",D,!1),b.removeEventListener("load",D,!1)):(A.detachEvent("onreadystatechange",
D),b.detachEvent("onload",D))}function D(){if(A.addEventListener||"load"===event.type||"complete"===A.readyState)C(),c.ready()}function Z(a,e,h){if(void 0===h&&1===a.nodeType)if(h="data-"+e.replace(Nb,"-$1").toLowerCase(),h=a.getAttribute(h),"string"===typeof h){try{h="true"===h?!0:"false"===h?!1:"null"===h?null:+h+""===h?+h:wa.test(h)?c.parseJSON(h):h}catch(r){}c.data(a,e,h)}else h=void 0;return h}function R(a){for(var e in a)if(("data"!==e||!c.isEmptyObject(a[e]))&&"toJSON"!==e)return!1;return!0}
function K(a,e,h,r){if(c.acceptData(a)){var f=c.expando,b=a.nodeType,g=b?c.cache:a,n=b?a[f]:a[f]&&f;if(n&&g[n]&&(r||g[n].data)||void 0!==h||"string"!==typeof e){n||(n=b?a[f]=ua.pop()||c.guid++:f);g[n]||(g[n]=b?{}:{toJSON:c.noop});if("object"===typeof e||"function"===typeof e)r?g[n]=c.extend(g[n],e):g[n].data=c.extend(g[n].data,e);a=g[n];r||(a.data||(a.data={}),a=a.data);void 0!==h&&(a[c.camelCase(e)]=h);"string"===typeof e?(h=a[e],null==h&&(h=a[c.camelCase(e)])):h=a;return h}}}function S(a,e,h){if(c.acceptData(a)){var r,
f,b=a.nodeType,g=b?c.cache:a,n=b?a[c.expando]:c.expando;if(g[n]){if(e&&(r=h?g[n]:g[n].data)){c.isArray(e)?e=e.concat(c.map(e,c.camelCase)):e in r?e=[e]:(e=c.camelCase(e),e=e in r?[e]:e.split(" "));for(f=e.length;f--;)delete r[e[f]];if(h?!R(r):!c.isEmptyObject(r))return}if(!h&&(delete g[n].data,!R(g[n])))return;b?c.cleanData([a],!0):z.deleteExpando||g!=g.window?delete g[n]:g[n]=null}}}function ha(){return!0}function Ea(){return!1}function fb(){try{return A.activeElement}catch(a){}}function gb(a){var e=
bc.split("|");a=a.createDocumentFragment();if(a.createElement)for(;e.length;)a.createElement(e.pop());return a}function P(a,e){var h,r,f=0,b="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(e||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(e||"*"):void 0;if(!b)for(b=[],h=a.childNodes||a;null!=(r=h[f]);f++)!e||c.nodeName(r,e)?b.push(r):c.merge(b,P(r,e));return void 0===e||e&&c.nodeName(a,e)?c.merge([a],b):b}function Fa(a){sa.test(a.type)&&(a.defaultChecked=a.checked)}
function ia(a,e){return c.nodeName(a,"table")&&c.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function hb(a){a.type=(null!==c.find.attr(a,"type"))+"/"+a.type;return a}function G(a){var e=Ob.exec(a.type);e?a.type=e[1]:a.removeAttribute("type");return a}function F(a,e){for(var h,r=0;null!=(h=a[r]);r++)c._data(h,"globalEval",!e||c._data(e[r],"globalEval"))}function O(a,e){if(1===e.nodeType&&c.hasData(a)){var h,
r;var f=c._data(a);var b=c._data(e,f),g=f.events;if(g)for(h in delete b.handle,b.events={},g)for(f=0,r=g[h].length;f<r;f++)c.event.add(e,h,g[h][f]);b.data&&(b.data=c.extend({},b.data))}}function pa(a,e){var h,r=c(e.createElement(a)).appendTo(e.body),f=b.getDefaultComputedStyle&&(h=b.getDefaultComputedStyle(r[0]))?h.display:c.css(r[0],"display");r.detach();return f}function ja(a){var e=A,h=Pb[a];h||(h=pa(a,e),"none"!==h&&h||(pb=(pb||c("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),
e=(pb[0].contentWindow||pb[0].contentDocument).document,e.write(),e.close(),h=pa(a,e),pb.detach()),Pb[a]=h);return h}function la(a,e){return{get:function(){var c=a();if(null!=c)if(c)delete this.get;else return(this.get=e).apply(this,arguments)}}}function Q(a,e){if(e in a)return e;for(var c=e.charAt(0).toUpperCase()+e.slice(1),r=e,f=Oa.length;f--;)if(e=Oa[f]+c,e in a)return e;return r}function M(a,e){for(var h,r,f,b=[],g=0,n=a.length;g<n;g++)r=a[g],r.style&&(b[g]=c._data(r,"olddisplay"),h=r.style.display,
e?(b[g]||"none"!==h||(r.style.display=""),""===r.style.display&&Ha(r)&&(b[g]=c._data(r,"olddisplay",ja(r.nodeName)))):(f=Ha(r),(h&&"none"!==h||!f)&&c._data(r,"olddisplay",f?h:c.css(r,"display"))));for(g=0;g<n;g++)r=a[g],!r.style||e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?b[g]||"":"none");return a}function ya(a,e,c){return(a=qa.exec(e))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):e}function Pa(a,e,h,r,f){e=h===(r?"border":"content")?4:"width"===e?1:0;for(var b=0;4>e;e+=2)"margin"===
h&&(b+=c.css(a,h+ea[e],!0,f)),r?("content"===h&&(b-=c.css(a,"padding"+ea[e],!0,f)),"margin"!==h&&(b-=c.css(a,"border"+ea[e]+"Width",!0,f))):(b+=c.css(a,"padding"+ea[e],!0,f),"padding"!==h&&(b+=c.css(a,"border"+ea[e]+"Width",!0,f)));return b}function Ya(a,e,h){var r=!0,f="width"===e?a.offsetWidth:a.offsetHeight,b=n(a),g=z.boxSizing&&"border-box"===c.css(a,"boxSizing",!1,b);if(0>=f||null==f){f=q(a,e,b);if(0>f||null==f)f=a.style[e];if(Qa.test(f))return f;r=g&&(z.boxSizingReliable()||f===a.style[e]);
f=parseFloat(f)||0}return f+Pa(a,e,h||(g?"border":"content"),r,b)+"px"}function g(a,e,c,r,f){return new g.prototype.init(a,e,c,r,f)}function k(){setTimeout(function(){za=void 0});return za=c.now()}function N(a,e){var c={height:a},r=0;for(e=e?1:0;4>r;r+=2-e){var f=ea[r];c["margin"+f]=c["padding"+f]=a}e&&(c.opacity=c.width=a);return c}function U(a,e,c){for(var h,f=(zb[e]||[]).concat(zb["*"]),b=0,g=f.length;b<g;b++)if(h=f[b].call(c,e,a))return h}function oa(a,e){var h,r;for(h in a){var f=c.camelCase(h);
var b=e[f];var g=a[h];c.isArray(g)&&(b=g[1],g=a[h]=g[0]);h!==f&&(a[f]=g,delete a[h]);if((r=c.cssHooks[f])&&"expand"in r)for(h in g=r.expand(g),delete a[f],g)h in a||(a[h]=g[h],e[h]=b);else e[f]=b}}function ba(a,e,h){var r,f=0,b=kc.length,g=c.Deferred().always(function(){delete n.elem}),n=function(){if(r)return!1;var e=za||k();e=Math.max(0,q.startTime+q.duration-e);for(var c=1-(e/q.duration||0),h=0,f=q.tweens.length;h<f;h++)q.tweens[h].run(c);g.notifyWith(a,[q,c,e]);if(1>c&&f)return e;g.resolveWith(a,
[q]);return!1},q=g.promise({elem:a,props:c.extend({},e),opts:c.extend(!0,{specialEasing:{}},h),originalProperties:e,originalOptions:h,startTime:za||k(),duration:h.duration,tweens:[],createTween:function(e,h){var r=c.Tween(a,q.opts,e,h,q.opts.specialEasing[e]||q.opts.easing);q.tweens.push(r);return r},stop:function(e){var c=0,h=e?q.tweens.length:0;if(r)return this;for(r=!0;c<h;c++)q.tweens[c].run(1);e?g.resolveWith(a,[q,e]):g.rejectWith(a,[q,e]);return this}});h=q.props;for(oa(h,q.opts.specialEasing);f<
b;f++)if(e=kc[f].call(q,a,h,q.opts))return e;c.map(h,U,q);c.isFunction(q.opts.start)&&q.opts.start.call(a,q);c.fx.timer(c.extend(n,{elem:a,anim:q,queue:q.opts.queue}));return q.progress(q.opts.progress).done(q.opts.done,q.opts.complete).fail(q.opts.fail).always(q.opts.always)}function Ab(a){return function(e,h){"string"!==typeof e&&(h=e,e="*");var r,f=0,b=e.toLowerCase().match(I)||[];if(c.isFunction(h))for(;r=b[f++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(a[r]=a[r]||[]).unshift(h)):(a[r]=a[r]||[]).push(h)}}
function Ra(a,e,h,r){function f(n){var J;b[n]=!0;c.each(a[n]||[],function(a,c){var n=c(e,h,r);if("string"===typeof n&&!g&&!b[n])return e.dataTypes.unshift(n),f(n),!1;if(g)return!(J=n)});return J}var b={},g=a===cb;return f(e.dataTypes[0])||!b["*"]&&f("*")}function Sa(a,e){var h,f,b=c.ajaxSettings.flatOptions||{};for(f in e)void 0!==e[f]&&((b[f]?a:h||(h={}))[f]=e[f]);h&&c.extend(!0,a,h);return a}function Bb(a,e,h,f){var r;if(c.isArray(e))c.each(e,function(e,c){h||qb.test(a)?f(a,c):Bb(a+"["+("object"===
typeof c?e:"")+"]",c,h,f)});else if(h||"object"!==c.type(e))f(a,e);else for(r in e)Bb(a+"["+r+"]",e[r],h,f)}function ib(){try{return new b.XMLHttpRequest}catch(a){}}function Qb(a){return c.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ua=[],H=ua.slice,fa=ua.concat,jb=ua.push,Ia=ua.indexOf,V={},Ta=V.toString,Aa=V.hasOwnProperty,z={},c=function(a,e){return new c.fn.init(a,e)},Rb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,dc=/^-ms-/,ec=/-([\da-z])/gi,Ua=function(a,e){return e.toUpperCase()};
c.fn=c.prototype={jquery:"1.11.1",constructor:c,selector:"",length:0,toArray:function(){return H.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:H.call(this)},pushStack:function(a){a=c.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,e){return c.each(this,a,e)},map:function(a){return this.pushStack(c.map(this,function(e,c){return a.call(e,c,e)}))},slice:function(){return this.pushStack(H.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(a){var e=this.length;a=+a+(0>a?e:0);return this.pushStack(0<=a&&a<e?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:jb,sort:ua.sort,splice:ua.splice};c.extend=c.fn.extend=function(){var a,e,h,f=arguments[0]||{},b=1,g=arguments.length,n=!1;"boolean"===typeof f&&(n=f,f=arguments[b]||{},b++);"object"===typeof f||c.isFunction(f)||(f={});b===g&&(f=this,b--);for(;b<g;b++)if(null!=(h=arguments[b]))for(e in h){var q=f[e];var k=
h[e];f!==k&&(n&&k&&(c.isPlainObject(k)||(a=c.isArray(k)))?(a?(a=!1,q=q&&c.isArray(q)?q:[]):q=q&&c.isPlainObject(q)?q:{},f[e]=c.extend(n,q,k)):void 0!==k&&(f[e]=k))}return f};c.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===c.type(a)},isArray:Array.isArray||function(a){return"array"===c.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!c.isArray(a)&&
0<=a-parseFloat(a)},isEmptyObject:function(a){for(var e in a)return!1;return!0},isPlainObject:function(a){var e;if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!Aa.call(a,"constructor")&&!Aa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(h){return!1}if(z.ownLast)for(e in a)return Aa.call(a,e);for(e in a);return void 0===e||Aa.call(a,e)},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?V[Ta.call(a)]||"object":typeof a},
globalEval:function(a){a&&c.trim(a)&&(b.execScript||function(a){b.eval.call(b,a)})(a)},camelCase:function(a){return a.replace(dc,"ms-").replace(ec,Ua)},nodeName:function(a,e){return a.nodeName&&a.nodeName.toLowerCase()===e.toLowerCase()},each:function(a,e,c){var h=0,f=a.length;var b=l(a);if(c)if(b)for(;h<f&&(b=e.apply(a[h],c),!1!==b);h++);else for(h in a){if(b=e.apply(a[h],c),!1===b)break}else if(b)for(;h<f&&(b=e.call(a[h],h,a[h]),!1!==b);h++);else for(h in a)if(b=e.call(a[h],h,a[h]),!1===b)break;
return a},trim:function(a){return null==a?"":(a+"").replace(Rb,"")},makeArray:function(a,e){var h=e||[];null!=a&&(l(Object(a))?c.merge(h,"string"===typeof a?[a]:a):jb.call(h,a));return h},inArray:function(a,e,c){if(e){if(Ia)return Ia.call(e,a,c);var h=e.length;for(c=c?0>c?Math.max(0,h+c):c:0;c<h;c++)if(c in e&&e[c]===a)return c}return-1},merge:function(a,e){for(var c=+e.length,f=0,b=a.length;f<c;)a[b++]=e[f++];if(c!==c)for(;void 0!==e[f];)a[b++]=e[f++];a.length=b;return a},grep:function(a,e,c){for(var h=
[],f=0,b=a.length,g=!c;f<b;f++)c=!e(a[f],f),c!==g&&h.push(a[f]);return h},map:function(a,e,c){var h=0,f=a.length,b=[];if(l(a))for(;h<f;h++){var g=e(a[h],h,c);null!=g&&b.push(g)}else for(h in a)g=e(a[h],h,c),null!=g&&b.push(g);return fa.apply([],b)},guid:1,proxy:function(a,e){if("string"===typeof e){var h=a[e];e=a;a=h}if(c.isFunction(a)){var f=H.call(arguments,2);h=function(){return a.apply(e||this,f.concat(H.call(arguments)))};h.guid=a.guid=a.guid||c.guid++;return h}},now:function(){return+new Date},
support:z});c.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,e){V["[object "+e+"]"]=e.toLowerCase()});var Za=function(a){function e(a,e,c,h){var f,r,d,t;(e?e.ownerDocument||e:I)!==aa&&ua(e);e=e||aa;c=c||[];if(!a||"string"!==typeof a)return c;if(1!==(t=e.nodeType)&&9!==t)return[];if(D&&!h){if(f=ra.exec(a))if(d=f[1])if(9===t)if((r=e.getElementById(d))&&r.parentNode){if(r.id===d)return c.push(r),c}else return c;else{if(e.ownerDocument&&(r=e.ownerDocument.getElementById(d))&&
K(e,r)&&r.id===d)return c.push(r),c}else{if(f[2])return O.apply(c,e.getElementsByTagName(a)),c;if((d=f[3])&&ma.getElementsByClassName&&e.getElementsByClassName)return O.apply(c,e.getElementsByClassName(d)),c}if(ma.qsa&&(!ba||!ba.test(a))){r=f=E;d=e;var B=9===t&&a;if(1===t&&"object"!==e.nodeName.toLowerCase()){t=Ia(a);(f=e.getAttribute("id"))?r=f.replace(ta,"\\$&"):e.setAttribute("id",r);r="[id='"+r+"'] ";for(d=t.length;d--;)t[d]=r+p(t[d]);d=ib.test(a)&&l(e.parentNode)||e;B=t.join(",")}if(B)try{return O.apply(c,
d.querySelectorAll(B)),c}catch(W){}finally{f||e.removeAttribute("id")}}}return wa(a.replace(da,"$1"),e,c,h)}function c(){function a(c,h){e.push(c+" ")>X.cacheLength&&delete a[e.shift()];return a[c+" "]=h}var e=[];return a}function f(a){a[E]=!0;return a}function b(a){var e=aa.createElement("div");try{return!!a(e)}catch($c){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function g(a,e){for(var c=a.split("|"),h=a.length;h--;)X.attrHandle[c[h]]=e}function n(a,e){var c=e&&a,h=c&&1===a.nodeType&&
1===e.nodeType&&(~e.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(h)return h;if(c)for(;c=c.nextSibling;)if(c===e)return-1;return a?1:-1}function q(a){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===a}}function k(a){return function(e){var c=e.nodeName.toLowerCase();return("input"===c||"button"===c)&&e.type===a}}function w(a){return f(function(e){e=+e;return f(function(c,h){for(var f,r=a([],c.length,e),d=r.length;d--;)c[f=r[d]]&&(c[f]=!(h[f]=c[f]))})})}function l(a){return a&&
"undefined"!==typeof a.getElementsByTagName&&a}function m(){}function p(a){for(var e=0,c=a.length,h="";e<c;e++)h+=a[e].value;return h}function N(a,e,c){var h=e.dir,f=c&&"parentNode"===h,r=M++;return e.first?function(d,t,B){for(;d=d[h];)if(1===d.nodeType||f)return a(d,t,B)}:function(d,t,B){var e,c=[F,r];if(B)for(;d=d[h];){if((1===d.nodeType||f)&&a(d,t,B))return!0}else for(;d=d[h];)if(1===d.nodeType||f){var b=d[E]||(d[E]={});if((e=b[h])&&e[0]===F&&e[1]===r)return c[2]=e[2];b[h]=c;if(c[2]=a(d,t,B))return!0}}}
function xa(a){return 1<a.length?function(e,c,h){for(var f=a.length;f--;)if(!a[f](e,c,h))return!1;return!0}:a[0]}function Ma(a,e,c,h,f){for(var r,d=[],t=0,B=a.length,W=null!=e;t<B;t++)if(r=a[t])if(!c||c(r,h,f))d.push(r),W&&e.push(t);return d}function U(a,c,h,r,b,g){r&&!r[E]&&(r=U(r));b&&!b[E]&&(b=U(b,g));return f(function(d,t,B,f){var W,g=[],n=[],q=t.length,J;if(!(J=d)){J=c||"*";for(var Y=B.nodeType?[B]:B,k=[],rb=0,w=Y.length;rb<w;rb++)e(J,Y[rb],k);J=k}J=!a||!d&&c?J:Ma(J,g,a,B,f);Y=h?b||(d?a:q||r)?
[]:t:J;h&&h(J,Y,B,f);if(r){var l=Ma(Y,n);r(l,[],B,f);for(B=l.length;B--;)if(W=l[B])Y[n[B]]=!(J[n[B]]=W)}if(d){if(b||a){if(b){l=[];for(B=Y.length;B--;)(W=Y[B])&&l.push(J[B]=W);b(null,Y=[],l,f)}for(B=Y.length;B--;)(W=Y[B])&&-1<(l=b?R.call(d,W):g[B])&&(d[l]=!(t[l]=W))}}else Y=Ma(Y===t?Y.splice(q,Y.length):Y),b?b(null,t,Y,f):O.apply(t,Y)})}function v(a){var e,c,h=a.length,f=X.relative[a[0].type];var r=f||X.relative[" "];for(var d=f?1:0,t=N(function(d){return d===e},r,!0),B=N(function(d){return-1<R.call(e,
d)},r,!0),W=[function(d,a,c){return!f&&(c||a!==z)||((e=a).nodeType?t(d,a,c):B(d,a,c))}];d<h;d++)if(r=X.relative[a[d].type])W=[N(xa(W),r)];else{r=X.filter[a[d].type].apply(null,a[d].matches);if(r[E]){for(c=++d;c<h&&!X.relative[a[c].type];c++);return U(1<d&&xa(W),1<d&&p(a.slice(0,d-1).concat({value:" "===a[d-2].type?"*":""})).replace(da,"$1"),r,d<c&&v(a.slice(d,c)),c<h&&v(a=a.slice(c)),c<h&&p(a))}W.push(r)}return xa(W)}function oa(a,c){var h=0<c.length,r=0<a.length,b=function(f,d,t,B,W){var b,g,n,J=
0,q="0",Y=f&&[],k=[],w=z,rb=f||r&&X.find.TAG("*",W),l=F+=null==w?1:Math.random()||.1,Yc=rb.length;for(W&&(z=d!==aa&&d);q!==Yc&&null!=(b=rb[q]);q++){if(r&&b){for(g=0;n=a[g++];)if(n(b,d,t)){B.push(b);break}W&&(F=l)}h&&((b=!n&&b)&&J--,f&&Y.push(b))}J+=q;if(h&&q!==J){for(g=0;n=c[g++];)n(Y,k,d,t);if(f){if(0<J)for(;q--;)Y[q]||k[q]||(k[q]=S.call(B));k=Ma(k)}O.apply(B,k);W&&!f&&0<k.length&&1<J+c.length&&e.uniqueSort(B)}W&&(F=l,z=w);return Y};return h?f(b):b}var qa,z,A,na,aa,C,D,ba,H,G,K,E="sizzle"+-new Date,
I=a.document,F=0,M=0,Z=c(),nb=c(),P=c(),T=function(a,e){a===e&&(na=!0);return 0},V={}.hasOwnProperty,Q=[],S=Q.pop,za=Q.push,O=Q.push,fa=Q.slice,R=Q.indexOf||function(a){for(var e=0,c=this.length;e<c;e++)if(this[e]===a)return e;return-1},ea="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Ab="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)[\\x20\\t\\r\\n\\f]*\\]",Sa=
":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ab+")*)|.*)\\)|)",da=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ja=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Oa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,la=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),Ra=new RegExp(Sa),Aa=new RegExp("^"+ea+"$"),ka={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,
TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+Ab),PSEUDO:new RegExp("^"+Sa),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},
pa=/^(?:input|select|textarea|button)$/i,Yb=/^h\d$/i,Ta=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ib=/[+~]/,ta=/'|\\/g,ha=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ia=function(a,e,c){a="0x"+e-65536;return a!==a||c?e:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{O.apply(Q=fa.call(I.childNodes),I.childNodes),Q[I.childNodes.length].nodeType}catch(rb){O={apply:Q.length?function(a,e){za.apply(a,fa.call(e))}:
function(a,e){for(var c=a.length,h=0;a[c++]=e[h++];);a.length=c-1}}}var ma=e.support={};var xb=e.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};var ua=e.setDocument=function(a){var e=a?a.ownerDocument||a:I;a=e.defaultView;if(e===aa||9!==e.nodeType||!e.documentElement)return aa;aa=e;C=e.documentElement;D=!xb(e);a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){ua()},!1):a.attachEvent&&a.attachEvent("onunload",function(){ua()}));ma.attributes=
b(function(a){a.className="i";return!a.getAttribute("className")});ma.getElementsByTagName=b(function(a){a.appendChild(e.createComment(""));return!a.getElementsByTagName("*").length});ma.getElementsByClassName=Ta.test(e.getElementsByClassName)&&b(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});ma.getById=b(function(a){C.appendChild(a).id=E;return!e.getElementsByName||!e.getElementsByName(E).length});
ma.getById?(X.find.ID=function(a,e){if("undefined"!==typeof e.getElementById&&D){var c=e.getElementById(a);return c&&c.parentNode?[c]:[]}},X.filter.ID=function(a){var e=a.replace(ha,ia);return function(a){return a.getAttribute("id")===e}}):(delete X.find.ID,X.filter.ID=function(a){var e=a.replace(ha,ia);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===e}});X.find.TAG=ma.getElementsByTagName?function(a,e){if("undefined"!==typeof e.getElementsByTagName)return e.getElementsByTagName(a)}:
function(a,e){var c,h=[],d=0,t=e.getElementsByTagName(a);if("*"===a){for(;c=t[d++];)1===c.nodeType&&h.push(c);return h}return t};X.find.CLASS=ma.getElementsByClassName&&function(a,e){if("undefined"!==typeof e.getElementsByClassName&&D)return e.getElementsByClassName(a)};H=[];ba=[];if(ma.qsa=Ta.test(e.querySelectorAll))b(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&ba.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");
a.querySelectorAll("[selected]").length||ba.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||ba.push(":checked")}),b(function(a){var c=e.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&ba.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||
ba.push(":enabled",":disabled");a.querySelectorAll("*,:x");ba.push(",.*:")});(ma.matchesSelector=Ta.test(G=C.matches||C.webkitMatchesSelector||C.mozMatchesSelector||C.oMatchesSelector||C.msMatchesSelector))&&b(function(a){ma.disconnectedMatch=G.call(a,"div");G.call(a,"[s!='']:x");H.push("!=",Sa)});ba=ba.length&&new RegExp(ba.join("|"));H=H.length&&new RegExp(H.join("|"));K=(a=Ta.test(C.compareDocumentPosition))||Ta.test(C.contains)?function(a,e){var c=9===a.nodeType?a.documentElement:a,h=e&&e.parentNode;
return a===h||!!(h&&1===h.nodeType&&(c.contains?c.contains(h):a.compareDocumentPosition&&a.compareDocumentPosition(h)&16))}:function(a,e){if(e)for(;e=e.parentNode;)if(e===a)return!0;return!1};T=a?function(a,c){if(a===c)return na=!0,0;var h=!a.compareDocumentPosition-!c.compareDocumentPosition;if(h)return h;h=(a.ownerDocument||a)===(c.ownerDocument||c)?a.compareDocumentPosition(c):1;return h&1||!ma.sortDetached&&c.compareDocumentPosition(a)===h?a===e||a.ownerDocument===I&&K(I,a)?-1:c===e||c.ownerDocument===
I&&K(I,c)?1:A?R.call(A,a)-R.call(A,c):0:h&4?-1:1}:function(a,c){if(a===c)return na=!0,0;var h=0;var f=a.parentNode;var d=c.parentNode,t=[a],B=[c];if(!f||!d)return a===e?-1:c===e?1:f?-1:d?1:A?R.call(A,a)-R.call(A,c):0;if(f===d)return n(a,c);for(f=a;f=f.parentNode;)t.unshift(f);for(f=c;f=f.parentNode;)B.unshift(f);for(;t[h]===B[h];)h++;return h?n(t[h],B[h]):t[h]===I?-1:B[h]===I?1:0};return e};e.matches=function(a,c){return e(a,null,null,c)};e.matchesSelector=function(a,c){(a.ownerDocument||a)!==aa&&
ua(a);c=c.replace(la,"='$1']");if(!(!ma.matchesSelector||!D||H&&H.test(c)||ba&&ba.test(c)))try{var h=G.call(a,c);if(h||ma.disconnectedMatch||a.document&&11!==a.document.nodeType)return h}catch(ad){}return 0<e(c,aa,null,[a]).length};e.contains=function(a,e){(a.ownerDocument||a)!==aa&&ua(a);return K(a,e)};e.attr=function(a,e){(a.ownerDocument||a)!==aa&&ua(a);var c=X.attrHandle[e.toLowerCase()];c=c&&V.call(X.attrHandle,e.toLowerCase())?c(a,e,!D):void 0;return void 0!==c?c:ma.attributes||!D?a.getAttribute(e):
(c=a.getAttributeNode(e))&&c.specified?c.value:null};e.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};e.uniqueSort=function(a){var e,c=[],h=0,f=0;na=!ma.detectDuplicates;A=!ma.sortStable&&a.slice(0);a.sort(T);if(na){for(;e=a[f++];)e===a[f]&&(h=c.push(f));for(;h--;)a.splice(c[h],1)}A=null;return a};var sa=e.getText=function(a){var e="",c=0;var h=a.nodeType;if(!h)for(;h=a[c++];)e+=sa(h);else if(1===h||9===h||11===h){if("string"===typeof a.textContent)return a.textContent;
for(a=a.firstChild;a;a=a.nextSibling)e+=sa(a)}else if(3===h||4===h)return a.nodeValue;return e};var X=e.selectors={cacheLength:50,createPseudo:f,match:ka,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ha,ia);a[3]=(a[3]||a[4]||a[5]||"").replace(ha,ia);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===
a[1].slice(0,3)?(a[3]||e.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&e.error(a[0]);return a},PSEUDO:function(a){var e,c=!a[6]&&a[2];if(ka.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&Ra.test(c)&&(e=Ia(c,!0))&&(e=c.indexOf(")",c.length-e)-c.length)&&(a[0]=a[0].slice(0,e),a[2]=c.slice(0,e));return a.slice(0,3)}},filter:{TAG:function(a){var e=a.replace(ha,ia).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&
a.nodeName.toLowerCase()===e}},CLASS:function(a){var e=Z[a+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),Z(a,function(a){return e.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,c,h){return function(f){f=e.attr(f,a);if(null==f)return"!="===c;if(!c)return!0;f+="";return"="===c?f===h:"!="===c?f!==h:"^="===c?h&&0===f.indexOf(h):"*="===c?h&&-1<f.indexOf(h):"$="===c?h&&f.slice(-h.length)===
h:"~="===c?-1<(" "+f+" ").indexOf(h):"|="===c?f===h||f.slice(0,h.length+1)===h+"-":!1}},CHILD:function(a,e,c,h,f){var r="nth"!==a.slice(0,3),d="last"!==a.slice(-4),t="of-type"===e;return 1===h&&0===f?function(d){return!!d.parentNode}:function(e,c,b){var B;c=r!==d?"nextSibling":"previousSibling";var W=e.parentNode,g=t&&e.nodeName.toLowerCase();b=!b&&!t;if(W){if(r){for(;c;){for(B=e;B=B[c];)if(t?B.nodeName.toLowerCase()===g:1===B.nodeType)return!1;var Bc=c="only"===a&&!Bc&&"nextSibling"}return!0}Bc=
[d?W.firstChild:W.lastChild];if(d&&b){b=W[E]||(W[E]={});var n=b[a]||[];var J=n[0]===F&&n[1];var q=n[0]===F&&n[2];for(B=J&&W.childNodes[J];B=++J&&B&&B[c]||(q=J=0)||Bc.pop();)if(1===B.nodeType&&++q&&B===e){b[a]=[F,J,q];break}}else if(b&&(n=(e[E]||(e[E]={}))[a])&&n[0]===F)q=n[1];else for(;(B=++J&&B&&B[c]||(q=J=0)||Bc.pop())&&((t?B.nodeName.toLowerCase()!==g:1!==B.nodeType)||!++q||(b&&((B[E]||(B[E]={}))[a]=[F,q]),B!==e)););q-=f;return q===h||0===q%h&&0<=q/h}}},PSEUDO:function(a,c){var h=X.pseudos[a]||
X.setFilters[a.toLowerCase()]||e.error("unsupported pseudo: "+a);if(h[E])return h(c);if(1<h.length){var r=[a,a,"",c];return X.setFilters.hasOwnProperty(a.toLowerCase())?f(function(a,e){for(var d,t=h(a,c),B=t.length;B--;)d=R.call(a,t[B]),a[d]=!(e[d]=t[B])}):function(a){return h(a,0,r)}}return h}},pseudos:{not:f(function(a){var e=[],c=[],h=va(a.replace(da,"$1"));return h[E]?f(function(a,e,d,t){t=h(a,null,t,[]);for(var B=a.length;B--;)if(d=t[B])a[B]=!(e[B]=d)}):function(a,f,d){e[0]=a;h(e,null,d,c);return!c.pop()}}),
has:f(function(a){return function(c){return 0<e(a,c).length}}),contains:f(function(a){return function(e){return-1<(e.textContent||e.innerText||sa(e)).indexOf(a)}}),lang:f(function(a){Aa.test(a||"")||e.error("unsupported lang: "+a);a=a.replace(ha,ia).toLowerCase();return function(e){var c;do if(c=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var c=a.location&&a.location.hash;
return c&&c.slice(1)===e.id},root:function(a){return a===C},focus:function(a){return a===aa.activeElement&&(!aa.hasFocus||aa.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var e=a.nodeName.toLowerCase();return"input"===e&&!!a.checked||"option"===e&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>
a.nodeType)return!1;return!0},parent:function(a){return!X.pseudos.empty(a)},header:function(a){return Yb.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var e=a.nodeName.toLowerCase();return"input"===e&&"button"===a.type||"button"===e},text:function(a){var e;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(e=a.getAttribute("type"))||"text"===e.toLowerCase())},first:w(function(){return[0]}),last:w(function(a,e){return[e-1]}),eq:w(function(a,e,c){return[0>
c?c+e:c]}),even:w(function(a,e){for(var c=0;c<e;c+=2)a.push(c);return a}),odd:w(function(a,e){for(var c=1;c<e;c+=2)a.push(c);return a}),lt:w(function(a,e,c){for(e=0>c?c+e:c;0<=--e;)a.push(e);return a}),gt:w(function(a,e,c){for(c=0>c?c+e:c;++c<e;)a.push(c);return a})}};X.pseudos.nth=X.pseudos.eq;for(qa in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})X.pseudos[qa]=q(qa);for(qa in{submit:!0,reset:!0})X.pseudos[qa]=k(qa);m.prototype=X.filters=X.pseudos;X.setFilters=new m;var Ia=e.tokenize=function(a,
c){var h,f,r,b,d;if(b=nb[a+" "])return c?0:b.slice(0);b=a;var t=[];for(d=X.preFilter;b;){if(!B||(h=ja.exec(b)))h&&(b=b.slice(h[0].length)||b),t.push(f=[]);var B=!1;if(h=Oa.exec(b))B=h.shift(),f.push({value:B,type:h[0].replace(da," ")}),b=b.slice(B.length);for(r in X.filter)!(h=ka[r].exec(b))||d[r]&&!(h=d[r](h))||(B=h.shift(),f.push({value:B,type:r,matches:h}),b=b.slice(B.length));if(!B)break}return c?b.length:b?e.error(a):nb(a,t).slice(0)};var va=e.compile=function(a,e){var c,h=[],f=[],r=P[a+" "];
if(!r){e||(e=Ia(a));for(c=e.length;c--;)r=v(e[c]),r[E]?h.push(r):f.push(r);r=P(a,oa(f,h));r.selector=a}return r};var wa=e.select=function(a,e,c,h){var f,r,d,t="function"===typeof a&&a,B=!h&&Ia(a=t.selector||a);c=c||[];if(1===B.length){var W=B[0]=B[0].slice(0);if(2<W.length&&"ID"===(r=W[0]).type&&ma.getById&&9===e.nodeType&&D&&X.relative[W[1].type]){e=(X.find.ID(r.matches[0].replace(ha,ia),e)||[])[0];if(!e)return c;t&&(e=e.parentNode);a=a.slice(W.shift().value.length)}for(f=ka.needsContext.test(a)?
0:W.length;f--;){r=W[f];if(X.relative[d=r.type])break;if(d=X.find[d])if(h=d(r.matches[0].replace(ha,ia),ib.test(W[0].type)&&l(e.parentNode)||e)){W.splice(f,1);a=h.length&&p(W);if(!a)return O.apply(c,h),c;break}}}(t||va(a,B))(h,e,!D,c,ib.test(a)&&l(e.parentNode)||e);return c};ma.sortStable=E.split("").sort(T).join("")===E;ma.detectDuplicates=!!na;ua();ma.sortDetached=b(function(a){return a.compareDocumentPosition(aa.createElement("div"))&1});b(function(a){a.innerHTML="<a href='#'></a>";return"#"===
a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,e,c){if(!c)return a.getAttribute(e,"type"===e.toLowerCase()?1:2)});ma.attributes&&b(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||g("value",function(a,e,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});b(function(a){return null==a.getAttribute("disabled")})||g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(a,e,c){var h;if(!c)return!0===a[e]?e.toLowerCase():(h=a.getAttributeNode(e))&&h.specified?h.value:null});return e}(b);c.find=Za;c.expr=Za.selectors;c.expr[":"]=c.expr.pseudos;c.unique=Za.uniqueSort;c.text=Za.getText;c.isXMLDoc=Za.isXML;c.contains=Za.contains;var Ga=c.expr.match.needsContext,tb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,T=/^.[^:#\[\.,]*$/;c.filter=function(a,e,h){var f=e[0];h&&(a=":not("+a+")");return 1===e.length&&1===f.nodeType?c.find.matchesSelector(f,a)?[f]:[]:c.find.matches(a,c.grep(e,
function(a){return 1===a.nodeType}))};c.fn.extend({find:function(a){var e,h=[],f=this,b=f.length;if("string"!==typeof a)return this.pushStack(c(a).filter(function(){for(e=0;e<b;e++)if(c.contains(f[e],this))return!0}));for(e=0;e<b;e++)c.find(a,f[e],h);h=this.pushStack(1<b?c.unique(h):h);h.selector=this.selector?this.selector+" "+a:a;return h},filter:function(a){return this.pushStack(v(this,a||[],!1))},not:function(a){return this.pushStack(v(this,a||[],!0))},is:function(a){return!!v(this,"string"===
typeof a&&Ga.test(a)?c(a):a||[],!1).length}});var A=b.document,Ba=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(c.fn.init=function(a,e){var h;if(!a)return this;if("string"===typeof a){var f="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Ba.exec(a);if(!f||!f[1]&&e)return!e||e.jquery?(e||$a).find(a):this.constructor(e).find(a);if(f[1]){if(e=e instanceof c?e[0]:e,c.merge(this,c.parseHTML(f[1],e&&e.nodeType?e.ownerDocument||e:A,!0)),tb.test(f[1])&&c.isPlainObject(e))for(f in e)if(c.isFunction(this[f]))this[f](e[f]);
else this.attr(f,e[f])}else{if((h=A.getElementById(f[2]))&&h.parentNode){if(h.id!==f[2])return $a.find(a);this.length=1;this[0]=h}this.context=A;this.selector=a}return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(c.isFunction(a))return"undefined"!==typeof $a.ready?$a.ready(a):a(c);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return c.makeArray(a,this)}).prototype=c.fn;var $a=c(A);var Ca=/^(?:parents|prev(?:Until|All))/,ub={children:!0,contents:!0,
next:!0,prev:!0};c.extend({dir:function(a,e,h){var f=[];for(a=a[e];a&&9!==a.nodeType&&(void 0===h||1!==a.nodeType||!c(a).is(h));)1===a.nodeType&&f.push(a),a=a[e];return f},sibling:function(a,e){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==e&&c.push(a);return c}});c.fn.extend({has:function(a){var e,h=c(a,this),f=h.length;return this.filter(function(){for(e=0;e<f;e++)if(c.contains(this,h[e]))return!0})},closest:function(a,e){for(var h,f=0,b=this.length,g=[],n=Ga.test(a)||"string"!==typeof a?c(a,
e||this.context):0;f<b;f++)for(h=this[f];h&&h!==e;h=h.parentNode)if(11>h.nodeType&&(n?-1<n.index(h):1===h.nodeType&&c.find.matchesSelector(h,a))){g.push(h);break}return this.pushStack(1<g.length?c.unique(g):g)},index:function(a){return a?"string"===typeof a?c.inArray(this[0],c(a)):c.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,e){return this.pushStack(c.unique(c.merge(this.get(),c(a,e))))},addBack:function(a){return this.add(null==a?this.prevObject:
this.prevObject.filter(a))}});c.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,e,h){return c.dir(a,"parentNode",h)},next:function(a){return p(a,"nextSibling")},prev:function(a){return p(a,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,e,h){return c.dir(a,"nextSibling",h)},prevUntil:function(a,e,h){return c.dir(a,
"previousSibling",h)},siblings:function(a){return c.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.merge([],a.childNodes)}},function(a,e){c.fn[a]=function(h,f){var r=c.map(this,e,h);"Until"!==a.slice(-5)&&(f=h);f&&"string"===typeof f&&(r=c.filter(f,r));1<this.length&&(ub[a]||(r=c.unique(r)),Ca.test(a)&&(r=r.reverse()));return this.pushStack(r)}});var I=/\S+/g,
da={};c.Callbacks=function(a){a="string"===typeof a?da[a]||E(a):c.extend({},a);var e,h,f,b,g,n,q=[],k=!a.once&&[],w=function(c){h=a.memory&&c;f=!0;g=n||0;n=0;b=q.length;for(e=!0;q&&g<b;g++)if(!1===q[g].apply(c[0],c[1])&&a.stopOnFalse){h=!1;break}e=!1;q&&(k?k.length&&w(k.shift()):h?q=[]:l.disable())},l={add:function(){if(q){var f=q.length;(function nc(e){c.each(e,function(e,h){var f=c.type(h);"function"===f?a.unique&&l.has(h)||q.push(h):h&&h.length&&"string"!==f&&nc(h)})})(arguments);e?b=q.length:
h&&(n=f,w(h))}return this},remove:function(){q&&c.each(arguments,function(a,h){for(var f;-1<(f=c.inArray(h,q,f));)q.splice(f,1),e&&(f<=b&&b--,f<=g&&g--)});return this},has:function(a){return a?-1<c.inArray(a,q):!(!q||!q.length)},empty:function(){q=[];b=0;return this},disable:function(){q=k=h=void 0;return this},disabled:function(){return!q},lock:function(){k=void 0;h||l.disable();return this},locked:function(){return!k},fireWith:function(a,c){!q||f&&!k||(c=c||[],c=[a,c.slice?c.slice():c],e?k.push(c):
w(c));return this},fire:function(){l.fireWith(this,arguments);return this},fired:function(){return!!f}};return l};c.extend({Deferred:function(a){var e=[["resolve","done",c.Callbacks("once memory"),"resolved"],["reject","fail",c.Callbacks("once memory"),"rejected"],["notify","progress",c.Callbacks("memory")]],h="pending",f={state:function(){return h},always:function(){b.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return c.Deferred(function(h){c.each(e,function(e,r){var g=
c.isFunction(a[e])&&a[e];b[r[1]](function(){var a=g&&g.apply(this,arguments);if(a&&c.isFunction(a.promise))a.promise().done(h.resolve).fail(h.reject).progress(h.notify);else h[r[0]+"With"](this===f?h.promise():this,g?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?c.extend(a,f):f}},b={};f.pipe=f.then;c.each(e,function(a,c){var r=c[2],g=c[3];f[c[1]]=r.add;g&&r.add(function(){h=g},e[a^1][2].disable,e[2][2].lock);b[c[0]]=function(){b[c[0]+"With"](this===b?f:this,arguments);
return this};b[c[0]+"With"]=r.fireWith});f.promise(b);a&&a.call(b,b);return b},when:function(a){var e=0,h=H.call(arguments),f=h.length,b=1!==f||a&&c.isFunction(a.promise)?f:0,g=1===b?a:c.Deferred(),n=function(a,e,c){return function(h){e[a]=this;c[a]=1<arguments.length?H.call(arguments):h;c===k?g.notifyWith(e,c):--b||g.resolveWith(e,c)}},q;if(1<f){var k=Array(f);var w=Array(f);for(q=Array(f);e<f;e++)h[e]&&c.isFunction(h[e].promise)?h[e].promise().done(n(e,q,h)).fail(g.reject).progress(n(e,w,k)):--b}b||
g.resolveWith(q,h);return g.promise()}});var Ja;c.fn.ready=function(a){c.ready.promise().done(a);return this};c.extend({isReady:!1,readyWait:1,holdReady:function(a){a?c.readyWait++:c.ready(!0)},ready:function(a){if(!0===a?!--c.readyWait:!c.isReady){if(!A.body)return setTimeout(c.ready);c.isReady=!0;!0!==a&&0<--c.readyWait||(Ja.resolveWith(A,[c]),c.fn.triggerHandler&&(c(A).triggerHandler("ready"),c(A).off("ready")))}}});c.ready.promise=function(a){if(!Ja)if(Ja=c.Deferred(),"complete"===A.readyState)setTimeout(c.ready);
else if(A.addEventListener)A.addEventListener("DOMContentLoaded",D,!1),b.addEventListener("load",D,!1);else{A.attachEvent("onreadystatechange",D);b.attachEvent("onload",D);var e=!1;try{e=null==b.frameElement&&A.documentElement}catch(h){}e&&e.doScroll&&function r(){if(!c.isReady){try{e.doScroll("left")}catch(J){return setTimeout(r,50)}C();c.ready()}}()}return Ja.promise(a)};for(var lb in c(z))break;z.ownLast="0"!==lb;z.inlineBlockNeedsLayout=!1;c(function(){var a;if((a=A.getElementsByTagName("body")[0])&&
a.style){var e=A.createElement("div");var c=A.createElement("div");c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";a.appendChild(c).appendChild(e);"undefined"!==typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",z.inlineBlockNeedsLayout=e=3===e.offsetWidth)&&(a.style.zoom=1);a.removeChild(c)}});(function(){var a=A.createElement("div");if(null==z.deleteExpando){z.deleteExpando=!0;try{delete a.test}catch(e){z.deleteExpando=
!1}}})();c.acceptData=function(a){var e=c.noData[(a.nodeName+" ").toLowerCase()],h=+a.nodeType||1;return 1!==h&&9!==h?!1:!e||!0!==e&&a.getAttribute("classid")===e};var wa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nb=/([A-Z])/g;c.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?c.cache[a[c.expando]]:a[c.expando];return!!a&&!R(a)},data:function(a,e,c){return K(a,e,c)},removeData:function(a,e){return S(a,e)},_data:function(a,
e,c){return K(a,e,c,!0)},_removeData:function(a,e){return S(a,e,!0)}});c.fn.extend({data:function(a,e){var h,f=this[0],b=f&&f.attributes;if(void 0===a){if(this.length){var g=c.data(f);if(1===f.nodeType&&!c._data(f,"parsedAttrs")){for(h=b.length;h--;)if(b[h]){var n=b[h].name;0===n.indexOf("data-")&&(n=c.camelCase(n.slice(5)),Z(f,n,g[n]))}c._data(f,"parsedAttrs",!0)}}return g}return"object"===typeof a?this.each(function(){c.data(this,a)}):1<arguments.length?this.each(function(){c.data(this,a,e)}):f?
Z(f,a,c.data(f,a)):void 0},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({queue:function(a,e,h){if(a){e=(e||"fx")+"queue";var f=c._data(a,e);h&&(!f||c.isArray(h)?f=c._data(a,e,c.makeArray(h)):f.push(h));return f||[]}},dequeue:function(a,e){e=e||"fx";var h=c.queue(a,e),f=h.length,b=h.shift(),g=c._queueHooks(a,e),n=function(){c.dequeue(a,e)};"inprogress"===b&&(b=h.shift(),f--);b&&("fx"===e&&h.unshift("inprogress"),delete g.stop,b.call(a,n,g));!f&&g&&g.empty.fire()},
_queueHooks:function(a,e){var h=e+"queueHooks";return c._data(a,h)||c._data(a,h,{empty:c.Callbacks("once memory").add(function(){c._removeData(a,e+"queue");c._removeData(a,h)})})}});c.fn.extend({queue:function(a,e){var h=2;"string"!==typeof a&&(e=a,a="fx",h--);return arguments.length<h?c.queue(this[0],a):void 0===e?this:this.each(function(){var h=c.queue(this,a,e);c._queueHooks(this,a);"fx"===a&&"inprogress"!==h[0]&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,
a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,e){var h,f=1,b=c.Deferred(),g=this,n=this.length,q=function(){--f||b.resolveWith(g,[g])};"string"!==typeof a&&(e=a,a=void 0);for(a=a||"fx";n--;)(h=c._data(g[n],a+"queueHooks"))&&h.empty&&(f++,h.empty.add(q));q();return b.promise(e)}});var ka=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ea=["Top","Right","Bottom","Left"],Ha=function(a,e){a=e||a;return"none"===c.css(a,"display")||!c.contains(a.ownerDocument,a)},Va=c.access=
function(a,e,h,f,b,g,n){var r=0,q=a.length,J=null==h;if("object"===c.type(h))for(r in b=!0,h)c.access(a,e,r,h[r],!0,g,n);else if(void 0!==f&&(b=!0,c.isFunction(f)||(n=!0),J&&(n?(e.call(a,f),e=null):(J=e,e=function(a,e,h){return J.call(c(a),h)})),e))for(;r<q;r++)e(a[r],h,n?f:f.call(a[r],r,e(a[r],h)));return b?a:J?e.call(a):q?e(a[0],h):g},sa=/^(?:checkbox|radio)$/i;(function(){var a=A.createElement("input"),e=A.createElement("div"),c=A.createDocumentFragment();e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
z.leadingWhitespace=3===e.firstChild.nodeType;z.tbody=!e.getElementsByTagName("tbody").length;z.htmlSerialize=!!e.getElementsByTagName("link").length;z.html5Clone="<:nav></:nav>"!==A.createElement("nav").cloneNode(!0).outerHTML;a.type="checkbox";a.checked=!0;c.appendChild(a);z.appendChecked=a.checked;e.innerHTML="<textarea>x</textarea>";z.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue;c.appendChild(e);e.innerHTML="<input type='radio' checked='checked' name='t'/>";z.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked;
z.noCloneEvent=!0;e.attachEvent&&(e.attachEvent("onclick",function(){z.noCloneEvent=!1}),e.cloneNode(!0).click());if(null==z.deleteExpando){z.deleteExpando=!0;try{delete e.test}catch(r){z.deleteExpando=!1}}})();(function(){var a,e=A.createElement("div");for(a in{submit:!0,change:!0,focusin:!0}){var c="on"+a;(z[a+"Bubbles"]=c in b)||(e.setAttribute(c,"t"),z[a+"Bubbles"]=!1===e.attributes[c].expando)}})();var eb=/^(?:input|select|textarea)$/i,Ub=/^key/,Gb=/^(?:mouse|pointer|contextmenu)|click/,Hb=/^(?:focusinfocus|focusoutblur)$/,
Vb=/^([^.]*)(?:\.(.+)|)$/;c.event={global:{},add:function(a,e,h,f,b){var r,g,n,q,J;if(g=c._data(a)){if(h.handler){var k=h;h=k.handler;b=k.selector}h.guid||(h.guid=c.guid++);(r=g.events)||(r=g.events={});(n=g.handle)||(n=g.handle=function(a){return"undefined"===typeof c||a&&c.event.triggered===a.type?void 0:c.event.dispatch.apply(n.elem,arguments)},n.elem=a);e=(e||"").match(I)||[""];for(g=e.length;g--;){var w=Vb.exec(e[g])||[];var l=q=w[1];var m=(w[2]||"").split(".").sort();l&&(w=c.event.special[l]||
{},l=(b?w.delegateType:w.bindType)||l,w=c.event.special[l]||{},q=c.extend({type:l,origType:q,data:f,handler:h,guid:h.guid,selector:b,needsContext:b&&c.expr.match.needsContext.test(b),namespace:m.join(".")},k),(J=r[l])||(J=r[l]=[],J.delegateCount=0,w.setup&&!1!==w.setup.call(a,f,m,n)||(a.addEventListener?a.addEventListener(l,n,!1):a.attachEvent&&a.attachEvent("on"+l,n))),w.add&&(w.add.call(a,q),q.handler.guid||(q.handler.guid=h.guid)),b?J.splice(J.delegateCount++,0,q):J.push(q),c.event.global[l]=!0)}a=
null}},remove:function(a,e,h,f,b){var r,g,n,q,J,k=c.hasData(a)&&c._data(a);if(k&&(q=k.events)){e=(e||"").match(I)||[""];for(n=e.length;n--;){var w=Vb.exec(e[n])||[];var l=J=w[1];var m=(w[2]||"").split(".").sort();if(l){var p=c.event.special[l]||{};l=(f?p.delegateType:p.bindType)||l;var N=q[l]||[];w=w[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=r=N.length;r--;){var xa=N[r];!b&&J!==xa.origType||h&&h.guid!==xa.guid||w&&!w.test(xa.namespace)||f&&f!==xa.selector&&("**"!==f||!xa.selector)||
(N.splice(r,1),xa.selector&&N.delegateCount--,p.remove&&p.remove.call(a,xa))}g&&!N.length&&(p.teardown&&!1!==p.teardown.call(a,m,k.handle)||c.removeEvent(a,l,k.handle),delete q[l])}else for(l in q)c.event.remove(a,l+e[n],h,f,!0)}c.isEmptyObject(q)&&(delete k.handle,c._removeData(a,"events"))}},trigger:function(a,e,h,f){var r,g,n=[h||A],q=Aa.call(a,"type")?a.type:a;var k=Aa.call(a,"namespace")?a.namespace.split("."):[];var w=r=h=h||A;if(3!==h.nodeType&&8!==h.nodeType&&!Hb.test(q+c.event.triggered)){0<=
q.indexOf(".")&&(k=q.split("."),q=k.shift(),k.sort());var l=0>q.indexOf(":")&&"on"+q;a=a[c.expando]?a:new c.Event(q,"object"===typeof a&&a);a.isTrigger=f?2:3;a.namespace=k.join(".");a.namespace_re=a.namespace?new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;a.result=void 0;a.target||(a.target=h);e=null==e?[a]:c.makeArray(e,[a]);k=c.event.special[q]||{};if(f||!k.trigger||!1!==k.trigger.apply(h,e)){if(!f&&!k.noBubble&&!c.isWindow(h)){var m=k.delegateType||q;Hb.test(m+q)||(w=w.parentNode);
for(;w;w=w.parentNode)n.push(w),r=w;r===(h.ownerDocument||A)&&n.push(r.defaultView||r.parentWindow||b)}for(g=0;(w=n[g++])&&!a.isPropagationStopped();)a.type=1<g?m:k.bindType||q,(r=(c._data(w,"events")||{})[a.type]&&c._data(w,"handle"))&&r.apply(w,e),(r=l&&w[l])&&r.apply&&c.acceptData(w)&&(a.result=r.apply(w,e),!1===a.result&&a.preventDefault());a.type=q;if(!(f||a.isDefaultPrevented()||k._default&&!1!==k._default.apply(n.pop(),e))&&c.acceptData(h)&&l&&h[q]&&!c.isWindow(h)){(r=h[l])&&(h[l]=null);c.event.triggered=
q;try{h[q]()}catch(cc){}c.event.triggered=void 0;r&&(h[l]=r)}return a.result}}},dispatch:function(a){a=c.event.fix(a);var e,h,f,b=H.call(arguments);var g=(c._data(this,"events")||{})[a.type]||[];var n=c.event.special[a.type]||{};b[0]=a;a.delegateTarget=this;if(!n.preDispatch||!1!==n.preDispatch.call(this,a)){var q=c.event.handlers.call(this,a,g);for(g=0;(h=q[g++])&&!a.isPropagationStopped();)for(a.currentTarget=h.elem,f=0;(e=h.handlers[f++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||
a.namespace_re.test(e.namespace))a.handleObj=e,a.data=e.data,e=((c.event.special[e.origType]||{}).handle||e.handler).apply(h.elem,b),void 0!==e&&!1===(a.result=e)&&(a.preventDefault(),a.stopPropagation());n.postDispatch&&n.postDispatch.call(this,a);return a.result}},handlers:function(a,e){var f,b=[],g=e.delegateCount,n=a.target;if(g&&n.nodeType&&(!a.button||"click"!==a.type))for(;n!=this;n=n.parentNode||this)if(1===n.nodeType&&(!0!==n.disabled||"click"!==a.type)){var q=[];for(f=0;f<g;f++){var k=e[f];
var w=k.selector+" ";void 0===q[w]&&(q[w]=k.needsContext?0<=c(w,this).index(n):c.find(w,this,null,[n]).length);q[w]&&q.push(k)}q.length&&b.push({elem:n,handlers:q})}g<e.length&&b.push({elem:this,handlers:e.slice(g)});return b},fix:function(a){if(a[c.expando])return a;var e=a.type;var f=a,b=this.fixHooks[e];b||(this.fixHooks[e]=b=Gb.test(e)?this.mouseHooks:Ub.test(e)?this.keyHooks:{});var g=b.props?this.props.concat(b.props):this.props;a=new c.Event(f);for(e=g.length;e--;){var n=g[e];a[n]=f[n]}a.target||
(a.target=f.srcElement||A);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return b.filter?b.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,e){null==a.which&&(a.which=null!=e.charCode?e.charCode:e.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(a,e){var c=e.button,f=e.fromElement;if(null==a.pageX&&null!=e.clientX){var b=a.target.ownerDocument||A;var g=b.documentElement;b=b.body;a.pageX=e.clientX+(g&&g.scrollLeft||b&&b.scrollLeft||0)-(g&&g.clientLeft||b&&b.clientLeft||0);a.pageY=e.clientY+(g&&g.scrollTop||b&&b.scrollTop||0)-(g&&g.clientTop||b&&b.clientTop||0)}!a.relatedTarget&&f&&(a.relatedTarget=f===a.target?e.toElement:f);a.which||void 0===c||(a.which=c&1?1:c&2?3:c&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==
fb()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===fb()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(c.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return c.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,e,f,b){a=c.extend(new c.Event,
f,{type:a,isSimulated:!0,originalEvent:{}});b?c.event.trigger(a,null,e):c.event.dispatch.call(e,a);a.isDefaultPrevented()&&f.preventDefault()}};c.removeEvent=A.removeEventListener?function(a,e,c){a.removeEventListener&&a.removeEventListener(e,c,!1)}:function(a,e,c){e="on"+e;a.detachEvent&&("undefined"===typeof a[e]&&(a[e]=null),a.detachEvent(e,c))};c.Event=function(a,e){if(!(this instanceof c.Event))return new c.Event(a,e);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||
void 0===a.defaultPrevented&&!1===a.returnValue?ha:Ea):this.type=a;e&&c.extend(this,e);this.timeStamp=a&&a.timeStamp||c.now();this[c.expando]=!0};c.Event.prototype={isDefaultPrevented:Ea,isPropagationStopped:Ea,isImmediatePropagationStopped:Ea,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ha;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ha;a&&(a.stopPropagation&&a.stopPropagation(),
a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ha;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};c.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,e){c.event.special[a]={delegateType:e,bindType:e,handle:function(a){var f=a.relatedTarget,h=a.handleObj;if(!f||f!==this&&!c.contains(this,f)){a.type=h.origType;var b=h.handler.apply(this,
arguments);a.type=e}return b}}});z.submitBubbles||(c.event.special.submit={setup:function(){if(c.nodeName(this,"form"))return!1;c.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=c.nodeName(a,"input")||c.nodeName(a,"button")?a.form:void 0)&&!c._data(a,"submitBubbles")&&(c.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),c._data(a,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&c.event.simulate("submit",
this.parentNode,a,!0))},teardown:function(){if(c.nodeName(this,"form"))return!1;c.event.remove(this,"._submit")}});z.changeBubbles||(c.event.special.change={setup:function(){if(eb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)c.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),c.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);c.event.simulate("change",this,
a,!0)});return!1}c.event.add(this,"beforeactivate._change",function(a){a=a.target;eb.test(a.nodeName)&&!c._data(a,"changeBubbles")&&(c.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||c.event.simulate("change",this.parentNode,a,!0)}),c._data(a,"changeBubbles",!0))})},handle:function(a){var e=a.target;if(this!==e||a.isSimulated||a.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){c.event.remove(this,
"._change");return!eb.test(this.nodeName)}});z.focusinBubbles||c.each({focus:"focusin",blur:"focusout"},function(a,e){var f=function(a){c.event.simulate(e,a.target,c.event.fix(a),!0)};c.event.special[e]={setup:function(){var h=this.ownerDocument||this,b=c._data(h,e);b||h.addEventListener(a,f,!0);c._data(h,e,(b||0)+1)},teardown:function(){var h=this.ownerDocument||this,b=c._data(h,e)-1;b?c._data(h,e,b):(h.removeEventListener(a,f,!0),c._removeData(h,e))}}});c.fn.extend({on:function(a,e,f,b,g){var h;
if("object"===typeof a){"string"!==typeof e&&(f=f||e,e=void 0);for(h in a)this.on(h,e,f,a[h],g);return this}null==f&&null==b?(b=e,f=e=void 0):null==b&&("string"===typeof e?(b=f,f=void 0):(b=f,f=e,e=void 0));if(!1===b)b=Ea;else if(!b)return this;if(1===g){var r=b;b=function(a){c().off(a);return r.apply(this,arguments)};b.guid=r.guid||(r.guid=c.guid++)}return this.each(function(){c.event.add(this,a,b,f,e)})},one:function(a,e,c,f){return this.on(a,e,c,f,1)},off:function(a,e,f){if(a&&a.preventDefault&&
a.handleObj){var h=a.handleObj;c(a.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler);return this}if("object"===typeof a){for(h in a)this.off(h,e,a[h]);return this}if(!1===e||"function"===typeof e)f=e,e=void 0;!1===f&&(f=Ea);return this.each(function(){c.event.remove(this,a,f,e)})},trigger:function(a,e){return this.each(function(){c.event.trigger(a,e,this)})},triggerHandler:function(a,e){var f=this[0];if(f)return c.event.trigger(a,e,f,!0)}});var bc="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
mb=/ jQuery\d+="(?:null|\d+)"/g,ta=new RegExp("<(?:"+bc+")[\\s/>]","i"),Wa=/^\s+/,Ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wb=/<([\w:]+)/,ab=/<tbody/i,hc=/<|&#?\w+;/,La=/<(?:script|style|link)/i,vb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ib=/^$|\/(?:java|ecma)script/i,Ob=/^true\/(.*)/,wb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ra={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>",
"</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:z.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Da=gb(A).appendChild(A.createElement("div"));ra.optgroup=ra.option;ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead;ra.th=ra.td;c.extend({clone:function(a,e,f){var h,b,g=c.contains(a.ownerDocument,a);if(z.html5Clone||c.isXMLDoc(a)||!ta.test("<"+
a.nodeName+">"))var n=a.cloneNode(!0);else Da.innerHTML=a.outerHTML,Da.removeChild(n=Da.firstChild);if(!(z.noCloneEvent&&z.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||c.isXMLDoc(a))){var q=P(n);var k=P(a);for(b=0;null!=(h=k[b]);++b)if(q[b]){var w=void 0,l=h,m=q[b];if(1===m.nodeType){var p=m.nodeName.toLowerCase();if(!z.noCloneEvent&&m[c.expando]){h=c._data(m);for(w in h.events)c.removeEvent(m,w,h.handle);m.removeAttribute(c.expando)}if("script"===p&&m.text!==l.text)hb(m).text=l.text,G(m);else if("object"===
p)m.parentNode&&(m.outerHTML=l.outerHTML),z.html5Clone&&l.innerHTML&&!c.trim(m.innerHTML)&&(m.innerHTML=l.innerHTML);else if("input"===p&&sa.test(l.type))m.defaultChecked=m.checked=l.checked,m.value!==l.value&&(m.value=l.value);else if("option"===p)m.defaultSelected=m.selected=l.defaultSelected;else if("input"===p||"textarea"===p)m.defaultValue=l.defaultValue}}}if(e)if(f)for(k=k||P(a),q=q||P(n),b=0;null!=(h=k[b]);b++)O(h,q[b]);else O(a,n);q=P(n,"script");0<q.length&&F(q,!g&&P(a,"script"));return n},
buildFragment:function(a,e,f,b){for(var h,g,r,n,q,k,w=a.length,l=gb(e),m=[],p=0;p<w;p++)if((g=a[p])||0===g)if("object"===c.type(g))c.merge(m,g.nodeType?[g]:g);else if(hc.test(g)){r=r||l.appendChild(e.createElement("div"));n=(Wb.exec(g)||["",""])[1].toLowerCase();k=ra[n]||ra._default;r.innerHTML=k[1]+g.replace(Ka,"<$1></$2>")+k[2];for(h=k[0];h--;)r=r.lastChild;!z.leadingWhitespace&&Wa.test(g)&&m.push(e.createTextNode(Wa.exec(g)[0]));if(!z.tbody)for(h=(g="table"!==n||ab.test(g)?"<table>"!==k[1]||ab.test(g)?
0:r:r.firstChild)&&g.childNodes.length;h--;)c.nodeName(q=g.childNodes[h],"tbody")&&!q.childNodes.length&&g.removeChild(q);c.merge(m,r.childNodes);for(r.textContent="";r.firstChild;)r.removeChild(r.firstChild);r=l.lastChild}else m.push(e.createTextNode(g));r&&l.removeChild(r);z.appendChecked||c.grep(P(m,"input"),Fa);for(p=0;g=m[p++];)if(!b||-1===c.inArray(g,b))if(a=c.contains(g.ownerDocument,g),r=P(l.appendChild(g),"script"),a&&F(r),f)for(h=0;g=r[h++];)Ib.test(g.type||"")&&f.push(g);return l},cleanData:function(a,
e){for(var f,b,g,n,q=0,k=c.expando,w=c.cache,l=z.deleteExpando,m=c.event.special;null!=(f=a[q]);q++)if(e||c.acceptData(f))if(n=(g=f[k])&&w[g]){if(n.events)for(b in n.events)m[b]?c.event.remove(f,b):c.removeEvent(f,b,n.handle);w[g]&&(delete w[g],l?delete f[k]:"undefined"!==typeof f.removeAttribute?f.removeAttribute(k):f[k]=null,ua.push(g))}}});c.fn.extend({text:function(a){return Va(this,function(a){return void 0===a?c.text(this):this.empty().append((this[0]&&this[0].ownerDocument||A).createTextNode(a))},
null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ia(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=ia(this,a);e.insertBefore(a,e.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,e){for(var f,b=a?c.filter(a,this):this,g=0;null!=(f=b[g]);g++)e||1!==f.nodeType||c.cleanData(P(f)),f.parentNode&&(e&&c.contains(f.ownerDocument,f)&&F(P(f,"script")),f.parentNode.removeChild(f));return this},empty:function(){for(var a,e=0;null!=(a=this[e]);e++){for(1===a.nodeType&&c.cleanData(P(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&c.nodeName(a,"select")&&(a.options.length=0)}return this},
clone:function(a,e){a=null==a?!1:a;e=null==e?a:e;return this.map(function(){return c.clone(this,a,e)})},html:function(a){return Va(this,function(a){var e=this[0]||{},f=0,b=this.length;if(void 0===a)return 1===e.nodeType?e.innerHTML.replace(mb,""):void 0;if(!("string"!==typeof a||La.test(a)||!z.htmlSerialize&&ta.test(a)||!z.leadingWhitespace&&Wa.test(a)||ra[(Wb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Ka,"<$1></$2>");try{for(;f<b;f++)e=this[f]||{},1===e.nodeType&&(c.cleanData(P(e,!1)),e.innerHTML=
a);e=0}catch(Y){}}e&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];this.domManip(arguments,function(e){a=this.parentNode;c.cleanData(P(this));a&&a.replaceChild(e,this)});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,e){a=fa.apply([],a);var f,b=0,g=this.length,n=this,q=g-1,k=a[0],w=c.isFunction(k);if(w||1<g&&"string"===typeof k&&!z.checkClone&&vb.test(k))return this.each(function(c){var f=
n.eq(c);w&&(a[0]=k.call(this,c,f.html()));f.domManip(a,e)});if(g){var l=c.buildFragment(a,this[0].ownerDocument,!1,this);var m=l.firstChild;1===l.childNodes.length&&(l=m);if(m){var p=c.map(P(l,"script"),hb);for(f=p.length;b<g;b++)m=l,b!==q&&(m=c.clone(m,!0,!0),f&&c.merge(p,P(m,"script"))),e.call(this[b],m,b);if(f)for(l=p[p.length-1].ownerDocument,c.map(p,G),b=0;b<f;b++)m=p[b],Ib.test(m.type||"")&&!c._data(m,"globalEval")&&c.contains(l,m)&&(m.src?c._evalUrl&&c._evalUrl(m.src):c.globalEval((m.text||
m.textContent||m.innerHTML||"").replace(wb,"")));l=m=null}}return this}});c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,e){c.fn[a]=function(a){for(var f=0,h=[],b=c(a),g=b.length-1;f<=g;f++)a=f===g?this:this.clone(!0),c(b[f])[e](a),jb.apply(h,a.get());return this.pushStack(h)}});var pb,Pb={};(function(){var a;z.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var e;if((e=A.getElementsByTagName("body")[0])&&e.style){var c=
A.createElement("div");var f=A.createElement("div");f.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";e.appendChild(f).appendChild(c);"undefined"!==typeof c.style.zoom&&(c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",c.appendChild(A.createElement("div")).style.width="5px",a=3!==c.offsetWidth);e.removeChild(f);return a}}})();var Xb=/^margin/,Qa=new RegExp("^("+
ka+")(?!px)[a-z%]+$","i"),f=/^(top|right|bottom|left)$/;if(b.getComputedStyle){var n=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};var q=function(a,e,f){var h=a.style;var b=(f=f||n(a))?f.getPropertyValue(e)||f[e]:void 0;if(f&&(""!==b||c.contains(a.ownerDocument,a)||(b=c.style(a,e)),Qa.test(b)&&Xb.test(e))){a=h.width;e=h.minWidth;var g=h.maxWidth;h.minWidth=h.maxWidth=h.width=b;b=f.width;h.width=a;h.minWidth=e;h.maxWidth=g}return void 0===b?b:b+""}}else A.documentElement.currentStyle&&
(n=function(a){return a.currentStyle},q=function(a,e,c){var h,b,g=a.style;var q=(c=c||n(a))?c[e]:void 0;null==q&&g&&g[e]&&(q=g[e]);if(Qa.test(q)&&!f.test(e)){c=g.left;if(b=(h=a.runtimeStyle)&&h.left)h.left=a.currentStyle.left;g.left="fontSize"===e?"1em":q;q=g.pixelLeft+"px";g.left=c;b&&(h.left=b)}return void 0===q?q:q+""||"auto"});(function(){function a(){var a;if((a=A.getElementsByTagName("body")[0])&&a.style){var e=A.createElement("div");var c=A.createElement("div");c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";
a.appendChild(c).appendChild(e);e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";f=g=!1;q=!0;if(b.getComputedStyle){f="1%"!==(b.getComputedStyle(e,null)||{}).top;g="4px"===(b.getComputedStyle(e,null)||{width:"4px"}).width;var h=e.appendChild(A.createElement("div"));h.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";
h.style.marginRight=h.style.width="0";e.style.width="1px";q=!parseFloat((b.getComputedStyle(h,null)||{}).marginRight)}e.innerHTML="<table><tr><td></td><td>t</td></tr></table>";h=e.getElementsByTagName("td");h[0].style.cssText="margin:0;border:0;padding:0;display:none";if(n=0===h[0].offsetHeight)h[0].style.display="",h[1].style.display="none",n=0===h[0].offsetHeight;a.removeChild(c)}}var e,f,g,n,q;var k=A.createElement("div");k.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
if(e=(e=k.getElementsByTagName("a")[0])&&e.style)e.cssText="float:left;opacity:.5",z.opacity="0.5"===e.opacity,z.cssFloat=!!e.cssFloat,k.style.backgroundClip="content-box",k.cloneNode(!0).style.backgroundClip="",z.clearCloneStyle="content-box"===k.style.backgroundClip,z.boxSizing=""===e.boxSizing||""===e.MozBoxSizing||""===e.WebkitBoxSizing,c.extend(z,{reliableHiddenOffsets:function(){null==n&&a();return n},boxSizingReliable:function(){null==g&&a();return g},pixelPosition:function(){null==f&&a();
return f},reliableMarginRight:function(){null==q&&a();return q}})})();c.swap=function(a,e,c,f){var h,b={};for(h in e)b[h]=a.style[h],a.style[h]=e[h];c=c.apply(a,f||[]);for(h in e)a.style[h]=b[h];return c};var w=/alpha\([^)]*\)/i,xa=/opacity\s*=\s*([^)]*)/,Ma=/^(none|table(?!-c[ea]).+)/,qa=new RegExp("^("+ka+")(.*)$","i"),aa=new RegExp("^([+-])=("+ka+")","i"),na={position:"absolute",visibility:"hidden",display:"block"},nb={letterSpacing:"0",fontWeight:"400"},Oa=["Webkit","O","Moz","ms"];c.extend({cssHooks:{opacity:{get:function(a,
e){if(e){var c=q(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":z.cssFloat?"cssFloat":"styleFloat"},style:function(a,e,f,b){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var h,g=c.camelCase(e),n=a.style;e=c.cssProps[g]||(c.cssProps[g]=Q(n,g));var q=c.cssHooks[e]||c.cssHooks[g];if(void 0!==f){var r=typeof f;"string"===r&&(h=aa.exec(f))&&
(f=(h[1]+1)*h[2]+parseFloat(c.css(a,e)),r="number");if(null!=f&&f===f&&("number"!==r||c.cssNumber[g]||(f+="px"),z.clearCloneStyle||""!==f||0!==e.indexOf("background")||(n[e]="inherit"),!(q&&"set"in q)||void 0!==(f=q.set(a,f,b))))try{n[e]=f}catch(Zc){}}else return q&&"get"in q&&void 0!==(h=q.get(a,!1,b))?h:n[e]}},css:function(a,e,f,b){var h;var g=c.camelCase(e);e=c.cssProps[g]||(c.cssProps[g]=Q(a.style,g));(g=c.cssHooks[e]||c.cssHooks[g])&&"get"in g&&(h=g.get(a,!0,f));void 0===h&&(h=q(a,e,b));"normal"===
h&&e in nb&&(h=nb[e]);return""===f||f?(a=parseFloat(h),!0===f||c.isNumeric(a)?a||0:h):h}});c.each(["height","width"],function(a,e){c.cssHooks[e]={get:function(a,f,b){if(f)return Ma.test(c.css(a,"display"))&&0===a.offsetWidth?c.swap(a,na,function(){return Ya(a,e,b)}):Ya(a,e,b)},set:function(a,f,b){var h=b&&n(a);return ya(a,f,b?Pa(a,e,b,z.boxSizing&&"border-box"===c.css(a,"boxSizing",!1,h),h):0)}}});z.opacity||(c.cssHooks.opacity={get:function(a,e){return xa.test((e&&a.currentStyle?a.currentStyle.filter:
a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(a,e){var f=a.style,b=a.currentStyle,g=c.isNumeric(e)?"alpha(opacity="+100*e+")":"",n=b&&b.filter||f.filter||"";f.zoom=1;if((1<=e||""===e)&&""===c.trim(n.replace(w,""))&&f.removeAttribute&&(f.removeAttribute("filter"),""===e||b&&!b.filter))return;f.filter=w.test(n)?n.replace(w,g):n+" "+g}});c.cssHooks.marginRight=la(z.reliableMarginRight,function(a,e){if(e)return c.swap(a,{display:"inline-block"},q,[a,"marginRight"])});c.each({margin:"",
padding:"",border:"Width"},function(a,e){c.cssHooks[a+e]={expand:function(c){var f=0,h={};for(c="string"===typeof c?c.split(" "):[c];4>f;f++)h[a+ea[f]+e]=c[f]||c[f-2]||c[0];return h}};Xb.test(a)||(c.cssHooks[a+e].set=ya)});c.fn.extend({css:function(a,e){return Va(this,function(a,e,f){var h,b={},g=0;if(c.isArray(e)){f=n(a);for(h=e.length;g<h;g++)b[e[g]]=c.css(a,e[g],!1,f);return b}return void 0!==f?c.style(a,e,f):c.css(a,e)},a,e,1<arguments.length)},show:function(){return M(this,!0)},hide:function(){return M(this)},
toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Ha(this)?c(this).show():c(this).hide()})}});c.Tween=g;g.prototype={constructor:g,init:function(a,e,f,b,g,n){this.elem=a;this.prop=f;this.easing=g||"swing";this.options=e;this.start=this.now=this.cur();this.end=b;this.unit=n||(c.cssNumber[f]?"":"px")},cur:function(){var a=g.propHooks[this.prop];return a&&a.get?a.get(this):g.propHooks._default.get(this)},run:function(a){var e,f=g.propHooks[this.prop];this.pos=
this.options.duration?e=c.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):e=a;this.now=(this.end-this.start)*e+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);f&&f.set?f.set(this):g.propHooks._default.set(this);return this}};g.prototype.init.prototype=g.prototype;g.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=c.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(c.fx.step[a.prop])c.fx.step[a.prop](a);
else a.elem.style&&(null!=a.elem.style[c.cssProps[a.prop]]||c.cssHooks[a.prop])?c.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};g.propHooks.scrollTop=g.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};c.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};c.fx=g.prototype.init;c.fx.step={};var za,xb,Hc=/^(?:toggle|show|hide)$/,Yb=new RegExp("^(?:([+-])=|)("+ka+")([a-z%]*)$","i"),Ic=/queueHooks$/,kc=[function(a,
e,f){var h,b=this,g={},n=a.style,q=a.nodeType&&Ha(a),k=c._data(a,"fxshow");if(!f.queue){var l=c._queueHooks(a,"fx");if(null==l.unqueued){l.unqueued=0;var w=l.empty.fire;l.empty.fire=function(){l.unqueued||w()}}l.unqueued++;b.always(function(){b.always(function(){l.unqueued--;c.queue(a,"fx").length||l.empty.fire()})})}if(1===a.nodeType&&("height"in e||"width"in e)){f.overflow=[n.overflow,n.overflowX,n.overflowY];var m=c.css(a,"display");var p="none"===m?c._data(a,"olddisplay")||ja(a.nodeName):m;"inline"===
p&&"none"===c.css(a,"float")&&(z.inlineBlockNeedsLayout&&"inline"!==ja(a.nodeName)?n.zoom=1:n.display="inline-block")}f.overflow&&(n.overflow="hidden",z.shrinkWrapBlocks()||b.always(function(){n.overflow=f.overflow[0];n.overflowX=f.overflow[1];n.overflowY=f.overflow[2]}));for(h in e)if(p=e[h],Hc.exec(p)){delete e[h];var N=N||"toggle"===p;if(p===(q?"hide":"show"))if("show"===p&&k&&void 0!==k[h])q=!0;else continue;g[h]=k&&k[h]||c.style(a,h)}else m=void 0;if(c.isEmptyObject(g))"inline"===("none"===m?
ja(a.nodeName):m)&&(n.display=m);else for(h in k?"hidden"in k&&(q=k.hidden):k=c._data(a,"fxshow",{}),N&&(k.hidden=!q),q?c(a).show():b.done(function(){c(a).hide()}),b.done(function(){var e;c._removeData(a,"fxshow");for(e in g)c.style(a,e,g[e])}),g)e=U(q?k[h]:0,h,b),h in k||(k[h]=e.start,q&&(e.end=e.start,e.start="width"===h||"height"===h?1:0))}],zb={"*":[function(a,e){var f=this.createTween(a,e),b=f.cur(),g=Yb.exec(e),n=g&&g[3]||(c.cssNumber[a]?"":"px"),q=(c.cssNumber[a]||"px"!==n&&+b)&&Yb.exec(c.css(f.elem,
a)),k=1,l=20;if(q&&q[3]!==n){n=n||q[3];g=g||[];q=+b||1;do k=k||".5",q/=k,c.style(f.elem,a,q+n);while(k!==(k=f.cur()/b)&&1!==k&&--l)}g&&(q=f.start=+q||+b||0,f.unit=n,f.end=g[1]?q+(g[1]+1)*g[2]:+g[2]);return f}]};c.Animation=c.extend(ba,{tweener:function(a,e){c.isFunction(a)?(e=a,a=["*"]):a=a.split(" ");for(var f,b=0,g=a.length;b<g;b++)f=a[b],zb[f]=zb[f]||[],zb[f].unshift(e)},prefilter:function(a,e){e?kc.unshift(a):kc.push(a)}});c.speed=function(a,e,f){var h=a&&"object"===typeof a?c.extend({},a):{complete:f||
!f&&e||c.isFunction(a)&&a,duration:a,easing:f&&e||e&&!c.isFunction(e)&&e};h.duration=c.fx.off?0:"number"===typeof h.duration?h.duration:h.duration in c.fx.speeds?c.fx.speeds[h.duration]:c.fx.speeds._default;if(null==h.queue||!0===h.queue)h.queue="fx";h.old=h.complete;h.complete=function(){c.isFunction(h.old)&&h.old.call(this);h.queue&&c.dequeue(this,h.queue)};return h};c.fn.extend({fadeTo:function(a,e,c,f){return this.filter(Ha).css("opacity",0).show().end().animate({opacity:e},a,c,f)},animate:function(a,
e,f,b){var h=c.isEmptyObject(a),g=c.speed(e,f,b);e=function(){var e=ba(this,c.extend({},a),g);(h||c._data(this,"finish"))&&e.stop(!0)};e.finish=e;return h||!1===g.queue?this.each(e):this.queue(g.queue,e)},stop:function(a,e,f){var h=function(a){var e=a.stop;delete a.stop;e(f)};"string"!==typeof a&&(f=e,e=a,a=void 0);e&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var e=!0,b=null!=a&&a+"queueHooks",g=c.timers,n=c._data(this);if(b)n[b]&&n[b].stop&&h(n[b]);else for(b in n)n[b]&&n[b].stop&&
Ic.test(b)&&h(n[b]);for(b=g.length;b--;)g[b].elem!==this||null!=a&&g[b].queue!==a||(g[b].anim.stop(f),e=!1,g.splice(b,1));!e&&f||c.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var e=c._data(this),f=e[a+"queue"];var b=e[a+"queueHooks"];var g=c.timers,n=f?f.length:0;e.finish=!0;c.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=g.length;b--;)g[b].elem===this&&g[b].queue===a&&(g[b].anim.stop(!0),g.splice(b,1));for(b=0;b<n;b++)f[b]&&f[b].finish&&f[b].finish.call(this);
delete e.finish})}});c.each(["toggle","show","hide"],function(a,e){var f=c.fn[e];c.fn[e]=function(a,c,h){return null==a||"boolean"===typeof a?f.apply(this,arguments):this.animate(N(e,!0),a,c,h)}});c.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,e){c.fn[a]=function(a,c,f){return this.animate(e,a,c,f)}});c.timers=[];c.fx.tick=function(){var a=c.timers,e=0;for(za=c.now();e<a.length;e++){var f=
a[e];f()||a[e]!==f||a.splice(e--,1)}a.length||c.fx.stop();za=void 0};c.fx.timer=function(a){c.timers.push(a);a()?c.fx.start():c.timers.pop()};c.fx.interval=13;c.fx.start=function(){xb||(xb=setInterval(c.fx.tick,c.fx.interval))};c.fx.stop=function(){clearInterval(xb);xb=null};c.fx.speeds={slow:600,fast:200,_default:400};c.fn.delay=function(a,e){a=c.fx?c.fx.speeds[a]||a:a;return this.queue(e||"fx",function(e,c){var f=setTimeout(e,a);c.stop=function(){clearTimeout(f)}})};(function(){var a=A.createElement("div");
a.setAttribute("className","t");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";var e=a.getElementsByTagName("a")[0];var c=A.createElement("select");var f=c.appendChild(A.createElement("option"));var b=a.getElementsByTagName("input")[0];e.style.cssText="top:1px";z.getSetAttribute="t"!==a.className;z.style=/top/.test(e.getAttribute("style"));z.hrefNormalized="/a"===e.getAttribute("href");z.checkOn=!!b.value;z.optSelected=f.selected;z.enctype=!!A.createElement("form").enctype;
c.disabled=!0;z.optDisabled=!f.disabled;b=A.createElement("input");b.setAttribute("value","");z.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");z.radioValue="t"===b.value})();var rc=/\r/g;c.fn.extend({val:function(a){var e,f,b=this[0];if(arguments.length){var g=c.isFunction(a);return this.each(function(f){1===this.nodeType&&(f=g?a.call(this,f,c(this).val()):a,null==f?f="":"number"===typeof f?f+="":c.isArray(f)&&(f=c.map(f,function(a){return null==a?"":a+""})),e=c.valHooks[this.type]||
c.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,f,"value")||(this.value=f))})}if(b){if((e=c.valHooks[b.type]||c.valHooks[b.nodeName.toLowerCase()])&&"get"in e&&void 0!==(f=e.get(b,"value")))return f;f=b.value;return"string"===typeof f?f.replace(rc,""):null==f?"":f}}});c.extend({valHooks:{option:{get:function(a){var e=c.find.attr(a,"value");return null!=e?e:c.trim(c.text(a))}},select:{get:function(a){for(var e,f=a.options,b=a.selectedIndex,g=(a="select-one"===a.type||0>b)?
null:[],n=a?b+1:f.length,q=0>b?n:a?b:0;q<n;q++)if(e=f[q],!(!e.selected&&q!==b||(z.optDisabled?e.disabled:null!==e.getAttribute("disabled"))||e.parentNode.disabled&&c.nodeName(e.parentNode,"optgroup"))){e=c(e).val();if(a)return e;g.push(e)}return g},set:function(a,e){for(var f,b,g=a.options,n=c.makeArray(e),q=g.length;q--;)if(b=g[q],0<=c.inArray(c.valHooks.option.get(b),n))try{b.selected=f=!0}catch(Nc){b.scrollHeight}else b.selected=!1;f||(a.selectedIndex=-1);return g}}}});c.each(["radio","checkbox"],
function(){c.valHooks[this]={set:function(a,e){if(c.isArray(e))return a.checked=0<=c.inArray(c(a).val(),e)}};z.checkOn||(c.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Na=c.expr.attrHandle,Jb=/^(?:checked|selected)$/i,ob=z.getSetAttribute,yb=z.input;c.fn.extend({attr:function(a,e){return Va(this,c.attr,a,e,1<arguments.length)},removeAttr:function(a){return this.each(function(){c.removeAttr(this,a)})}});c.extend({attr:function(a,e,f){var b,h=a.nodeType;
if(a&&3!==h&&8!==h&&2!==h){if("undefined"===typeof a.getAttribute)return c.prop(a,e,f);if(1!==h||!c.isXMLDoc(a)){e=e.toLowerCase();var g=c.attrHooks[e]||(c.expr.match.bool.test(e)?ic:Kb)}if(void 0!==f)if(null===f)c.removeAttr(a,e);else{if(g&&"set"in g&&void 0!==(b=g.set(a,f,e)))return b;a.setAttribute(e,f+"");return f}else{if(g&&"get"in g&&null!==(b=g.get(a,e)))return b;b=c.find.attr(a,e);return null==b?void 0:b}}},removeAttr:function(a,e){var f,b=0,g=e&&e.match(I);if(g&&1===a.nodeType)for(;f=g[b++];){var n=
c.propFix[f]||f;c.expr.match.bool.test(f)?yb&&ob||!Jb.test(f)?a[n]=!1:a[c.camelCase("default-"+f)]=a[n]=!1:c.attr(a,f,"");a.removeAttribute(ob?f:n)}},attrHooks:{type:{set:function(a,e){if(!z.radioValue&&"radio"===e&&c.nodeName(a,"input")){var f=a.value;a.setAttribute("type",e);f&&(a.value=f);return e}}}}});var ic={set:function(a,e,f){!1===e?c.removeAttr(a,f):yb&&ob||!Jb.test(f)?a.setAttribute(!ob&&c.propFix[f]||f,f):a[c.camelCase("default-"+f)]=a[f]=!0;return f}};c.each(c.expr.match.bool.source.match(/\w+/g),
function(a,e){var f=Na[e]||c.find.attr;Na[e]=yb&&ob||!Jb.test(e)?function(a,e,c){if(!c){var b=Na[e];Na[e]=h;var h=null!=f(a,e,c)?e.toLowerCase():null;Na[e]=b}return h}:function(a,e,f){if(!f)return a[c.camelCase("default-"+e)]?e.toLowerCase():null}});yb&&ob||(c.attrHooks.value={set:function(a,e,f){if(c.nodeName(a,"input"))a.defaultValue=e;else return Kb&&Kb.set(a,e,f)}});if(!ob){var Kb={set:function(a,e,c){var f=a.getAttributeNode(c);f||a.setAttributeNode(f=a.ownerDocument.createAttribute(c));f.value=
e+="";if("value"===c||e===a.getAttribute(c))return e}};Na.id=Na.name=Na.coords=function(a,e,c){var f;if(!c)return(f=a.getAttributeNode(e))&&""!==f.value?f.value:null};c.valHooks.button={get:function(a,e){var c=a.getAttributeNode(e);if(c&&c.specified)return c.value},set:Kb.set};c.attrHooks.contenteditable={set:function(a,e,c){Kb.set(a,""===e?!1:e,c)}};c.each(["width","height"],function(a,e){c.attrHooks[e]={set:function(a,c){if(""===c)return a.setAttribute(e,"auto"),c}}})}z.style||(c.attrHooks.style=
{get:function(a){return a.style.cssText||void 0},set:function(a,e){return a.style.cssText=e+""}});var sc=/^(?:input|select|textarea|button|object)$/i,Jc=/^(?:a|area)$/i;c.fn.extend({prop:function(a,e){return Va(this,c.prop,a,e,1<arguments.length)},removeProp:function(a){a=c.propFix[a]||a;return this.each(function(){try{this[a]=void 0,delete this[a]}catch(e){}})}});c.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,e,f){var b,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h){if(1!==h||!c.isXMLDoc(a)){e=
c.propFix[e]||e;var g=c.propHooks[e]}return void 0!==f?g&&"set"in g&&void 0!==(b=g.set(a,f,e))?b:a[e]=f:g&&"get"in g&&null!==(b=g.get(a,e))?b:a[e]}},propHooks:{tabIndex:{get:function(a){var e=c.find.attr(a,"tabindex");return e?parseInt(e,10):sc.test(a.nodeName)||Jc.test(a.nodeName)&&a.href?0:-1}}}});z.hrefNormalized||c.each(["href","src"],function(a,e){c.propHooks[e]={get:function(a){return a.getAttribute(e,4)}}});z.optSelected||(c.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,
a.parentNode&&a.parentNode.selectedIndex;return null}});c.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){c.propFix[this.toLowerCase()]=this});z.enctype||(c.propFix.enctype="encoding");var tc=/[\t\r\n\f]/g;c.fn.extend({addClass:function(a){var e,f,b,g=0,n=this.length;var q="string"===typeof a&&a;if(c.isFunction(a))return this.each(function(e){c(this).addClass(a.call(this,e,this.className))});if(q)for(q=(a||"").match(I)||
[];g<n;g++){var k=this[g];if(e=1===k.nodeType&&(k.className?(" "+k.className+" ").replace(tc," "):" ")){for(b=0;f=q[b++];)0>e.indexOf(" "+f+" ")&&(e+=f+" ");e=c.trim(e);k.className!==e&&(k.className=e)}}return this},removeClass:function(a){var e,f,b,g=0,n=this.length;var q=0===arguments.length||"string"===typeof a&&a;if(c.isFunction(a))return this.each(function(e){c(this).removeClass(a.call(this,e,this.className))});if(q)for(q=(a||"").match(I)||[];g<n;g++){var k=this[g];if(e=1===k.nodeType&&(k.className?
(" "+k.className+" ").replace(tc," "):"")){for(b=0;f=q[b++];)for(;0<=e.indexOf(" "+f+" ");)e=e.replace(" "+f+" "," ");e=a?c.trim(e):"";k.className!==e&&(k.className=e)}}return this},toggleClass:function(a,e){var f=typeof a;return"boolean"===typeof e&&"string"===f?e?this.addClass(a):this.removeClass(a):c.isFunction(a)?this.each(function(f){c(this).toggleClass(a.call(this,f,this.className,e),e)}):this.each(function(){if("string"===f)for(var e,b=0,h=c(this),g=a.match(I)||[];e=g[b++];)h.hasClass(e)?h.removeClass(e):
h.addClass(e);else if("undefined"===f||"boolean"===f)this.className&&c._data(this,"__className__",this.className),this.className=this.className||!1===a?"":c._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var e=0,f=this.length;e<f;e++)if(1===this[e].nodeType&&0<=(" "+this[e].className+" ").replace(tc," ").indexOf(a))return!0;return!1}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,e){c.fn[e]=function(a,f){return 0<arguments.length?this.on(e,null,a,f):this.trigger(e)}});c.fn.extend({hover:function(a,e){return this.mouseenter(a).mouseleave(e||a)},bind:function(a,e,f){return this.on(a,null,e,f)},unbind:function(a,e){return this.off(a,null,e)},delegate:function(a,e,f,c){return this.on(e,a,f,c)},undelegate:function(a,e,f){return 1===arguments.length?this.off(a,"**"):this.off(e,a||"**",f)}});var uc=c.now(),vc=/\?/,Sc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
c.parseJSON=function(a){if(b.JSON&&b.JSON.parse)return b.JSON.parse(a+"");var e,f=null,g=c.trim(a+"");return g&&!c.trim(g.replace(Sc,function(a,c,b,h){e&&c&&(f=0);if(0===f)return a;e=b||c;f+=!h-!b;return""}))?Function("return "+g)():c.error("Invalid JSON: "+a)};c.parseXML=function(a){if(!a||"string"!==typeof a)return null;try{if(b.DOMParser){var e=new DOMParser;var f=e.parseFromString(a,"text/xml")}else f=new ActiveXObject("Microsoft.XMLDOM"),f.async="false",f.loadXML(a)}catch(r){f=void 0}f&&f.documentElement&&
!f.getElementsByTagName("parsererror").length||c.error("Invalid XML: "+a);return f};var Kc=/#.*$/,wc=/([?&])_=[^&]*/,Tc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Xa=/^(?:GET|HEAD)$/,Zb=/^\/\//,Uc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Vc={},cb={},bb="*/".concat("*");try{var va=location.href}catch(a){va=A.createElement("a"),va.href="",va=va.href}var Lb=Uc.exec(va.toLowerCase())||[];c.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:va,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Lb[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":c.parseJSON,"text xml":c.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,e){return e?Sa(Sa(a,
c.ajaxSettings),e):Sa(c.ajaxSettings,a)},ajaxPrefilter:Ab(Vc),ajaxTransport:Ab(cb),ajax:function(a,e){function f(a,e,f,b){var h=e;if(2!==oa){oa=2;n&&clearTimeout(n);k=void 0;g=b||"";z.readyState=0<a?4:0;b=200<=a&&300>a||304===a;if(f){var l=w;for(var r=z,U,v,qa,A,J=l.contents,C=l.dataTypes;"*"===C[0];)C.shift(),void 0===v&&(v=l.mimeType||r.getResponseHeader("Content-Type"));if(v)for(A in J)if(J[A]&&J[A].test(v)){C.unshift(A);break}if(C[0]in f)qa=C[0];else{for(A in f){if(!C[0]||l.converters[A+" "+C[0]]){qa=
A;break}U||(U=A)}qa=qa||U}qa?(qa!==C[0]&&C.unshift(qa),l=f[qa]):l=void 0}a:{f=w;U=l;v=z;qa=b;var na;r={};J=f.dataTypes.slice();if(J[1])for(D in f.converters)r[D.toLowerCase()]=f.converters[D];for(A=J.shift();A;){f.responseFields[A]&&(v[f.responseFields[A]]=U);!Y&&qa&&f.dataFilter&&(U=f.dataFilter(U,f.dataType));var Y=A;if(A=J.shift())if("*"===A)A=Y;else if("*"!==Y&&Y!==A){var D=r[Y+" "+A]||r["* "+A];if(!D)for(na in r)if(l=na.split(" "),l[1]===A&&(D=r[Y+" "+l[0]]||r["* "+l[0]])){!0===D?D=r[na]:!0!==
r[na]&&(A=l[0],J.unshift(l[1]));break}if(!0!==D)if(D&&f["throws"])U=D(U);else try{U=D(U)}catch(Sb){l={state:"parsererror",error:D?Sb:"No conversion from "+Y+" to "+A};break a}}}l={state:"success",data:U}}if(b)if(w.ifModified&&((h=z.getResponseHeader("Last-Modified"))&&(c.lastModified[aa]=h),(h=z.getResponseHeader("etag"))&&(c.etag[aa]=h)),204===a||"HEAD"===w.type)h="nocontent";else if(304===a)h="notmodified";else{h=l.state;var ba=l.data;var E=l.error;b=!E}else if(E=h,a||!h)h="error",0>a&&(a=0);z.status=
a;z.statusText=(e||h)+"";b?N.resolveWith(m,[ba,h,z]):N.rejectWith(m,[z,h,E]);z.statusCode(Ma);Ma=void 0;q&&p.trigger(b?"ajaxSuccess":"ajaxError",[z,w,b?ba:E]);xa.fireWith(m,[z,h]);q&&(p.trigger("ajaxComplete",[z,w]),--c.active||c.event.trigger("ajaxStop"))}}"object"===typeof a&&(e=a,a=void 0);e=e||{};var b,g,n,q,k,l,w=c.ajaxSetup({},e),m=w.context||w,p=w.context&&(m.nodeType||m.jquery)?c(m):c.event,N=c.Deferred(),xa=c.Callbacks("once memory"),Ma=w.statusCode||{},U={},v={},oa=0,qa="canceled",z={readyState:0,
getResponseHeader:function(a){var e;if(2===oa){if(!l)for(l={};e=Tc.exec(g);)l[e[1].toLowerCase()]=e[2];e=l[a.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===oa?g:null},setRequestHeader:function(a,e){var f=a.toLowerCase();oa||(a=v[f]=v[f]||a,U[a]=e);return this},overrideMimeType:function(a){oa||(w.mimeType=a);return this},statusCode:function(a){var e;if(a)if(2>oa)for(e in a)Ma[e]=[Ma[e],a[e]];else z.always(a[z.status]);return this},abort:function(a){a=a||qa;k&&k.abort(a);
f(0,a);return this}};N.promise(z).complete=xa.add;z.success=z.done;z.error=z.fail;w.url=((a||w.url||va)+"").replace(Kc,"").replace(Zb,Lb[1]+"//");w.type=e.method||e.type||w.method||w.type;w.dataTypes=c.trim(w.dataType||"*").toLowerCase().match(I)||[""];if(null==w.crossDomain){var A=Uc.exec(w.url.toLowerCase());w.crossDomain=!(!A||A[1]===Lb[1]&&A[2]===Lb[2]&&(A[3]||("http:"===A[1]?"80":"443"))===(Lb[3]||("http:"===Lb[1]?"80":"443")))}w.data&&w.processData&&"string"!==typeof w.data&&(w.data=c.param(w.data,
w.traditional));Ra(Vc,w,e,z);if(2===oa)return z;(q=w.global)&&0===c.active++&&c.event.trigger("ajaxStart");w.type=w.type.toUpperCase();w.hasContent=!Xa.test(w.type);var aa=w.url;w.hasContent||(w.data&&(aa=w.url+=(vc.test(aa)?"&":"?")+w.data,delete w.data),!1===w.cache&&(w.url=wc.test(aa)?aa.replace(wc,"$1_="+uc++):aa+(vc.test(aa)?"&":"?")+"_="+uc++));w.ifModified&&(c.lastModified[aa]&&z.setRequestHeader("If-Modified-Since",c.lastModified[aa]),c.etag[aa]&&z.setRequestHeader("If-None-Match",c.etag[aa]));
(w.data&&w.hasContent&&!1!==w.contentType||e.contentType)&&z.setRequestHeader("Content-Type",w.contentType);z.setRequestHeader("Accept",w.dataTypes[0]&&w.accepts[w.dataTypes[0]]?w.accepts[w.dataTypes[0]]+("*"!==w.dataTypes[0]?", "+bb+"; q=0.01":""):w.accepts["*"]);for(b in w.headers)z.setRequestHeader(b,w.headers[b]);if(w.beforeSend&&(!1===w.beforeSend.call(m,z,w)||2===oa))return z.abort();qa="abort";for(b in{success:1,error:1,complete:1})z[b](w[b]);if(k=Ra(cb,w,e,z)){z.readyState=1;q&&p.trigger("ajaxSend",
[z,w]);w.async&&0<w.timeout&&(n=setTimeout(function(){z.abort("timeout")},w.timeout));try{oa=1,k.send(U,f)}catch(Dc){if(2>oa)f(-1,Dc);else throw Dc;}}else f(-1,"No Transport");return z},getJSON:function(a,e,f){return c.get(a,e,f,"json")},getScript:function(a,e){return c.get(a,void 0,e,"script")}});c.each(["get","post"],function(a,e){c[e]=function(a,f,b,g){c.isFunction(f)&&(g=g||b,b=f,f=void 0);return c.ajax({url:a,type:e,dataType:g,data:f,success:b})}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,e){c.fn[e]=function(a){return this.on(e,a)}});c._evalUrl=function(a){return c.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};c.fn.extend({wrapAll:function(a){if(c.isFunction(a))return this.each(function(e){c(this).wrapAll(a.call(this,e))});if(this[0]){var e=c(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]);e.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},
wrapInner:function(a){return c.isFunction(a)?this.each(function(e){c(this).wrapInner(a.call(this,e))}):this.each(function(){var e=c(this),f=e.contents();f.length?f.wrapAll(a):e.append(a)})},wrap:function(a){var e=c.isFunction(a);return this.each(function(f){c(this).wrapAll(e?a.call(this,f):a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()}});c.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||
!z.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||c.css(a,"display"))};c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)};var ld=/%20/g,qb=/\[\]$/,Lc=/\r?\n/g,xc=/^(?:submit|button|image|reset|file)$/i,yc=/^(?:input|select|textarea|keygen)/i;c.param=function(a,e){var f,b=[],g=function(a,e){e=c.isFunction(e)?e():null==e?"":e;b[b.length]=encodeURIComponent(a)+"="+encodeURIComponent(e)};void 0===e&&(e=c.ajaxSettings&&c.ajaxSettings.traditional);if(c.isArray(a)||a.jquery&&
!c.isPlainObject(a))c.each(a,function(){g(this.name,this.value)});else for(f in a)Bb(f,a[f],e,g);return b.join("&").replace(ld,"+")};c.fn.extend({serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=c.prop(this,"elements");return a?c.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!c(this).is(":disabled")&&yc.test(this.nodeName)&&!xc.test(a)&&(this.checked||!sa.test(a))}).map(function(a,e){var f=c(this).val();
return null==f?null:c.isArray(f)?c.map(f,function(a){return{name:e.name,value:a.replace(Lc,"\r\n")}}):{name:e.name,value:f.replace(Lc,"\r\n")}}).get()}});c.ajaxSettings.xhr=void 0!==b.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&ib()))a:{try{a=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(e){}a=void 0}return a}:ib;var md=0,$b={},ac=c.ajaxSettings.xhr();if(b.ActiveXObject)c(b).on("unload",function(){for(var a in $b)$b[a](void 0,
!0)});z.cors=!!ac&&"withCredentials"in ac;(ac=z.ajax=!!ac)&&c.ajaxTransport(function(a){if(!a.crossDomain||z.cors){var e;return{send:function(f,b){var g,h=a.xhr(),n=++md;h.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(g in a.xhrFields)h[g]=a.xhrFields[g];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType);a.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");for(g in f)void 0!==f[g]&&h.setRequestHeader(g,f[g]+"");h.send(a.hasContent&&a.data||
null);e=function(f,g){if(e&&(g||4===h.readyState))if(delete $b[n],e=void 0,h.onreadystatechange=c.noop,g)4!==h.readyState&&h.abort();else{var q={};var k=h.status;"string"===typeof h.responseText&&(q.text=h.responseText);try{var w=h.statusText}catch(cc){w=""}k||!a.isLocal||a.crossDomain?1223===k&&(k=204):k=q.text?200:404}q&&b(k,w,q,h.getAllResponseHeaders())};a.async?4===h.readyState?setTimeout(e):h.onreadystatechange=$b[n]=e:e()},abort:function(){e&&e(void 0,!0)}}}});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){c.globalEval(a);return a}}});c.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});c.ajaxTransport("script",function(a){if(a.crossDomain){var e,f=A.head||c("head")[0]||A.documentElement;return{send:function(c,b){e=A.createElement("script");e.async=!0;a.scriptCharset&&(e.charset=a.scriptCharset);e.src=a.url;e.onload=e.onreadystatechange=function(a,f){if(f||!e.readyState||
/loaded|complete/.test(e.readyState))e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,f||b(200,"success")};f.insertBefore(e,f.firstChild)},abort:function(){if(e)e.onload(void 0,!0)}}}});var zc=[],jc=/(=)\?(?=&|$)|\?\?/;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=zc.pop()||c.expando+"_"+uc++;this[a]=!0;return a}});c.ajaxPrefilter("json jsonp",function(a,e,f){var g,h=!1!==a.jsonp&&(jc.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&
jc.test(a.data)&&"data");if(h||"jsonp"===a.dataTypes[0]){var n=a.jsonpCallback=c.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback;h?a[h]=a[h].replace(jc,"$1"+n):!1!==a.jsonp&&(a.url+=(vc.test(a.url)?"&":"?")+a.jsonp+"="+n);a.converters["script json"]=function(){g||c.error(n+" was not called");return g[0]};a.dataTypes[0]="json";var q=b[n];b[n]=function(){g=arguments};f.always(function(){b[n]=q;a[n]&&(a.jsonpCallback=e.jsonpCallback,zc.push(n));g&&c.isFunction(q)&&q(g[0]);g=q=void 0});
return"script"}});c.parseHTML=function(a,e,f){if(!a||"string"!==typeof a)return null;"boolean"===typeof e&&(f=e,e=!1);e=e||A;var b=tb.exec(a);f=!f&&[];if(b)return[e.createElement(b[1])];b=c.buildFragment([a],e,f);f&&f.length&&c(f).remove();return c.merge([],b.childNodes)};var Wc=c.fn.load;c.fn.load=function(a,e,f){if("string"!==typeof a&&Wc)return Wc.apply(this,arguments);var b,g,h=this,n=a.indexOf(" ");if(0<=n){var q=c.trim(a.slice(n,a.length));a=a.slice(0,n)}c.isFunction(e)?(f=e,e=void 0):e&&"object"===
typeof e&&(g="POST");0<h.length&&c.ajax({url:a,type:g,dataType:"html",data:e}).done(function(a){b=arguments;h.html(q?c("<div>").append(c.parseHTML(a)).find(q):a)}).complete(f&&function(a,e){h.each(f,b||[a.responseText,e,a])});return this};c.expr.filters.animated=function(a){return c.grep(c.timers,function(e){return a===e.elem}).length};var Mb=b.document.documentElement;c.offset={setOffset:function(a,e,f){var b=c.css(a,"position"),g=c(a),h={};"static"===b&&(a.style.position="relative");var n=g.offset();
var q=c.css(a,"top");var k=c.css(a,"left");("absolute"===b||"fixed"===b)&&-1<c.inArray("auto",[q,k])?(k=g.position(),q=k.top,k=k.left):(q=parseFloat(q)||0,k=parseFloat(k)||0);c.isFunction(e)&&(e=e.call(a,f,n));null!=e.top&&(h.top=e.top-n.top+q);null!=e.left&&(h.left=e.left-n.left+k);"using"in e?e.using.call(a,h):g.css(h)}};c.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(e){c.offset.setOffset(this,a,e)});var e,f={top:0,left:0},b=(e=this[0])&&e.ownerDocument;
if(b){var g=b.documentElement;if(!c.contains(g,e))return f;"undefined"!==typeof e.getBoundingClientRect&&(f=e.getBoundingClientRect());e=Qb(b);return{top:f.top+(e.pageYOffset||g.scrollTop)-(g.clientTop||0),left:f.left+(e.pageXOffset||g.scrollLeft)-(g.clientLeft||0)}}},position:function(){if(this[0]){var a={top:0,left:0},e=this[0];if("fixed"===c.css(e,"position"))var f=e.getBoundingClientRect();else{var b=this.offsetParent();f=this.offset();c.nodeName(b[0],"html")||(a=b.offset());a.top+=c.css(b[0],
"borderTopWidth",!0);a.left+=c.css(b[0],"borderLeftWidth",!0)}return{top:f.top-a.top-c.css(e,"marginTop",!0),left:f.left-a.left-c.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Mb;a&&!c.nodeName(a,"html")&&"static"===c.css(a,"position");)a=a.offsetParent;return a||Mb})}});c.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,e){var f=/Y/.test(e);c.fn[a]=function(b){return Va(this,function(a,b,g){var h=Qb(a);if(void 0===g)return h?
e in h?h[e]:h.document.documentElement[b]:a[b];h?h.scrollTo(f?c(h).scrollLeft():g,f?g:c(h).scrollTop()):a[b]=g},a,b,arguments.length,null)}});c.each(["top","left"],function(a,e){c.cssHooks[e]=la(z.pixelPosition,function(a,f){if(f)return f=q(a,e),Qa.test(f)?c(a).position()[e]+"px":f})});c.each({Height:"height",Width:"width"},function(a,e){c.each({padding:"inner"+a,content:e,"":"outer"+a},function(f,b){c.fn[b]=function(b,g){var h=arguments.length&&(f||"boolean"!==typeof b),n=f||(!0===b||!0===g?"margin":
"border");return Va(this,function(e,f,b){return c.isWindow(e)?e.document.documentElement["client"+a]:9===e.nodeType?(f=e.documentElement,Math.max(e.body["scroll"+a],f["scroll"+a],e.body["offset"+a],f["offset"+a],f["client"+a])):void 0===b?c.css(e,f,n):c.style(e,f,b,n)},e,h?b:void 0,h,null)}})});c.fn.size=function(){return this.length};c.fn.andSelf=c.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return c});var Xc=b.jQuery,Mc=b.$;c.noConflict=function(a){b.$===c&&
(b.$=Mc);a&&b.jQuery===c&&(b.jQuery=Xc);return c};"undefined"===typeof m&&(b.jQuery=b.$=c);return c});
(function(){function b(f,c,b){b=(b||0)-1;for(var g=f?f.length:0;++b<g;)if(f[b]===c)return b;return-1}function m(f,c){for(var b=f.criteria,g=c.criteria,n=-1,k=b.length;++n<k;){var l=b[n],m=g[n];if(l!==m){if(l>m||"undefined"==typeof l)return 1;if(l<m||"undefined"==typeof m)return-1}}return f.index-c.index}function l(f){return"\\"+$a[f]}function v(f,c,b){c||(c=0);"undefined"==typeof b&&(b=f?f.length:0);var g=-1;b=b-c||0;for(var n=Array(0>b?0:b);++g<b;)n[g]=f[c+g];return n}function p(f){return f instanceof
p?f:new E(f)}function E(f,c){this.__chain__=!!c;this.__wrapped__=f}function C(f){function c(){if(g){var f=v(g);eb.apply(f,arguments)}if(this instanceof c){var n=D(b.prototype);f=b.apply(n,f||arguments);return ya(f)?f:n}return b.apply(k,f||arguments)}var b=f[0],g=f[2],k=f[4];return c}function D(f,c){return ya(f)?Gb(f):{}}function Z(f,c,b){if("function"!=typeof f)return Rb;if("undefined"==typeof c||!("prototype"in f))return f;switch(b){case 1:return function(b){return f.call(c,b)};case 2:return function(b,
g){return f.call(c,b,g)};case 3:return function(b,g,n){return f.call(c,b,g,n)};case 4:return function(b,g,n,q){return f.call(c,b,g,n,q)}}return Aa(f,c)}function R(f){function c(){var f=N?m:this;if(k){var n=v(k);eb.apply(n,arguments)}if(l||z)if(n||(n=v(arguments)),l&&eb.apply(n,l),z&&n.length<p)return g|=16,R([b,oa?g:g&-4,n,null,m,p]);n||(n=arguments);U&&(b=f[A]);return this instanceof c?(f=D(b.prototype),n=b.apply(f,n),ya(n)?n:f):b.apply(f,n)}var b=f[0],g=f[1],k=f[2],l=f[3],m=f[4],p=f[5],N=g&1,U=
g&2,z=g&4,oa=g&8,A=b;return c}function K(f,c){for(var b=-1,g=ia(),n=f?f.length:0,k=[];++b<n;){var l=f[b];0>g(c,l)&&k.push(l)}return k}function S(f,c,b,g){g=(g||0)-1;for(var n=f?f.length:0,q=[];++g<n;){var k=f[g];if(k&&"object"==typeof k&&"number"==typeof k.length&&(ab(k)||F(k))){c||(k=S(k,c,b));var l=-1,w=k.length,m=q.length;for(q.length+=w;++l<w;)q[m++]=k[l]}else b||q.push(k)}return q}function ha(f,c,b,g){if(f===c)return 0!==f||1/f==1/c;if(!(f!==f||f&&Ba[typeof f]||c&&Ba[typeof c]))return!1;if(null==
f||null==c)return f===c;var n=ka.call(f),q=ka.call(c);if(n!=q)return!1;switch(n){case "[object Boolean]":case "[object Date]":return+f==+c;case "[object Number]":return f!=+f?c!=+c:0==f?1/f==1/c:f==+c;case "[object RegExp]":case "[object String]":return f==String(c)}q="[object Array]"==n;if(!q){var k=f instanceof p,l=c instanceof p;if(k||l)return ha(k?f.__wrapped__:f,l?c.__wrapped__:c,b,g);if("[object Object]"!=n)return!1;n=f.constructor;k=c.constructor;if(n!=k&&!(M(n)&&n instanceof n&&M(k)&&k instanceof
k)&&"constructor"in f&&"constructor"in c)return!1}b||(b=[]);g||(g=[]);for(n=b.length;n--;)if(b[n]==f)return g[n]==c;var w=!0,m=0;b.push(f);g.push(c);if(q){if(m=c.length,w=m==f.length)for(;m--&&(w=ha(f[m],c[m],b,g)););}else ra(c,function(c,n,q){if(sa.call(q,n))return m++,!(w=sa.call(f,n)&&ha(f[n],c,b,g))&&Ga}),w&&ra(f,function(f,c,b){if(sa.call(b,c))return!(w=-1<--m)&&Ga});b.pop();g.pop();return w}function Ea(f,c){return f+Va(Ka()*(c-f+1))}function fb(f,c,b){for(var g=-1,n=ia(),q=f?f.length:0,k=[],
l=b?[]:k;++g<q;){var m=f[g],p=b?b(m,g,f):m;if(c?!g||l[l.length-1]!==p:0>n(l,p))b&&l.push(p),k.push(m)}return k}function gb(f){return function(b,g,k){var n={};g=c(g,k,3);k=-1;var q=b?b.length:0;if("number"==typeof q)for(;++k<q;){var l=b[k];f(n,l,g(l,k,b),b)}else Da(b,function(c,b,q){f(n,c,g(c,b,q),q)});return n}}function P(f,c,b,g,k,l){var n=c&16,q=c&32;if(!(c&2||M(f)))throw new TypeError;n&&!b.length&&(c&=-17,b=!1);q&&!g.length&&(c&=-33,g=!1);return(1==c||17===c?C:R)([f,c,b,g,k,l])}function Fa(f){return vb[f]}
function ia(){var f=(f=p.indexOf)===jb?b:f;return f}function hb(f){return"function"==typeof f&&ea.test(f)}function G(f){return Ib[f]}function F(f){return f&&"object"==typeof f&&"number"==typeof f.length&&"[object Arguments]"==ka.call(f)||!1}function O(f){if(!f)return f;for(var c=1,b=arguments.length;c<b;c++){var g=arguments[c];if(g)for(var k in g)f[k]=g[k]}return f}function pa(f){if(!f)return f;for(var c=1,b=arguments.length;c<b;c++){var g=arguments[c];if(g)for(var k in g)"undefined"==typeof f[k]&&
(f[k]=g[k])}return f}function ja(f){var c=[];ra(f,function(f,b){M(f)&&c.push(b)});return c.sort()}function la(f){for(var c=-1,b=La(f),g=b.length,k={};++c<g;){var l=b[c];k[f[l]]=l}return k}function Q(f){if(!f)return!0;if(ab(f)||Ya(f))return!f.length;for(var c in f)if(sa.call(f,c))return!1;return!0}function M(f){return"function"==typeof f}function ya(f){return!(!f||!Ba[typeof f])}function Pa(f){return"number"==typeof f||f&&"object"==typeof f&&"[object Number]"==ka.call(f)||!1}function Ya(f){return"string"==
typeof f||f&&"object"==typeof f&&"[object String]"==ka.call(f)||!1}function g(f){for(var c=-1,b=La(f),g=b.length,k=Array(g);++c<g;)k[c]=f[b[c]];return k}function k(f,c){var b=ia(),g=f?f.length:0,n=!1;g&&"number"==typeof g?n=-1<b(f,c):Da(f,function(f){return(n=f===c)&&Ga});return n}function N(f,b,g){var n=!0;b=c(b,g,3);g=-1;var q=f?f.length:0;if("number"==typeof q)for(;++g<q&&(n=!!b(f[g],g,f)););else Da(f,function(f,c,g){return!(n=!!b(f,c,g))&&Ga});return n}function U(f,b,g){var n=[];b=c(b,g,3);g=
-1;var q=f?f.length:0;if("number"==typeof q)for(;++g<q;){var k=f[g];b(k,g,f)&&n.push(k)}else Da(f,function(f,c,g){b(f,c,g)&&n.push(f)});return n}function oa(f,b,g){b=c(b,g,3);g=-1;var n=f?f.length:0;if("number"==typeof n)for(;++g<n;){var q=f[g];if(b(q,g,f))return q}else{var k;Da(f,function(f,c,g){if(b(f,c,g))return k=f,Ga});return k}}function ba(f,c,b){var g=-1,n=f?f.length:0;c=c&&"undefined"==typeof b?c:Z(c,b,3);if("number"==typeof n)for(;++g<n&&c(f[g],g,f)!==Ga;);else Da(f,c)}function Ab(f,c){var b=
f?f.length:0;if("number"==typeof b)for(;b--&&!1!==c(f[b],b,f););else{var g=La(f);b=g.length;Da(f,function(f,n,q){n=g?g[--b]:--b;return!1===c(q[n],n,q)&&Ga})}}function Ra(f,b,g){var n,q=-1,k=f?f.length:0;b=c(b,g,3);if("number"==typeof k)for(n=Array(k);++q<k;)n[q]=b(f[q],q,f);else n=[],Da(f,function(f,c,g){n[++q]=b(f,c,g)});return n}function Sa(f,b,g){var n=-Infinity,q=n;"function"!=typeof b&&g&&g[b]===f&&(b=null);var k=-1,l=f?f.length:0;if(null==b&&"number"==typeof l)for(;++k<l;)g=f[k],g>q&&(q=g);
else b=c(b,g,3),ba(f,function(f,c,g){c=b(f,c,g);c>n&&(n=c,q=f)});return q}function Bb(f,b,g,k){if(!f)return g;var n=3>arguments.length;b=c(b,k,4);var q=-1,l=f.length;if("number"==typeof l)for(n&&(g=f[++q]);++q<l;)g=b(g,f[q],q,f);else Da(f,function(f,c,q){g=n?(n=!1,f):b(g,f,c,q)});return g}function ib(f,b,g,k){var n=3>arguments.length;b=c(b,k,4);Ab(f,function(f,c,q){g=n?(n=!1,f):b(g,f,c,q)});return g}function Qb(f){var c=-1,b=f?f.length:0,g=Array("number"==typeof b?b:0);ba(f,function(f){var b=Ea(0,
++c);g[c]=g[b];g[b]=f});return g}function ua(f,b,g){var n;b=c(b,g,3);g=-1;var k=f?f.length:0;if("number"==typeof k)for(;++g<k&&!(n=b(f[g],g,f)););else Da(f,function(f,c,g){return(n=b(f,c,g))&&Ga});return!!n}function H(f,c,b){return b&&Q(c)?Ua:(b?oa:U)(f,c)}function fa(f,b,g){var n=0,k=f?f.length:0;if("number"!=typeof b&&null!=b){var q=-1;for(b=c(b,g,3);++q<k&&b(f[q],q,f);)n++}else if(n=b,null==n||g)return f?f[0]:Ua;return v(f,0,Wa(ta(0,n),k))}function jb(f,c,g){if("number"==typeof g){var n=f?f.length:
0;g=0>g?ta(0,n+g):g||0}else if(g)return g=V(f,c),f[g]===c?g:-1;return b(f,c,g)}function Ia(f,b,g){if("number"!=typeof b&&null!=b){var n=0;var k=-1,q=f?f.length:0;for(b=c(b,g,3);++k<q&&b(f[k],k,f);)n++}else n=null==b||g?1:ta(0,b);return v(f,n)}function V(f,b,g,k){var n=0,q=f?f.length:n;g=g?c(g,k,1):Rb;for(b=g(b);n<q;)k=n+q>>>1,g(f[k])<b?n=k+1:q=k;return n}function Ta(f,b,g,k){"boolean"!=typeof b&&null!=b&&(k=g,g="function"!=typeof b&&k&&k[b]===f?null:b,b=!1);null!=g&&(g=c(g,k,3));return fb(f,b,g)}
function Aa(f,c){return 2<arguments.length?P(f,17,v(arguments,2),null,c):P(f,1,null,null,c)}function z(f,c,b){var g,n,k,q,l,m,p,N=0,U=!1,z=!0;if(!M(f))throw new TypeError;c=ta(0,c)||0;if(!0===b){var v=!0;z=!1}else ya(b)&&(v=b.leading,U="maxWait"in b&&(ta(c,b.maxWait)||0),z="trailing"in b?b.trailing:z);var oa=function(){var b=c-(Qa()-q);0>=b?(n&&clearTimeout(n),b=p,n=m=p=Ua,b&&(N=Qa(),k=f.apply(l,g),m||n||(g=l=null))):m=setTimeout(oa,b)},A=function(){m&&clearTimeout(m);n=m=p=Ua;if(z||U!==c)N=Qa(),
k=f.apply(l,g),m||n||(g=l=null)};return function(){var b;g=arguments;q=Qa();l=this;p=z&&(m||!v);if(!1===U)var w=v&&!m;else{n||v||(N=q);var C=U-(q-N);(b=0>=C)?(n&&(n=clearTimeout(n)),N=q,k=f.apply(l,g)):n||(n=setTimeout(A,C))}b&&m?m=clearTimeout(m):m||c===U||(m=setTimeout(oa,c));w&&(b=!0,k=f.apply(l,g));!b||m||n||(g=l=null);return k}}function c(f,c,b){var g=typeof f;if(null==f||"function"==g)return Z(f,c,b);if("object"!=g)return ec(f);var n=La(f);return function(c){for(var b=n.length,g=!1;b--&&(g=
c[n[b]]===f[n[b]]););return g}}function Rb(f){return f}function dc(f){ba(ja(f),function(c){var b=p[c]=f[c];p.prototype[c]=function(){var f=[this.__wrapped__];eb.apply(f,arguments);f=b.apply(p,f);return this.__chain__?new E(f,!0):f}})}function ec(f){return function(c){return c[f]}}var Ua,Za=0,Ga={},tb=+new Date+"",T=/($^)/,A=/['\n\r\t\u2028\u2029\\]/g,Ba={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},$a={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},
Ca=Ba[typeof window]&&window||this,ub=Ba[typeof exports]&&exports&&!exports.nodeType&&exports,I=Ba[typeof module]&&module&&!module.nodeType&&module,da=I&&I.exports===ub&&ub,Ja=Ba[typeof global]&&global;!Ja||Ja.global!==Ja&&Ja.window!==Ja||(Ca=Ja);var lb=[],wa=Object.prototype,Nb=Ca._,ka=wa.toString,ea=RegExp("^"+String(ka).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Ha=Math.ceil,Va=Math.floor,sa=wa.hasOwnProperty,eb=lb.push,Ub=wa.propertyIsEnumerable,Gb=hb(Gb=
Object.create)&&Gb,Hb=hb(Hb=Array.isArray)&&Hb,Vb=Ca.isFinite,bc=Ca.isNaN,mb=hb(mb=Object.keys)&&mb,ta=Math.max,Wa=Math.min,Ka=Math.random;E.prototype=p.prototype;var Wb;(function(){var f={0:1,length:1};Wb=(lb.splice.call(f,0,1),!f[0])})(1);p.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:""};Gb||(D=function(){function f(){}return function(c){if(ya(c)){f.prototype=c;var b=new f;f.prototype=null}return b||Ca.Object()}}());F(arguments)||
(F=function(f){return f&&"object"==typeof f&&"number"==typeof f.length&&sa.call(f,"callee")&&!Ub.call(f,"callee")||!1});var ab=Hb||function(f){return f&&"object"==typeof f&&"number"==typeof f.length&&"[object Array]"==ka.call(f)||!1},hc=function(f){var c,b=[];if(!f||!Ba[typeof f])return b;for(c in f)sa.call(f,c)&&b.push(c);return b},La=mb?function(f){return ya(f)?mb(f):[]}:hc,vb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},Ib=la(vb),Ob=RegExp("("+La(Ib).join("|")+")","g"),wb=RegExp("["+
La(vb).join("")+"]","g"),ra=function(f,c){var b;if(!f||!Ba[typeof f])return f;for(b in f)if(c(f[b],b,f)===Ga)break;return f},Da=function(f,c){var b;if(!f||!Ba[typeof f])return f;for(b in f)if(sa.call(f,b)&&c(f[b],b,f)===Ga)break;return f};M(/x/)&&(M=function(c){return"function"==typeof c&&"[object Function]"==ka.call(c)});var pb=gb(function(c,b,g){sa.call(c,g)?c[g]++:c[g]=1}),Pb=gb(function(c,b,g){(sa.call(c,g)?c[g]:c[g]=[]).push(b)}),Xb=gb(function(c,b,g){c[g]=b}),Qa=hb(Qa=Date.now)&&Qa||function(){return(new Date).getTime()};
p.after=function(c,b){if(!M(b))throw new TypeError;return function(){if(1>--c)return b.apply(this,arguments)}};p.bind=Aa;p.bindAll=function(c){for(var f=1<arguments.length?S(arguments,!0,!1,1):ja(c),b=-1,g=f.length;++b<g;){var k=f[b];c[k]=P(c[k],1,null,null,c)}return c};p.chain=function(c){c=new E(c);c.__chain__=!0;return c};p.compact=function(c){for(var f=-1,b=c?c.length:0,g=[];++f<b;){var k=c[f];k&&g.push(k)}return g};p.compose=function(){for(var c=arguments,b=c.length;b--;)if(!M(c[b]))throw new TypeError;
return function(){for(var f=arguments,b=c.length;b--;)f=[c[b].apply(this,f)];return f[0]}};p.countBy=pb;p.debounce=z;p.defaults=pa;p.defer=function(c){if(!M(c))throw new TypeError;var f=v(arguments,1);return setTimeout(function(){c.apply(Ua,f)},1)};p.delay=function(c,b){if(!M(c))throw new TypeError;var f=v(arguments,2);return setTimeout(function(){c.apply(Ua,f)},b)};p.difference=function(c){return K(c,S(arguments,!0,!0,1))};p.filter=U;p.flatten=function(c,b){return S(c,b)};p.forEach=ba;p.functions=
ja;p.groupBy=Pb;p.indexBy=Xb;p.initial=function(f,b,g){var k=0,n=f?f.length:0;if("number"!=typeof b&&null!=b){var q=n;for(b=c(b,g,3);q--&&b(f[q],q,f);)k++}else k=null==b||g?1:b||k;return v(f,0,Wa(ta(0,n-k),n))};p.intersection=function(){var c=[];var b=-1;for(var g=arguments.length;++b<g;){var k=arguments[b];(ab(k)||F(k))&&c.push(k)}var l=c[0],m=-1,p=ia(),N=l?l.length:0,U=[];a:for(;++m<N;)if(k=l[m],0>p(U,k)){for(b=g;--b;)if(0>p(c[b],k))continue a;U.push(k)}return U};p.invert=la;p.invoke=function(c,
b){var f=v(arguments,2),g=-1,k="function"==typeof b,n=c?c.length:0,l=Array("number"==typeof n?n:0);ba(c,function(c){l[++g]=(k?b:c[b]).apply(c,f)});return l};p.keys=La;p.map=Ra;p.max=Sa;p.memoize=function(c,b){var f={};return function(){var g=b?b.apply(this,arguments):tb+arguments[0];return sa.call(f,g)?f[g]:f[g]=c.apply(this,arguments)}};p.min=function(f,b,g){var k=Infinity,n=k;"function"!=typeof b&&g&&g[b]===f&&(b=null);var l=-1,q=f?f.length:0;if(null==b&&"number"==typeof q)for(;++l<q;)g=f[l],g<
n&&(n=g);else b=c(b,g,3),ba(f,function(c,f,g){f=b(c,f,g);f<k&&(k=f,n=c)});return n};p.omit=function(c){var f=[];ra(c,function(c,b){f.push(b)});f=K(f,S(arguments,!0,!1,1));for(var b=-1,g=f.length,k={};++b<g;){var l=f[b];k[l]=c[l]}return k};p.once=function(c){var f,b;if(!M(c))throw new TypeError;return function(){if(f)return b;f=!0;b=c.apply(this,arguments);c=null;return b}};p.pairs=function(c){for(var f=-1,b=La(c),g=b.length,k=Array(g);++f<g;){var l=b[f];k[f]=[l,c[l]]}return k};p.partial=function(c){return P(c,
16,v(arguments,1))};p.pick=function(c){for(var f=-1,b=S(arguments,!0,!1,1),g=b.length,k={};++f<g;){var l=b[f];l in c&&(k[l]=c[l])}return k};p.pluck=Ra;p.range=function(c,b,g){c=+c||0;g=+g||1;null==b&&(b=c,c=0);var f=-1;b=ta(0,Ha((b-c)/g));for(var k=Array(b);++f<b;)k[f]=c,c+=g;return k};p.reject=function(f,b,g){b=c(b,g,3);return U(f,function(c,f,g){return!b(c,f,g)})};p.rest=Ia;p.shuffle=Qb;p.sortBy=function(f,b,g){var k=-1,n=f?f.length:0,l=Array("number"==typeof n?n:0);b=c(b,g,3);ba(f,function(c,f,
g){l[++k]={criteria:[b(c,f,g)],index:k,value:c}});n=l.length;for(l.sort(m);n--;)l[n]=l[n].value;return l};p.tap=function(c,b){b(c);return c};p.throttle=function(c,b,g){var f=!0,k=!0;if(!M(c))throw new TypeError;!1===g?f=!1:ya(g)&&(f="leading"in g?g.leading:f,k="trailing"in g?g.trailing:k);g={};g.leading=f;g.maxWait=b;g.trailing=k;return z(c,b,g)};p.times=function(c,b,g){c=-1<(c=+c)?c:0;var f=-1,k=Array(c);for(b=Z(b,g,1);++f<c;)k[f]=b(f);return k};p.toArray=function(c){return ab(c)?v(c):c&&"number"==
typeof c.length?Ra(c):g(c)};p.union=function(){return fb(S(arguments,!0,!0))};p.uniq=Ta;p.values=g;p.where=H;p.without=function(c){return K(c,v(arguments,1))};p.wrap=function(c,b){return P(b,16,[c])};p.zip=function(){for(var c=-1,b=Sa(Ra(arguments,"length")),g=Array(0>b?0:b);++c<b;)g[c]=Ra(arguments,c);return g};p.collect=Ra;p.drop=Ia;p.each=ba;p.extend=O;p.methods=ja;p.object=function(c,b){var f=-1,g=c?c.length:0,k={};for(b||!g||ab(c[0])||(b=[]);++f<g;){var n=c[f];b?k[n]=b[f]:n&&(k[n[0]]=n[1])}return k};
p.select=U;p.tail=Ia;p.unique=Ta;p.clone=function(c){return ya(c)?ab(c)?v(c):O({},c):c};p.contains=k;p.escape=function(c){return null==c?"":String(c).replace(wb,Fa)};p.every=N;p.find=oa;p.has=function(c,b){return c?sa.call(c,b):!1};p.identity=Rb;p.indexOf=jb;p.isArguments=F;p.isArray=ab;p.isBoolean=function(c){return!0===c||!1===c||c&&"object"==typeof c&&"[object Boolean]"==ka.call(c)||!1};p.isDate=function(c){return c&&"object"==typeof c&&"[object Date]"==ka.call(c)||!1};p.isElement=function(c){return c&&
1===c.nodeType||!1};p.isEmpty=Q;p.isEqual=function(c,b){return ha(c,b)};p.isFinite=function(c){return Vb(c)&&!bc(parseFloat(c))};p.isFunction=M;p.isNaN=function(c){return Pa(c)&&c!=+c};p.isNull=function(c){return null===c};p.isNumber=Pa;p.isObject=ya;p.isRegExp=function(c){return c&&Ba[typeof c]&&"[object RegExp]"==ka.call(c)||!1};p.isString=Ya;p.isUndefined=function(c){return"undefined"==typeof c};p.lastIndexOf=function(c,b,g){var f=c?c.length:0;for("number"==typeof g&&(f=(0>g?ta(0,f+g):Wa(g,f-1))+
1);f--;)if(c[f]===b)return f;return-1};p.mixin=dc;p.noConflict=function(){Ca._=Nb;return this};p.random=function(c,b){null==c&&null==b&&(b=1);c=+c||0;null==b?(b=c,c=0):b=+b||0;return c+Va(Ka()*(b-c+1))};p.reduce=Bb;p.reduceRight=ib;p.result=function(c,b){if(c){var f=c[b];return M(f)?c[b]():f}};p.size=function(c){var b=c?c.length:0;return"number"==typeof b?b:La(c).length};p.some=ua;p.sortedIndex=V;p.template=function(c,b,g){var f=p.templateSettings;c=String(c||"");g=pa({},g,f);var k=0,n="__p += '";
f=g.variable;c.replace(RegExp((g.escape||T).source+"|"+(g.interpolate||T).source+"|"+(g.evaluate||T).source+"|$","g"),function(b,f,g,q,m){n+=c.slice(k,m).replace(A,l);f&&(n+="' +\n_.escape("+f+") +\n'");q&&(n+="';\n"+q+";\n__p += '");g&&(n+="' +\n((__t = ("+g+")) == null ? '' : __t) +\n'");k=m+b.length;return b});n+="';\n";f||(f="obj",n="with ("+f+" || {}) {\n"+n+"\n}\n");n="function("+f+") {\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"+n+
"return __p\n}";try{var q=Function("_","return "+n)(p)}catch(aa){throw aa.source=n,aa;}if(b)return q(b);q.source=n;return q};p.unescape=function(c){return null==c?"":String(c).replace(Ob,G)};p.uniqueId=function(c){var b=++Za+"";return c?c+b:b};p.all=N;p.any=ua;p.detect=oa;p.findWhere=function(c,b){return H(c,b,!0)};p.foldl=Bb;p.foldr=ib;p.include=k;p.inject=Bb;p.first=fa;p.last=function(b,g,k){var f=0,l=b?b.length:0;if("number"!=typeof g&&null!=g){var n=l;for(g=c(g,k,3);n--&&g(b[n],n,b);)f++}else if(f=
g,null==f||k)return b?b[l-1]:Ua;return v(b,ta(0,l-f))};p.sample=function(c,b,k){c&&"number"!=typeof c.length&&(c=g(c));if(null==b||k)return c?c[Ea(0,c.length-1)]:Ua;c=Qb(c);c.length=Wa(ta(0,b),c.length);return c};p.take=fa;p.head=fa;dc(p);p.VERSION="2.4.1";p.prototype.chain=function(){this.__chain__=!0;return this};p.prototype.value=function(){return this.__wrapped__};ba("pop push reverse shift sort splice unshift".split(" "),function(c){var b=lb[c];p.prototype[c]=function(){var c=this.__wrapped__;
b.apply(c,arguments);Wb||0!==c.length||delete c[0];return this}});ba(["concat","join","slice"],function(c){var b=lb[c];p.prototype[c]=function(){var c=b.apply(this.__wrapped__,arguments);this.__chain__&&(c=new E(c),c.__chain__=!0);return c}});"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ca._=p,define(function(){return p})):ub&&I?da?(I.exports=p)._=p:ub._=p:Ca._=p}).call(this);
(function(b,m){if("function"===typeof define&&define.amd)define(["underscore","jquery","exports"],function(l,p,E){b.Backbone=m(b,E,l,p)});else if("undefined"!==typeof exports){var l=require("underscore");m(b,exports,l)}else b.Backbone=m(b,{},b._,b.jQuery||b.Zepto||b.ender||b.$)})(this,function(b,m,l,v){var p=b.Backbone,E=[].slice;m.VERSION="1.1.2";m.$=v;m.noConflict=function(){b.Backbone=p;return this};m.emulateHTTP=!1;m.emulateJSON=!1;var C=m.Events={on:function(b,k,l){if(!Z(this,"on",b,[k,l])||
!k)return this;this._events||(this._events={});(this._events[b]||(this._events[b]=[])).push({callback:k,context:l,ctx:l||this});return this},once:function(b,k,m){if(!Z(this,"once",b,[k,m])||!k)return this;var g=this,p=l.once(function(){g.off(b,p);k.apply(this,arguments)});p._callback=k;return this.on(b,p,m)},off:function(b,k,m){var g,p,N,v;if(!this._events||!Z(this,"off",b,[k,m]))return this;if(!b&&!k&&!m)return this._events=void 0,this;var C=b?[b]:l.keys(this._events);var D=0;for(N=C.length;D<N;D++)if(b=
C[D],p=this._events[b]){this._events[b]=g=[];if(k||m){var E=0;for(v=p.length;E<v;E++){var G=p[E];(k&&k!==G.callback&&k!==G.callback._callback||m&&m!==G.context)&&g.push(G)}}g.length||delete this._events[b]}return this},trigger:function(b){if(!this._events)return this;var g=E.call(arguments,1);if(!Z(this,"trigger",b,g))return this;var l=this._events[b],m=this._events.all;l&&R(l,g);m&&R(m,arguments);return this},stopListening:function(b,k,m){var g=this._listeningTo;if(!g)return this;var p=!k&&!m;m||
"object"!==typeof k||(m=this);b&&((g={})[b._listenId]=b);for(var N in g)b=g[N],b.off(k,m,this),(p||l.isEmpty(b._events))&&delete this._listeningTo[N];return this}},D=/\s+/,Z=function(b,k,l,m){if(!l)return!0;if("object"===typeof l){for(var g in l)b[k].apply(b,[g,l[g]].concat(m));return!1}if(D.test(l)){l=l.split(D);g=0;for(var p=l.length;g<p;g++)b[k].apply(b,[l[g]].concat(m));return!1}return!0},R=function(b,k){var g,l=-1,m=b.length,p=k[0],v=k[1],C=k[2];switch(k.length){case 0:for(;++l<m;)(g=b[l]).callback.call(g.ctx);
break;case 1:for(;++l<m;)(g=b[l]).callback.call(g.ctx,p);break;case 2:for(;++l<m;)(g=b[l]).callback.call(g.ctx,p,v);break;case 3:for(;++l<m;)(g=b[l]).callback.call(g.ctx,p,v,C);break;default:for(;++l<m;)(g=b[l]).callback.apply(g.ctx,k)}};l.each({listenTo:"on",listenToOnce:"once"},function(b,k){C[k]=function(g,k,m){var p=this._listeningTo||(this._listeningTo={}),N=g._listenId||(g._listenId=l.uniqueId("l"));p[N]=g;m||"object"!==typeof k||(m=this);g[b](k,m,this);return this}});C.bind=C.on;C.unbind=C.off;
l.extend(m,C);var K=m.Model=function(b,k){var g=b||{};k||(k={});this.cid=l.uniqueId("c");this.attributes={};k.collection&&(this.collection=k.collection);k.parse&&(g=this.parse(g,k)||{});g=l.defaults({},g,l.result(this,"defaults"));this.set(g,k);this.changed={};this.initialize.apply(this,arguments)};l.extend(K.prototype,C,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(b){return l.clone(this.attributes)},sync:function(){return m.sync.apply(this,arguments)},
get:function(b){return this.attributes[b]},escape:function(b){return l.escape(this.get(b))},has:function(b){return null!=this.get(b)},set:function(b,k,m){var g;if(null==b)return this;if("object"===typeof b){var p=b;m=k}else(p={})[b]=k;m||(m={});if(!this._validate(p,m))return!1;var N=m.unset;var v=m.silent;b=[];var C=this._changing;this._changing=!0;C||(this._previousAttributes=l.clone(this.attributes),this.changed={});var D=this.attributes;var E=this._previousAttributes;this.idAttribute in p&&(this.id=
p[this.idAttribute]);for(g in p)k=p[g],l.isEqual(D[g],k)||b.push(g),l.isEqual(E[g],k)?delete this.changed[g]:this.changed[g]=k,N?delete D[g]:D[g]=k;if(!v)for(b.length&&(this._pending=m),k=0,g=b.length;k<g;k++)this.trigger("change:"+b[k],this,D[b[k]],m);if(C)return this;if(!v)for(;this._pending;)m=this._pending,this._pending=!1,this.trigger("change",this,m);this._changing=this._pending=!1;return this},unset:function(b,k){return this.set(b,void 0,l.extend({},k,{unset:!0}))},clear:function(b){var g=
{},m;for(m in this.attributes)g[m]=void 0;return this.set(g,l.extend({},b,{unset:!0}))},hasChanged:function(b){return null==b?!l.isEmpty(this.changed):l.has(this.changed,b)},changedAttributes:function(b){if(!b)return this.hasChanged()?l.clone(this.changed):!1;var g,m=!1,p=this._changing?this._previousAttributes:this.attributes,v;for(v in b)l.isEqual(p[v],g=b[v])||((m||(m={}))[v]=g);return m},previous:function(b){return null!=b&&this._previousAttributes?this._previousAttributes[b]:null},previousAttributes:function(){return l.clone(this._previousAttributes)},
fetch:function(b){b=b?l.clone(b):{};void 0===b.parse&&(b.parse=!0);var g=this,m=b.success;b.success=function(k){if(!g.set(g.parse(k,b),b))return!1;m&&m(g,k,b);g.trigger("sync",g,k,b)};Ya(this,b);return this.sync("read",this,b)},save:function(b,k,m){var g=this.attributes;if(null==b||"object"===typeof b){var p=b;m=k}else(p={})[b]=k;m=l.extend({validate:!0},m);if(p&&!m.wait){if(!this.set(p,m))return!1}else if(!this._validate(p,m))return!1;p&&m.wait&&(this.attributes=l.extend({},g,p));void 0===m.parse&&
(m.parse=!0);var v=this,N=m.success;m.success=function(b){v.attributes=g;var k=v.parse(b,m);m.wait&&(k=l.extend(p||{},k));if(l.isObject(k)&&!v.set(k,m))return!1;N&&N(v,b,m);v.trigger("sync",v,b,m)};Ya(this,m);b=this.isNew()?"create":m.patch?"patch":"update";"patch"===b&&(m.attrs=p);b=this.sync(b,this,m);p&&m.wait&&(this.attributes=g);return b},destroy:function(b){b=b?l.clone(b):{};var g=this,m=b.success,p=function(){g.trigger("destroy",g,g.collection,b)};b.success=function(k){(b.wait||g.isNew())&&
p();m&&m(g,k,b);g.isNew()||g.trigger("sync",g,k,b)};if(this.isNew())return b.success(),!1;Ya(this,b);var v=this.sync("delete",this,b);b.wait||p();return v},url:function(){var b=l.result(this,"urlRoot")||l.result(this.collection,"url")||Pa();return this.isNew()?b:b.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(b,k){return b},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(b){return this._validate({},
l.extend(b||{},{validate:!0}))},_validate:function(b,k){if(!k.validate||!this.validate)return!0;b=l.extend({},this.attributes,b);var g=this.validationError=this.validate(b,k)||null;if(!g)return!0;this.trigger("invalid",this,g,l.extend(k,{validationError:g}));return!1}});l.each("keys values pairs invert pick omit".split(" "),function(b){K.prototype[b]=function(){var g=E.call(arguments);g.unshift(this.attributes);return l[b].apply(l,g)}});var S=m.Collection=function(b,k){k||(k={});k.model&&(this.model=
k.model);void 0!==k.comparator&&(this.comparator=k.comparator);this._reset();this.initialize.apply(this,arguments);b&&this.reset(b,l.extend({silent:!0},k))},ha={add:!0,remove:!0,merge:!0},Ea={add:!0,remove:!1};l.extend(S.prototype,C,{model:K,initialize:function(){},toJSON:function(b){return this.map(function(g){return g.toJSON(b)})},sync:function(){return m.sync.apply(this,arguments)},add:function(b,k){return this.set(b,l.extend({merge:!1},k,Ea))},remove:function(b,k){var g=!l.isArray(b);b=g?[b]:
l.clone(b);k||(k={});var m,p;var v=0;for(m=b.length;v<m;v++)if(p=b[v]=this.get(b[v])){delete this._byId[p.id];delete this._byId[p.cid];var C=this.indexOf(p);this.models.splice(C,1);this.length--;k.silent||(k.index=C,p.trigger("remove",p,this,k));this._removeReference(p,k)}return g?b[0]:b},set:function(b,k){k=l.defaults({},k,ha);k.parse&&(b=this.parse(b,k));var g=!l.isArray(b);b=g?b?[b]:[]:l.clone(b);var m,p,v,C=k.at,D=this.model,E=this.comparator&&null==C&&!1!==k.sort,G=l.isString(this.comparator)?
this.comparator:null,F=[],Z=[],M={},H=k.add,Q=k.merge,P=k.remove,O=!E&&H&&P?[]:!1;var V=0;for(m=b.length;V<m;V++){var R=b[V]||{};var S=R instanceof K?p=R:R[D.prototype.idAttribute||"id"];if(S=this.get(S))P&&(M[S.cid]=!0),Q&&(R=R===p?p.attributes:R,k.parse&&(R=S.parse(R,k)),S.set(R,k),E&&!v&&S.hasChanged(G)&&(v=!0)),b[V]=S;else if(H){p=b[V]=this._prepareModel(R,k);if(!p)continue;F.push(p);this._addReference(p,k)}p=S||p;!O||!p.isNew()&&M[p.id]||O.push(p);M[p.id]=!0}if(P){V=0;for(m=this.length;V<m;++V)M[(p=
this.models[V]).cid]||Z.push(p);Z.length&&this.remove(Z,k)}if(F.length||O&&O.length)if(E&&(v=!0),this.length+=F.length,null!=C)for(V=0,m=F.length;V<m;V++)this.models.splice(C+V,0,F[V]);else for(O&&(this.models.length=0),R=O||F,V=0,m=R.length;V<m;V++)this.models.push(R[V]);v&&this.sort({silent:!0});if(!k.silent){V=0;for(m=F.length;V<m;V++)(p=F[V]).trigger("add",p,this,k);(v||O&&O.length)&&this.trigger("sort",this,k)}return g?b[0]:b},reset:function(b,k){k||(k={});for(var g=0,m=this.models.length;g<
m;g++)this._removeReference(this.models[g],k);k.previousModels=this.models;this._reset();b=this.add(b,l.extend({silent:!0},k));k.silent||this.trigger("reset",this,k);return b},push:function(b,k){return this.add(b,l.extend({at:this.length},k))},pop:function(b){var g=this.at(this.length-1);this.remove(g,b);return g},unshift:function(b,k){return this.add(b,l.extend({at:0},k))},shift:function(b){var g=this.at(0);this.remove(g,b);return g},slice:function(){return E.apply(this.models,arguments)},get:function(b){if(null!=
b)return this._byId[b]||this._byId[b.id]||this._byId[b.cid]},at:function(b){return this.models[b]},where:function(b,k){return l.isEmpty(b)?k?void 0:[]:this[k?"find":"filter"](function(g){for(var k in b)if(b[k]!==g.get(k))return!1;return!0})},findWhere:function(b){return this.where(b,!0)},sort:function(b){if(!this.comparator)throw Error("Cannot sort a set without a comparator");b||(b={});l.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(l.bind(this.comparator,
this));b.silent||this.trigger("sort",this,b);return this},pluck:function(b){return l.invoke(this.models,"get",b)},fetch:function(b){b=b?l.clone(b):{};void 0===b.parse&&(b.parse=!0);var g=b.success,m=this;b.success=function(k){m[b.reset?"reset":"set"](k,b);g&&g(m,k,b);m.trigger("sync",m,k,b)};Ya(this,b);return this.sync("read",this,b)},create:function(b,k){k=k?l.clone(k):{};if(!(b=this._prepareModel(b,k)))return!1;k.wait||this.add(b,k);var g=this,m=k.success;k.success=function(b,l){k.wait&&g.add(b,
k);m&&m(b,l,k)};b.save(null,k);return b},parse:function(b,k){return b},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(b,k){if(b instanceof K)return b;k=k?l.clone(k):{};k.collection=this;var g=new this.model(b,k);if(!g.validationError)return g;this.trigger("invalid",this,g.validationError,k);return!1},_addReference:function(b,k){this._byId[b.cid]=b;null!=b.id&&(this._byId[b.id]=b);b.collection||(b.collection=
this);b.on("all",this._onModelEvent,this)},_removeReference:function(b,k){this===b.collection&&delete b.collection;b.off("all",this._onModelEvent,this)},_onModelEvent:function(b,k,l,m){if("add"!==b&&"remove"!==b||l===this)"destroy"===b&&this.remove(k,m),k&&b==="change:"+k.idAttribute&&(delete this._byId[k.previous(k.idAttribute)],null!=k.id&&(this._byId[k.id]=k)),this.trigger.apply(this,arguments)}});l.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain sample".split(" "),
function(b){S.prototype[b]=function(){var g=E.call(arguments);g.unshift(this.models);return l[b].apply(l,g)}});l.each(["groupBy","countBy","sortBy","indexBy"],function(b){S.prototype[b]=function(g,m){var k=l.isFunction(g)?g:function(b){return b.get(g)};return l[b](this.models,k,m)}});v=m.View=function(b){this.cid=l.uniqueId("view");b||(b={});l.extend(this,l.pick(b,gb));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var fb=/^(\S+)\s*(.*)$/,gb="model collection el id attributes className tagName events".split(" ");
l.extend(v.prototype,C,{tagName:"div",$:function(b){return this.$el.find(b)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(b,k){this.$el&&this.undelegateEvents();this.$el=b instanceof m.$?b:m.$(b);this.el=this.$el[0];!1!==k&&this.delegateEvents();return this},delegateEvents:function(b){if(!b&&!(b=l.result(this,"events")))return this;this.undelegateEvents();for(var g in b){var m=b[g];l.isFunction(m)||
(m=this[b[g]]);if(m){var p=g.match(fb),v=p[1];p=p[2];m=l.bind(m,this);v+=".delegateEvents"+this.cid;if(""===p)this.$el.on(v,m);else this.$el.on(v,p,m)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(l.result(this,"el"),!1);else{var b=l.extend({},l.result(this,"attributes"));this.id&&(b.id=l.result(this,"id"));this.className&&(b["class"]=l.result(this,"className"));b=m.$("<"+l.result(this,"tagName")+
">").attr(b);this.setElement(b,!1)}}});m.sync=function(b,k,p){var g=Fa[b];l.defaults(p||(p={}),{emulateHTTP:m.emulateHTTP,emulateJSON:m.emulateJSON});var v={type:g,dataType:"json"};p.url||(v.url=l.result(k,"url")||Pa());null!=p.data||!k||"create"!==b&&"update"!==b&&"patch"!==b||(v.contentType="application/json",v.data=JSON.stringify(p.attrs||k.toJSON(p)));p.emulateJSON&&(v.contentType="application/x-www-form-urlencoded",v.data=v.data?{model:v.data}:{});if(p.emulateHTTP&&("PUT"===g||"DELETE"===g||
"PATCH"===g)){v.type="POST";p.emulateJSON&&(v.data._method=g);var C=p.beforeSend;p.beforeSend=function(b){b.setRequestHeader("X-HTTP-Method-Override",g);if(C)return C.apply(this,arguments)}}"GET"===v.type||p.emulateJSON||(v.processData=!1);"PATCH"===v.type&&P&&(v.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});b=p.xhr=m.ajax(l.extend(v,p));k.trigger("request",k,b,p);return b};var P="undefined"!==typeof window&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),
Fa={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};m.ajax=function(){return m.$.ajax.apply(m.$,arguments)};var ia=m.Router=function(b){b||(b={});b.routes&&(this.routes=b.routes);this._bindRoutes();this.initialize.apply(this,arguments)},hb=/\((.*?)\)/g,G=/(\(\?)?:\w+/g,F=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;l.extend(ia.prototype,C,{initialize:function(){},route:function(b,k,p){l.isRegExp(b)||(b=this._routeToRegExp(b));l.isFunction(k)&&(p=k,k="");p||(p=this[k]);var g=this;m.history.route(b,
function(l){l=g._extractParameters(b,l);g.execute(p,l);g.trigger.apply(g,["route:"+k].concat(l));g.trigger("route",k,l);m.history.trigger("route",g,k,l)});return this},execute:function(b,k){b&&b.apply(this,k)},navigate:function(b,k){m.history.navigate(b,k);return this},_bindRoutes:function(){if(this.routes){this.routes=l.result(this,"routes");for(var b,k=l.keys(this.routes);null!=(b=k.pop());)this.route(b,this.routes[b])}},_routeToRegExp:function(b){b=b.replace(O,"\\$&").replace(hb,"(?:$1)?").replace(G,
function(b,g){return g?b:"([^/?]+)"}).replace(F,"([^?]*?)");return new RegExp("^"+b+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(b,k){var g=b.exec(k).slice(1);return l.map(g,function(b,k){return k===g.length-1?b||null:b?decodeURIComponent(b):null})}});var pa=m.History=function(){this.handlers=[];l.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},ja=/^[#\/]|\s+$/g,la=/^\/+|\/+$/g,Q=/msie [\w.]+/,M=/\/$/,ya=/#.*$/;pa.started=
!1;l.extend(pa.prototype,C,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(b){return(b=(b||this).location.href.match(/#(.*)$/))?b[1]:""},getFragment:function(b,k){if(null==b)if(this._hasPushState||!this._wantsHashChange||k){b=decodeURI(this.location.pathname+this.location.search);var g=this.root.replace(M,"");b.indexOf(g)||(b=b.slice(g.length))}else b=this.getHash();return b.replace(ja,"")},start:function(b){if(pa.started)throw Error("Backbone.history has already been started");
pa.started=!0;this.options=l.extend({root:"/"},this.options,b);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);b=this.getFragment();var g=document.documentMode;g=Q.exec(navigator.userAgent.toLowerCase())&&(!g||7>=g);this.root=("/"+this.root+"/").replace(la,"/");g&&this._wantsHashChange&&(this.iframe=m.$('<iframe src="javascript:0" tabindex="-1">').hide().appendTo("body")[0].contentWindow,
this.navigate(b));if(this._hasPushState)m.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!g)m.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=b;b=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&
this.atRoot()&&b.hash&&(this.fragment=this.getHash().replace(ja,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){m.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);pa.started=!1},route:function(b,k){this.handlers.unshift({route:b,callback:k})},checkUrl:function(b){b=this.getFragment();b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe)));
if(b===this.fragment)return!1;this.iframe&&this.navigate(b);this.loadUrl()},loadUrl:function(b){b=this.fragment=this.getFragment(b);return l.any(this.handlers,function(g){if(g.route.test(b))return g.callback(b),!0})},navigate:function(b,k){if(!pa.started)return!1;k&&!0!==k||(k={trigger:!!k});var g=this.root+(b=this.getFragment(b||""));b=b.replace(ya,"");if(this.fragment!==b){this.fragment=b;""===b&&"/"!==g&&(g=g.slice(0,-1));if(this._hasPushState)this.history[k.replace?"replaceState":"pushState"]({},
document.title,g);else if(this._wantsHashChange)this._updateHash(this.location,b,k.replace),this.iframe&&b!==this.getFragment(this.getHash(this.iframe))&&(k.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,b,k.replace));else return this.location.assign(g);if(k.trigger)return this.loadUrl(b)}},_updateHash:function(b,k,l){l?(l=b.href.replace(/(javascript:|#).*$/,""),b.replace(l+"#"+k)):b.hash="#"+k}});m.history=new pa;K.extend=S.extend=ia.extend=v.extend=pa.extend=
function(b,k){var g=this;var m=b&&l.has(b,"constructor")?b.constructor:function(){return g.apply(this,arguments)};l.extend(m,g,k);var p=function(){this.constructor=m};p.prototype=g.prototype;m.prototype=new p;b&&l.extend(m.prototype,b);m.__super__=g.prototype;return m};var Pa=function(){throw Error('A "url" property or function must be specified');},Ya=function(b,k){var g=k.error;k.error=function(l){g&&g(b,l,k);b.trigger("error",b,l,k)}};return m});
!function(b,m){"object"==typeof exports&&"undefined"!=typeof module?m(exports):"function"==typeof define&&define.amd?define(["exports"],m):m(b.L={})}(this,function(b){function m(d){var a,b;var c=1;for(b=arguments.length;c<b;c++){var e=arguments[c];for(a in e)d[a]=e[a]}return d}function l(d,a){var b=Array.prototype.slice;if(d.bind)return d.bind.apply(d,b.call(arguments,1));var c=b.call(arguments,2);return function(){return d.apply(a,c.length?c.concat(b.call(arguments)):arguments)}}function v(d){return d._leaflet_id=
d._leaflet_id||++n,d._leaflet_id}function p(d,a,b){var c,t,e,f;return f=function(){c=!1;t&&(e.apply(b,t),t=!1)},e=function(){c?t=arguments:(d.apply(b,arguments),setTimeout(f,a),c=!0)}}function E(d,a,b){var c=a[1];a=a[0];var t=c-a;return d===c&&b?d:((d-a)%t+t)%t+a}function C(){return!1}function D(d,a){var b=Math.pow(10,a||5);return Math.round(d*b)/b}function Z(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function R(d){return Z(d).split(/\s+/)}function K(d,a){d.hasOwnProperty("options")||(d.options=
d.options?f(d.options):{});for(var b in a)d.options[b]=a[b];return d.options}function S(d,a,b){var c=[],t;for(t in d)c.push(encodeURIComponent(b?t.toUpperCase():t)+"="+encodeURIComponent(d[t]));return(a&&-1!==a.indexOf("?")?"&":"?")+c.join("&")}function ha(d,a){return d.replace(q,function(d,b){var c=a[b];if(void 0===c)throw Error("No value provided for variable "+d);return"function"==typeof c&&(c=c(a)),c})}function Ea(d,a){for(var b=0;b<d.length;b++)if(d[b]===a)return b;return-1}function fb(d){return window["webkit"+
d]||window["moz"+d]||window["ms"+d]}function gb(d){var a=+new Date,b=Math.max(0,16-(a-xa));return xa=a+b,window.setTimeout(d,b)}function P(d,a,b){if(!b||Ma!==gb)return Ma.call(window,l(d,a));d.call(a)}function Fa(d){d&&qa.call(window,d)}function ia(){}function hb(d){if(L&&L.Mixin){d=w(d)?d:[d];for(var a=0;a<d.length;a++)d[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",Error().stack)}}
function G(d,a,b){this.x=b?Math.round(d):d;this.y=b?Math.round(a):a}function F(d,a,b){return d instanceof G?d:w(d)?new G(d[0],d[1]):void 0===d||null===d?d:"object"==typeof d&&"x"in d&&"y"in d?new G(d.x,d.y):new G(d,a,b)}function O(d,a){if(d)for(var b=a?[d,a]:d,c=0,t=b.length;c<t;c++)this.extend(b[c])}function pa(d,a){return!d||d instanceof O?d:new O(d,a)}function ja(d,a){if(d)for(var b=a?[d,a]:d,c=0,t=b.length;c<t;c++)this.extend(b[c])}function la(d,a){return d instanceof ja?d:new ja(d,a)}function Q(d,
a,b){if(isNaN(d)||isNaN(a))throw Error("Invalid LatLng object: ("+d+", "+a+")");this.lat=+d;this.lng=+a;void 0!==b&&(this.alt=+b)}function M(d,a,b){return d instanceof Q?d:w(d)&&"object"!=typeof d[0]?3===d.length?new Q(d[0],d[1],d[2]):2===d.length?new Q(d[0],d[1]):null:void 0===d||null===d?d:"object"==typeof d&&"lat"in d?new Q(d.lat,"lng"in d?d.lng:d.lon,d.alt):void 0===a?null:new Q(d,a,b)}function ya(d,a,b,c){if(w(d))return this._a=d[0],this._b=d[1],this._c=d[2],void(this._d=d[3]);this._a=d;this._b=
a;this._c=b;this._d=c}function Pa(d,a,b,c){return new ya(d,a,b,c)}function Ya(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function g(d,a){var b,c,t,e="";var f=0;for(b=d.length;f<b;f++){var g=0;for(c=(t=d[f]).length;g<c;g++){var h=t[g];e+=(g?"L":"M")+h.x+" "+h.y}e+=a?xc?"z":"x":""}return e||"M0 0"}function k(d){return 0<=navigator.userAgent.toLowerCase().indexOf(d)}function N(d,a,b,c){return"touchstart"===a?oa(d,b,c):"touchmove"===a?Bb(d,b,c):"touchend"===a&&ib(d,b,c),this}function U(d,
a,b){b=d["_leaflet_"+a+b];return"touchstart"===a?d.removeEventListener($b,b,!1):"touchmove"===a?d.removeEventListener(ac,b,!1):"touchend"===a&&(d.removeEventListener(zc,b,!1),d.removeEventListener(jc,b,!1)),this}function oa(d,a,b){var c=l(function(d){if("mouse"!==d.pointerType&&d.pointerType!==d.MSPOINTER_TYPE_MOUSE&&d.pointerType!==d.MSPOINTER_TYPE_MOUSE){if(!(0>Wc.indexOf(d.target.tagName)))return;z(d)}Sa(d,a)});d["_leaflet_touchstart"+b]=c;d.addEventListener($b,c,!1);Xc||(document.documentElement.addEventListener($b,
ba,!0),document.documentElement.addEventListener(ac,Ab,!0),document.documentElement.addEventListener(zc,Ra,!0),document.documentElement.addEventListener(jc,Ra,!0),Xc=!0)}function ba(d){Mb[d.pointerId]=d;Mc++}function Ab(d){Mb[d.pointerId]&&(Mb[d.pointerId]=d)}function Ra(d){delete Mb[d.pointerId];Mc--}function Sa(d,a){d.touches=[];for(var b in Mb)d.touches.push(Mb[b]);d.changedTouches=[d];a(d)}function Bb(d,a,b){var c=function(d){(d.pointerType!==d.MSPOINTER_TYPE_MOUSE&&"mouse"!==d.pointerType||0!==
d.buttons)&&Sa(d,a)};d["_leaflet_touchmove"+b]=c;d.addEventListener(ac,c,!1)}function ib(d,a,b){var c=function(d){Sa(d,a)};d["_leaflet_touchend"+b]=c;d.addEventListener(zc,c,!1);d.addEventListener(jc,c,!1)}function Qb(d,b,c){function t(d){if(bb){if(!Jb||"mouse"===d.pointerType)return;var a=Mc}else a=d.touches.length;if(!(1<a)){a=Date.now();var b=a-(B||a);g=d.touches?d.touches[0]:d;k=0<b&&b<=l;B=a}}function f(d){if(k&&!g.cancelBubble){if(bb){if(!Jb||"mouse"===d.pointerType)return;var a,c={};for(a in g)d=
g[a],c[a]=d&&d.bind?d.bind(g):d;g=c}g.type="dblclick";b(g);B=null}}var B,g,k=!1,l=250;return d[h+a+c]=t,d[h+e+c]=f,d[h+"dblclick"+c]=b,d.addEventListener(a,t,!1),d.addEventListener(e,f,!1),d.addEventListener("dblclick",b,!1),this}function ua(d,b){var c=d[h+e+b],t=d[h+"dblclick"+b];return d.removeEventListener(a,d[h+a+b],!1),d.removeEventListener(e,c,!1),Jb||d.removeEventListener("dblclick",t,!1),this}function H(d,a,b,c){if("object"==typeof a)for(var t in a)jb(d,t,a[t],b);else{t=0;for(var e=(a=R(a)).length;t<
e;t++)jb(d,a[t],b,c)}return this}function fa(d,a,b,c){if("object"==typeof a)for(var t in a)Ia(d,t,a[t],b);else if(a){t=0;for(var e=(a=R(a)).length;t<e;t++)Ia(d,a[t],b,c)}else{for(e in d[r])Ia(d,e,d[r][e]);delete d[r]}return this}function jb(d,a,b,e){var t=a+v(b)+(e?"_"+v(e):"");if(d[r]&&d[r][t])return this;var f=function(a){return b.call(e||d,a||window.event)},B=f;bb&&0===a.indexOf("touch")?N(d,a,f,t):!va||"dblclick"!==a||!Qb||bb&&sc?"addEventListener"in d?"mousewheel"===a?d.addEventListener("onwheel"in
d?"wheel":"mousewheel",f,!1):"mouseenter"===a||"mouseleave"===a?(f=function(a){a=a||window.event;Za(d,a)&&B(a)},d.addEventListener("mouseenter"===a?"mouseover":"mouseout",f,!1)):("click"===a&&yb&&(f=function(d){var a=d.timeStamp||d.originalEvent&&d.originalEvent.timeStamp,b=Hc&&a-Hc;b&&100<b&&500>b||d.target._simulatedClick&&!d._simulated?c(d):(Hc=a,B(d))}),d.addEventListener(a,f,!1)):"attachEvent"in d&&d.attachEvent("on"+a,f):Qb(d,f,t);d[r]=d[r]||{};d[r][t]=f}function Ia(d,a,b,c){b=a+v(b)+(c?"_"+
v(c):"");c=d[r]&&d[r][b];if(!c)return this;bb&&0===a.indexOf("touch")?U(d,a,b):va&&"dblclick"===a&&ua?ua(d,b):"removeEventListener"in d?"mousewheel"===a?d.removeEventListener("onwheel"in d?"wheel":"mousewheel",c,!1):d.removeEventListener("mouseenter"===a?"mouseover":"mouseleave"===a?"mouseout":a,c,!1):"detachEvent"in d&&d.detachEvent("on"+a,c);d[r][b]=null}function V(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,Ua(d),this}function Ta(d){return jb(d,
"mousewheel",V),this}function Aa(d){return H(d,"mousedown touchstart dblclick",V),jb(d,"click",ec),this}function z(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function c(d){return z(d),V(d),this}function Rb(d,a){if(!a)return new G(d.clientX,d.clientY);var b=a.getBoundingClientRect();return new G(d.clientX-b.left-a.clientLeft,d.clientY-b.top-a.clientTop)}function dc(d){return Jb?d.wheelDeltaY/2:d.deltaY&&0===d.deltaMode?-d.deltaY/J:d.deltaY&&1===d.deltaMode?20*-d.deltaY:d.deltaY&&
2===d.deltaMode?60*-d.deltaY:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&32765>Math.abs(d.detail)?20*-d.detail:d.detail?d.detail/-32765*60:0}function ec(d){Y[d.type]=!0}function Ua(d){var a=Y[d.type];return Y[d.type]=!1,a}function Za(d,a){var b=a.relatedTarget;if(!b)return!0;try{for(;b&&b!==d;)b=b.parentNode}catch(W){return!1}return b!==d}function Ga(d){return"string"==typeof d?document.getElementById(d):d}function tb(d,a){var b=d.style[a]||d.currentStyle&&d.currentStyle[a];
b&&"auto"!==b||!document.defaultView||(b=(b=document.defaultView.getComputedStyle(d,null))?b[a]:null);return"auto"===b?null:b}function T(d,a,b){d=document.createElement(d);return d.className=a||"",b&&b.appendChild(d),d}function A(d){var a=d.parentNode;a&&a.removeChild(d)}function Ba(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function $a(d){var a=d.parentNode;a.lastChild!==d&&a.appendChild(d)}function Ca(d){var a=d.parentNode;a.firstChild!==d&&a.insertBefore(d,a.firstChild)}function ub(d,a){if(void 0!==
d.classList)return d.classList.contains(a);var b=lb(d);return 0<b.length&&(new RegExp("(^|\\s)"+a+"(\\s|$)")).test(b)}function I(d,a){if(void 0!==d.classList)for(var b=R(a),c=0,t=b.length;c<t;c++)d.classList.add(b[c]);else ub(d,a)||(b=lb(d),Ja(d,(b?b+" ":"")+a))}function da(d,a){void 0!==d.classList?d.classList.remove(a):Ja(d,Z((" "+lb(d)+" ").replace(" "+a+" "," ")))}function Ja(d,a){void 0===d.className.baseVal?d.className=a:d.className.baseVal=a}function lb(d){return void 0===d.className.baseVal?
d.className:d.className.baseVal}function wa(d,a){if("opacity"in d.style)d.style.opacity=a;else if("filter"in d.style)a:{var b=a,c=!1;try{c=d.filters.item("DXImageTransform.Microsoft.Alpha")}catch(Bc){if(1===b)break a}b=Math.round(100*b);c?(c.Enabled=100!==b,c.Opacity=b):d.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+b+")"}}function Nb(d){for(var a=document.documentElement.style,b=0;b<d.length;b++)if(d[b]in a)return d[b];return!1}function ka(d,a,b){a=a||new G(0,0);d.style[Nc]=
(Kc?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(b?" scale("+b+")":"")}function ea(d,a){d._leaflet_pos=a;Xa?ka(d,a):(d.style.left=a.x+"px",d.style.top=a.y+"px")}function Ha(d){return d._leaflet_pos||new G(0,0)}function Va(){H(window,"dragstart",z)}function sa(){fa(window,"dragstart",z)}function eb(d){for(;-1===d.tabIndex;)d=d.parentNode;d.style&&(Ub(),nc=d,gd=d.style.outline,d.style.outline="none",H(window,"keydown",Ub))}function Ub(){nc&&(nc.style.outline=gd,nc=void 0,
gd=void 0,fa(window,"keydown",Ub))}function Gb(d,a){if(!a||!d.length)return d.slice();for(var b=a*a,c=d,t=[c[0]],e=1,f=0,g=c.length;e<g;e++){var h=c[e],k=c[f],l=k.x-h.x;h=k.y-h.y;l*l+h*h>b&&(t.push(c[e]),f=e)}c=d=(f<g-1&&t.push(c[g-1]),t);t=c.length;e=new ("undefined"!=typeof Uint8Array?Uint8Array:Array)(t);e[0]=e[t-1]=1;Vb(c,e,b,0,t-1);f=[];for(b=0;b<t;b++)e[b]&&f.push(c[b]);return f}function Hb(d,a,b){return Math.sqrt(Wa(d,a,b,!0))}function Vb(d,a,b,c,e){var t,f,B,g=0;for(f=c+1;f<=e-1;f++)(B=Wa(d[f],
d[c],d[e],!0))>g&&(t=f,g=B);g>b&&(a[t]=1,Vb(d,a,b,c,t),Vb(d,a,b,t,e))}function bc(d,a,b,c,e){var t,f=c?vd:ta(d,b),B=ta(a,b);for(vd=B;;){if(!(f|B))return[d,a];if(f&B)return!1;var g=ta(t=mb(d,a,c=f||B,b,e),b);c===f?(d=t,f=g):(a=t,B=g)}}function mb(d,a,b,c,e){var t,f,B=a.x-d.x;a=a.y-d.y;var g=c.min;c=c.max;return 8&b?(t=d.x+B*(c.y-d.y)/a,f=c.y):4&b?(t=d.x+B*(g.y-d.y)/a,f=g.y):2&b?(t=c.x,f=d.y+a*(c.x-d.x)/B):1&b&&(t=g.x,f=d.y+a*(g.x-d.x)/B),new G(t,f,e)}function ta(d,a){var b=0;return d.x<a.min.x?b|=
1:d.x>a.max.x&&(b|=2),d.y<a.min.y?b|=4:d.y>a.max.y&&(b|=8),b}function Wa(d,a,b,c){var t,e=a.x;a=a.y;var f=b.x-e,B=b.y-a,g=f*f+B*B;return 0<g&&(1<(t=((d.x-e)*f+(d.y-a)*B)/g)?(e=b.x,a=b.y):0<t&&(e+=f*t,a+=B*t)),f=d.x-e,B=d.y-a,c?f*f+B*B:new G(e,a)}function Ka(d){return!w(d[0])||"object"!=typeof d[0][0]&&void 0!==d[0][0]}function Wb(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ka(d)}function ab(d,a,b){var c,t,e,f,B=[1,4,2,8];var g=0;for(e=d.length;g<e;g++)d[g]._code=
ta(d[g],a);for(t=0;4>t;t++){var h=B[t];var k=[];g=0;for(c=(e=d.length)-1;g<e;c=g++){var l=d[g];c=d[c];l._code&h?c._code&h||((f=mb(c,l,h,a,b))._code=ta(f,a),k.push(f)):(c._code&h&&((f=mb(c,l,h,a,b))._code=ta(f,a),k.push(f)),k.push(l))}d=k}return d}function hc(d,a){var b,c,t="Feature"===d.type?d.geometry:d,e=t?t.coordinates:null,f=[],g=a&&a.pointToLayer,h=a&&a.coordsToLatLng||La;if(!e&&!t)return null;switch(t.type){case "Point":return b=h(e),g?g(d,b):new Fc(b);case "MultiPoint":var k=0;for(c=e.length;k<
c;k++)b=h(e[k]),f.push(g?g(d,b):new Fc(b));return new gc(f);case "LineString":case "MultiLineString":return k=vb(e,"LineString"===t.type?0:1,h),new Db(k,a);case "Polygon":case "MultiPolygon":return k=vb(e,"Polygon"===t.type?1:2,h),new oc(k,a);case "GeometryCollection":k=0;for(c=t.geometries.length;k<c;k++)(b=hc({geometry:t.geometries[k],type:"Feature",properties:d.properties},a))&&f.push(b);return new gc(f);default:throw Error("Invalid GeoJSON object.");}}function La(d){return new Q(d[1],d[0],d[2])}
function vb(d,a,b){for(var c,t=[],e=0,f=d.length;e<f;e++)c=a?vb(d[e],a-1,b):(b||La)(d[e]),t.push(c);return t}function Ib(d,a){return a="number"==typeof a?a:6,void 0!==d.alt?[D(d.lng,a),D(d.lat,a),D(d.alt,a)]:[D(d.lng,a),D(d.lat,a)]}function Ob(d,a,b,c){for(var t=[],e=0,f=d.length;e<f;e++)t.push(a?Ob(d[e],a-1,b,c):Ib(d[e],c));return!a&&b&&t.push(t[0]),t}function wb(d,a){return d.feature?m({},d.feature,{geometry:a}):ra(a)}function ra(d){return"Feature"===d.type||"FeatureCollection"===d.type?d:{type:"Feature",
properties:{},geometry:d}}function Da(d,a){return new Eb(d,a)}function pb(d,a){return new mc(d,a)}function Pb(d){return Lc?new ma(d):null}function Xb(d){return xc||yc?new X(d):null}var Qa=Object.freeze;Object.freeze=function(d){return d};var f=Object.create||function(){function d(){}return function(a){return d.prototype=a,new d}}(),n=0,q=/\{ *([\w_\-]+) *\}/g,w=Array.isArray||function(d){return"[object Array]"===Object.prototype.toString.call(d)},xa=0,Ma=window.requestAnimationFrame||fb("RequestAnimationFrame")||
gb,qa=window.cancelAnimationFrame||fb("CancelAnimationFrame")||fb("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)},aa=(Object.freeze||Object)({freeze:Qa,extend:m,create:f,bind:l,lastId:n,stamp:v,throttle:p,wrapNum:E,falseFn:C,formatNum:D,trim:Z,splitWords:R,setOptions:K,getParamString:S,template:ha,isArray:w,indexOf:Ea,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",requestFn:Ma,cancelFn:qa,requestAnimFrame:P,cancelAnimFrame:Fa});ia.extend=function(d){var a=
function(){this.initialize&&this.initialize.apply(this,arguments);this.callInitHooks()},b=a.__super__=this.prototype,c=f(b);c.constructor=a;a.prototype=c;for(var e in this)this.hasOwnProperty(e)&&"prototype"!==e&&"__super__"!==e&&(a[e]=this[e]);return d.statics&&(m(a,d.statics),delete d.statics),d.includes&&(hb(d.includes),m.apply(null,[c].concat(d.includes)),delete d.includes),c.options&&(d.options=m(f(c.options),d.options)),m(c,d),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&
b.callInitHooks.call(this);this._initHooksCalled=!0;for(var d=0,a=c._initHooks.length;d<a;d++)c._initHooks[d].call(this)}},a};ia.include=function(d){return m(this.prototype,d),this};ia.mergeOptions=function(d){return m(this.prototype.options,d),this};ia.addInitHook=function(d){var a=Array.prototype.slice.call(arguments,1);return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push("function"==typeof d?d:function(){this[d].apply(this,a)}),this};var na={on:function(d,
a,b){if("object"==typeof d)for(var c in d)this._on(c,d[c],a);else{c=0;for(var e=(d=R(d)).length;c<e;c++)this._on(d[c],a,b)}return this},off:function(d,a,b){if(d)if("object"==typeof d)for(var c in d)this._off(c,d[c],a);else{c=0;for(var e=(d=R(d)).length;c<e;c++)this._off(d[c],a,b)}else delete this._events;return this},_on:function(d,a,b){this._events=this._events||{};var c=this._events[d];c||(c=[],this._events[d]=c);b===this&&(b=void 0);d={fn:a,ctx:b};for(var e=0,t=c.length;e<t;e++)if(c[e].fn===a&&
c[e].ctx===b)return;c.push(d)},_off:function(d,a,b){var c,e;if(this._events&&(c=this._events[d]))if(a){if(b===this&&(b=void 0),c){var t=0;for(e=c.length;t<e;t++){var f=c[t];if(f.ctx===b&&f.fn===a)return f.fn=C,this._firingCount&&(this._events[d]=c=c.slice()),void c.splice(t,1)}}}else{t=0;for(e=c.length;t<e;t++)c[t].fn=C;delete this._events[d]}},fire:function(d,a,b){if(!this.listens(d,b))return this;a=m({},a,{type:d,target:this});if(this._events&&(d=this._events[d])){this._firingCount=this._firingCount+
1||1;for(var c=0,e=d.length;c<e;c++){var t=d[c];t.fn.call(t.ctx||this,a)}this._firingCount--}return b&&this._propagateEvent(a),this},listens:function(d,a){var b=this._events&&this._events[d];if(b&&b.length)return!0;if(a)for(var c in this._eventParents)if(this._eventParents[c].listens(d,a))return!0;return!1},once:function(d,a,b){if("object"==typeof d){for(var c in d)this.once(c,d[c],a);return this}var e=l(function(){this.off(d,a,b).off(d,e,b)},this);return this.on(d,a,b).on(d,e,b)},addEventParent:function(d){return this._eventParents=
this._eventParents||{},this._eventParents[v(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[v(d)],this},_propagateEvent:function(d){for(var a in this._eventParents)this._eventParents[a].fire(d.type,m({layer:d.target},d),!0)}};na.addEventListener=na.on;na.removeEventListener=na.clearAllEventListeners=na.off;na.addOneTimeEventListener=na.once;na.fireEvent=na.fire;na.hasEventListeners=na.listens;var nb=ia.extend(na);G.prototype={clone:function(){return new G(this.x,
this.y)},add:function(d){return this.clone()._add(F(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(F(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new G(this.x*d.x,this.y*
d.y)},unscaleBy:function(d){return new G(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(d){var a=(d=F(d)).x-this.x;d=d.y-
this.y;return Math.sqrt(a*a+d*d)},equals:function(d){return(d=F(d)).x===this.x&&d.y===this.y},contains:function(d){return d=F(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+D(this.x)+", "+D(this.y)+")"}};O.prototype={extend:function(d){return d=F(d),this.min||this.max?(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)):(this.min=d.clone(),this.max=
d.clone()),this},getCenter:function(d){return new G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return new G(this.min.x,this.max.y)},getTopRight:function(){return new G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var a,b;return(d="number"==typeof d[0]||d instanceof G?F(d):pa(d))instanceof O?(a=d.min,b=d.max):a=b=d,a.x>=this.min.x&&
b.x<=this.max.x&&a.y>=this.min.y&&b.y<=this.max.y},intersects:function(d){d=pa(d);var a=this.min,b=this.max,c=d.min;d=d.max;var e=d.y>=a.y&&c.y<=b.y;return d.x>=a.x&&c.x<=b.x&&e},overlaps:function(d){d=pa(d);var a=this.min,b=this.max,c=d.min;d=d.max;var e=d.y>a.y&&c.y<b.y;return d.x>a.x&&c.x<b.x&&e},isValid:function(){return!(!this.min||!this.max)}};ja.prototype={extend:function(d){var a,b=this._southWest,c=this._northEast;if(d instanceof Q)var e=a=d;else{if(!(d instanceof ja))return d?this.extend(M(d)||
la(d)):this;if(a=d._southWest,e=d._northEast,!a||!e)return this}return b||c?(b.lat=Math.min(a.lat,b.lat),b.lng=Math.min(a.lng,b.lng),c.lat=Math.max(e.lat,c.lat),c.lng=Math.max(e.lng,c.lng)):(this._southWest=new Q(a.lat,a.lng),this._northEast=new Q(e.lat,e.lng)),this},pad:function(d){var a=this._southWest,b=this._northEast,c=Math.abs(a.lat-b.lat)*d;d*=Math.abs(a.lng-b.lng);return new ja(new Q(a.lat-c,a.lng-d),new Q(b.lat+c,b.lng+d))},getCenter:function(){return new Q((this._southWest.lat+this._northEast.lat)/
2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Q(this.getNorth(),this.getWest())},getSouthEast:function(){return new Q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){d="number"==
typeof d[0]||d instanceof Q||"lat"in d?M(d):la(d);var a,b,c=this._southWest,e=this._northEast;return d instanceof ja?(a=d.getSouthWest(),b=d.getNorthEast()):a=b=d,a.lat>=c.lat&&b.lat<=e.lat&&a.lng>=c.lng&&b.lng<=e.lng},intersects:function(d){d=la(d);var a=this._southWest,b=this._northEast,c=d.getSouthWest();d=d.getNorthEast();var e=d.lng>=a.lng&&c.lng<=b.lng;return d.lat>=a.lat&&c.lat<=b.lat&&e},overlaps:function(d){d=la(d);var a=this._southWest,b=this._northEast,c=d.getSouthWest();d=d.getNorthEast();
var e=d.lng>a.lng&&c.lng<b.lng;return d.lat>a.lat&&c.lat<b.lat&&e},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(d,a){return!!d&&(d=la(d),this._southWest.equals(d.getSouthWest(),a)&&this._northEast.equals(d.getNorthEast(),a))},isValid:function(){return!(!this._southWest||!this._northEast)}};Q.prototype={equals:function(d,a){return!!d&&(d=M(d),Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng))<=(void 0===a?1E-9:a))},toString:function(d){return"LatLng("+
D(this.lat,d)+", "+D(this.lng,d)+")"},distanceTo:function(d){return za.distance(this,M(d))},wrap:function(){return za.wrapLatLng(this)},toBounds:function(d){d=180*d/40075017;var a=d/Math.cos(Math.PI/180*this.lat);return la([this.lat-d,this.lng-a],[this.lat+d,this.lng+a])},clone:function(){return new Q(this.lat,this.lng,this.alt)}};var Oa={latLngToPoint:function(d,a){var b=this.projection.project(d),c=this.scale(a);return this.transformation._transform(b,c)},pointToLatLng:function(d,a){var b=this.scale(a);
b=this.transformation.untransform(d,b);return this.projection.unproject(b)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var a=this.projection.bounds;d=this.scale(d);return new O(this.transformation.transform(a.min,d),this.transformation.transform(a.max,d))},infinite:!1,wrapLatLng:function(d){var a=
this.wrapLng?E(d.lng,this.wrapLng,!0):d.lng;return new Q(this.wrapLat?E(d.lat,this.wrapLat,!0):d.lat,a,d.alt)},wrapLatLngBounds:function(d){var a=d.getCenter(),b=this.wrapLatLng(a),c=a.lat-b.lat;a=a.lng-b.lng;if(0===c&&0===a)return d;b=d.getSouthWest();d=d.getNorthEast();return new ja(new Q(b.lat-c,b.lng-a),new Q(d.lat-c,d.lng-a))}},za=m({},Oa,{wrapLng:[-180,180],R:6371E3,distance:function(d,a){var b=Math.PI/180,c=d.lat*b,e=a.lat*b;return this.R*Math.acos(Math.min(Math.sin(c)*Math.sin(e)+Math.cos(c)*
Math.cos(e)*Math.cos((a.lng-d.lng)*b),1))}}),xb={R:6378137,MAX_LATITUDE:85.0511287798,project:function(d){var a=Math.PI/180,b=this.MAX_LATITUDE;b=Math.sin(Math.max(Math.min(b,d.lat),-b)*a);return new G(this.R*d.lng*a,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(d){var a=180/Math.PI;return new Q((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*a,d.x*a/this.R)},bounds:function(){var d=6378137*Math.PI;return new O([-d,-d],[d,d])}()};ya.prototype={transform:function(d,a){return this._transform(d.clone(),
a)},_transform:function(d,a){return a=a||1,d.x=a*(this._a*d.x+this._b),d.y=a*(this._c*d.y+this._d),d},untransform:function(d,a){return a=a||1,new G((d.x/a-this._b)/this._a,(d.y/a-this._d)/this._c)}};var Hc,Yb,Ic=m({},za,{code:"EPSG:3857",projection:xb,transformation:function(){var d=.5/(Math.PI*xb.R);return Pa(d,.5,-d,.5)}()}),kc=m({},Ic,{code:"EPSG:900913"}),zb=document.documentElement.style,rc="ActiveXObject"in window,Na=rc&&!document.addEventListener,Jb="msLaunchUri"in navigator&&!("documentMode"in
document),ob=k("webkit"),yb=k("android"),ic=k("android 2")||k("android 3"),Kb=!!window.opera,sc=k("chrome"),Jc=k("gecko")&&!ob&&!Kb&&!rc,tc=!sc&&k("safari"),uc=k("phantom"),vc="OTransition"in zb,Sc=0===navigator.platform.indexOf("Win"),Kc=rc&&"transition"in zb,wc="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ic,Tc="MozPerspective"in zb,Xa=!window.L_DISABLE_3D&&(Kc||wc||Tc)&&!vc&&!uc,Zb="undefined"!=typeof orientation||k("mobile"),Uc=Zb&&ob,Vc=Zb&&wc,cb=!window.PointerEvent&&window.MSPointerEvent,
bb=!(!window.PointerEvent&&!cb),va=!window.L_NO_TOUCH&&(bb||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Lb=Zb&&Kb,ld=Zb&&Jc,qb=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Lc=!!document.createElement("canvas").getContext,xc=!(!document.createElementNS||!Ya("svg").createSVGRect),yc=!xc&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var a=d.firstChild;return a.style.behavior="url(#default#VML)",
a&&"object"==typeof a.adj}catch(B){return!1}}(),md=(Object.freeze||Object)({ie:rc,ielt9:Na,edge:Jb,webkit:ob,android:yb,android23:ic,opera:Kb,chrome:sc,gecko:Jc,safari:tc,phantom:uc,opera12:vc,win:Sc,ie3d:Kc,webkit3d:wc,gecko3d:Tc,any3d:Xa,mobile:Zb,mobileWebkit:Uc,mobileWebkit3d:Vc,msPointer:cb,pointer:bb,touch:va,mobileOpera:Lb,mobileGecko:ld,retina:qb,canvas:Lc,svg:xc,vml:yc}),$b=cb?"MSPointerDown":"pointerdown",ac=cb?"MSPointerMove":"pointermove",zc=cb?"MSPointerUp":"pointerup",jc=cb?"MSPointerCancel":
"pointercancel",Wc=["INPUT","SELECT","OPTION"],Mb={},Xc=!1,Mc=0,a=cb?"MSPointerDown":bb?"pointerdown":"touchstart",e=cb?"MSPointerUp":bb?"pointerup":"touchend",h="_leaflet_",r="_leaflet_events",J=Sc&&sc?2*window.devicePixelRatio:Jc?window.devicePixelRatio:1,Y={},Yc=(Object.freeze||Object)({on:H,off:fa,stopPropagation:V,disableScrollPropagation:Ta,disableClickPropagation:Aa,preventDefault:z,stop:c,getMousePosition:Rb,getWheelDelta:dc,fakeStop:ec,skipped:Ua,isExternalTarget:Za,addListener:H,removeListener:fa}),
Nc=Nb(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),Ac=Nb(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zc="webkitTransition"===Ac||"OTransition"===Ac?Ac+"End":"transitionend";if("onselectstart"in document){var Oc=function(){H(window,"selectstart",z)};var Pc=function(){fa(window,"selectstart",z)}}else{var cc=Nb(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Oc=function(){if(cc){var d=document.documentElement.style;
Yb=d[cc];d[cc]="none"}};Pc=function(){cc&&(document.documentElement.style[cc]=Yb,Yb=void 0)}}var nc,gd,Hd=(Object.freeze||Object)({TRANSFORM:Nc,TRANSITION:Ac,TRANSITION_END:Zc,get:Ga,getStyle:tb,create:T,remove:A,empty:Ba,toFront:$a,toBack:Ca,hasClass:ub,addClass:I,removeClass:da,setClass:Ja,getClass:lb,setOpacity:wa,testProp:Nb,setTransform:ka,setPosition:ea,getPosition:Ha,disableTextSelection:Oc,enableTextSelection:Pc,disableImageDrag:Va,enableImageDrag:sa,preventOutline:eb,restoreOutline:Ub}),
sd=nb.extend({run:function(d,a,b,c){this.stop();this._el=d;this._inProgress=!0;this._duration=b||.25;this._easeOutPower=1/Math.max(c||.5,.2);this._startPos=Ha(d);this._offset=a.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=P(this._animate,this);this._step()},_step:function(d){var a=+new Date-this._startTime,b=1E3*this._duration;a<b?this._runFrame(this._easeOut(a/
b),d):(this._runFrame(1),this._complete())},_runFrame:function(d,a){var b=this._startPos.add(this._offset.multiplyBy(d));a&&b._round();ea(this._el,b);this.fire("step")},_complete:function(){Fa(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),ca=nb.extend({options:{crs:Ic,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,
transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,a){a=K(this,a);this._initContainer(d);this._initLayout();this._onResize=l(this._onResize,this);this._initEvents();a.maxBounds&&this.setMaxBounds(a.maxBounds);void 0!==a.zoom&&(this._zoom=this._limitZoom(a.zoom));a.center&&void 0!==a.zoom&&this.setView(M(a.center),a.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this.callInitHooks();(this._zoomAnimated=Ac&&Xa&&!Lb&&
this.options.zoomAnimation)&&(this._createAnimProxy(),H(this._proxy,Zc,this._catchTransitionEnd,this));this._addLayers(this.options.layers)},setView:function(d,a,b){return a=void 0===a?this._zoom:this._limitZoom(a),d=this._limitCenter(M(d),a,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&!0!==b&&(void 0!==b.animate&&(b.zoom=m({animate:b.animate},b.zoom),b.pan=m({animate:b.animate,duration:b.duration},b.pan)),this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,a,b.zoom):
this._tryAnimatedPan(d,b.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(d,a),this)},setZoom:function(d,a){return this._loaded?this.setView(this.getCenter(),d,{zoom:a}):(this._zoom=d,this)},zoomIn:function(d,a){return d=d||(Xa?this.options.zoomDelta:1),this.setZoom(this._zoom+d,a)},zoomOut:function(d,a){return d=d||(Xa?this.options.zoomDelta:1),this.setZoom(this._zoom-d,a)},setZoomAround:function(d,a,b){var c=this.getZoomScale(a),e=this.getSize().divideBy(2);d=(d instanceof G?d:this.latLngToContainerPoint(d)).subtract(e).multiplyBy(1-
1/c);e=this.containerPointToLatLng(e.add(d));return this.setView(e,a,{zoom:b})},_getBoundsCenterZoom:function(d,a){a=a||{};d=d.getBounds?d.getBounds():la(d);var b=F(a.paddingTopLeft||a.padding||[0,0]),c=F(a.paddingBottomRight||a.padding||[0,0]),e=this.getBoundsZoom(d,!1,b.add(c));if((e="number"==typeof a.maxZoom?Math.min(a.maxZoom,e):e)===1/0)return{center:d.getCenter(),zoom:e};b=c.subtract(b).divideBy(2);c=this.project(d.getSouthWest(),e);var f=this.project(d.getNorthEast(),e);return{center:this.unproject(c.add(f).divideBy(2).add(b),
e),zoom:e}},fitBounds:function(d,a){if(!(d=la(d)).isValid())throw Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(d,a);return this.setView(b.center,b.zoom,a)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,a){return this.setView(d,this._zoom,{pan:a})},panBy:function(d,a){if(d=F(d).round(),a=a||{},!d.x&&!d.y)return this.fire("moveend");if(!0!==a.animate&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),
this.getZoom()),this;if(this._panAnim||(this._panAnim=new sd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),!1!==a.animate){I(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,b,a.duration||.25,a.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,a,b){function c(d){d=(n*n-m*m+(d?-1:1)*r*r*p*p)/(2*(d?n:m)*r*p);
d=Math.sqrt(d*d+1)-d;return 1E-9>d?-18:Math.log(d)}function e(d){return(Math.exp(d)+Math.exp(-d))/2}function f(d){return m*(e(v)/e(v+q*d))}function t(d){var a=m,b=e(v);d=v+q*d;d=(Math.exp(d)-Math.exp(-d))/2/e(d);return a*(b*d-(Math.exp(v)-Math.exp(-v))/2)/r}function g(){var b=(Date.now()-w)/A,c=(1-Math.pow(1-b,1.5))*z;1>=b?(this._flyToFrame=P(g,this),this._move(this.unproject(B.add(h.subtract(B).multiplyBy(t(c)/p)),l),this.getScaleZoom(m/f(c),l),{flyTo:!0})):this._move(d,a)._moveEnd(!0)}if(!1===(b=
b||{}).animate||!Xa)return this.setView(d,a,b);this._stop();var B=this.project(this.getCenter()),h=this.project(d),k=this.getSize(),l=this._zoom;d=M(d);a=void 0===a?l:a;var m=Math.max(k.x,k.y),n=m*this.getZoomScale(l,a),p=h.distanceTo(B)||1,q=1.42,r=q*q,v=c(0),w=Date.now(),z=(c(1)-v)/q,A=b.duration?1E3*b.duration:800*z;return this._moveStart(!0),g.call(this),this},flyToBounds:function(d,a){var b=this._getBoundsCenterZoom(d,a);return this.flyTo(b.center,b.zoom,a)},setMaxBounds:function(d){return(d=
la(d)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(d){return this.options.minZoom=d,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(d):this},setMaxZoom:function(d){return this.options.maxZoom=d,this._loaded&&this.getZoom()>this.options.maxZoom?
this.setZoom(d):this},panInsideBounds:function(d,a){this._enforcingBounds=!0;var b=this.getCenter(),c=this._limitCenter(b,this._zoom,la(d));return b.equals(c)||this.panTo(c,a),this._enforcingBounds=!1,this},invalidateSize:function(d){if(!this._loaded)return this;d=m({animate:!1,pan:!0},!0===d?{animate:!0}:d);var a=this.getSize();this._sizeChanged=!0;this._lastCenter=null;var b=this.getSize(),c=a.divideBy(2).round(),e=b.divideBy(2).round();c=c.subtract(e);return c.x||c.y?(d.animate&&d.pan?this.panBy(c):
(d.pan&&this._rawPanBy(c),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:b})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=m({timeout:1E4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),
this;var a=l(this._handleGeolocationResponse,this),b=l(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,b,d):navigator.geolocation.getCurrentPosition(a,b,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){var a=d.code;d=d.message||(1===a?"permission denied":
2===a?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:a,message:"Geolocation error: "+d+"."})},_handleGeolocationResponse:function(d){var a=new Q(d.coords.latitude,d.coords.longitude),b=a.toBounds(d.coords.accuracy),c=this._locateOptions;if(c.setView){var e=this.getBoundsZoom(b);this.setView(a,c.maxZoom?Math.min(e,c.maxZoom):e)}a={latlng:a,bounds:b,timestamp:d.timestamp};for(var f in d.coords)"number"==typeof d.coords[f]&&
(a[f]=d.coords[f]);this.fire("locationfound",a)},addHandler:function(d,a){if(!a)return this;var b=this[d]=new a(this);return this._handlers.push(b),this.options[d]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._containerId=this._container._leaflet_id=void 0}A(this._mapPane);this._clearControlPos&&
this._clearControlPos();this._clearHandlers();this._loaded&&this.fire("unload");for(var d in this._layers)this._layers[d].remove();for(d in this._panes)A(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,a){var b=T("div","leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),a||this._mapPane);return d&&(this._panes[d]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:
this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds();return new ja(this.unproject(d.getBottomLeft()),this.unproject(d.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,a,b){d=la(d);b=
F(b||[0,0]);var c=this.getZoom()||0,e=this.getMinZoom(),f=this.getMaxZoom(),t=d.getNorthWest();d=d.getSouthEast();b=this.getSize().subtract(b);var g=pa(this.project(d,c),this.project(t,c)).getSize();t=Xa?this.options.zoomSnap:1;d=b.x/g.x;b=b.y/g.y;return c=this.getScaleZoom(a?Math.max(d,b):Math.min(d,b),c),t&&(c=t/100*Math.round(c/(t/100)),c=a?Math.ceil(c/t)*t:Math.floor(c/t)*t),Math.max(e,Math.min(f,c))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new G(this._container.clientWidth||
0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,a){var b=this._getTopLeftPoint(d,a);return new O(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(void 0===d?this.getZoom():d)},getPane:function(d){return"string"==typeof d?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},
getZoomScale:function(d,a){var b=this.options.crs;return a=void 0===a?this._zoom:a,b.scale(d)/b.scale(a)},getScaleZoom:function(d,a){var b=this.options.crs;a=void 0===a?this._zoom:a;b=b.zoom(d*b.scale(a));return isNaN(b)?1/0:b},project:function(d,a){return a=void 0===a?this._zoom:a,this.options.crs.latLngToPoint(M(d),a)},unproject:function(d,a){return a=void 0===a?this._zoom:a,this.options.crs.pointToLatLng(F(d),a)},layerPointToLatLng:function(d){d=F(d).add(this.getPixelOrigin());return this.unproject(d)},
latLngToLayerPoint:function(d){return this.project(M(d))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(M(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(la(d))},distance:function(d,a){return this.options.crs.distance(M(d),M(a))},containerPointToLayerPoint:function(d){return F(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return F(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){d=
this.containerPointToLayerPoint(F(d));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(M(d)))},mouseEventToContainerPoint:function(d){return Rb(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){d=this._container=Ga(d);
if(!d)throw Error("Map container not found.");if(d._leaflet_id)throw Error("Map container is already initialized.");H(d,"scroll",this._onScroll,this);this._containerId=v(d)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Xa;I(d,"leaflet-container"+(va?" leaflet-touch":"")+(qb?" leaflet-retina":"")+(Na?" leaflet-oldie":"")+(tc?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=tb(d,"position");"absolute"!==a&&"relative"!==a&&"fixed"!==
a&&(d.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);ea(this._mapPane,new G(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");this.options.markerZoomAnimation||(I(d.markerPane,"leaflet-zoom-hide"),I(d.shadowPane,
"leaflet-zoom-hide"))},_resetView:function(d,a){ea(this._mapPane,new G(0,0));var b=!this._loaded;this._loaded=!0;a=this._limitZoom(a);this.fire("viewprereset");var c=this._zoom!==a;this._moveStart(c)._move(d,a)._moveEnd(c);this.fire("viewreset");b&&this.fire("load")},_moveStart:function(d){return d&&this.fire("zoomstart"),this.fire("movestart")},_move:function(d,a,b){void 0===a&&(a=this._zoom);var c=this._zoom!==a;return this._zoom=a,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),
(c||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Fa(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){ea(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");
},_initEvents:function(d){this._targets={};this._targets[v(this._container)]=this;var a=d?fa:H;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this);this.options.trackResize&&a(window,"resize",this._onResize,this);Xa&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Fa(this._resizeRequest);this._resizeRequest=P(function(){this.invalidateSize({debounceMoveend:!0})},
this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,a){for(var b,c=[],e="mouseout"===a||"mouseover"===a,f=d.target||d.srcElement,t=!1;f;){if((b=this._targets[v(f)])&&("click"===a||"preclick"===a)&&!d._simulated&&this._draggableMoved(b)){t=!0;break}if(b&&b.listens(a,!0)){if(e&&
!Za(f,d))break;if(c.push(b),e)break}if(f===this._container)break;f=f.parentNode}return c.length||t||e||!Za(f,d)||(c=[this]),c},_handleDOMEvent:function(d){if(this._loaded&&!Ua(d)){var a=d.type;"mousedown"!==a&&"keypress"!==a||eb(d.target||d.srcElement);this._fireDOMEvent(d,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,a,b){if("click"===d.type){var c=m({},d);c.type="preclick";this._fireDOMEvent(c,c.type,b)}if(!d._stopped&&(b=(b||[]).concat(this._findEventTargets(d,
a))).length){var e=b[0];"contextmenu"===a&&e.listens(a,!0)&&z(d);c={originalEvent:d};if("keypress"!==d.type){var f=e.options&&"icon"in e.options;c.containerPoint=f?this.latLngToContainerPoint(e.getLatLng()):this.mouseEventToContainerPoint(d);c.layerPoint=this.containerPointToLayerPoint(c.containerPoint);c.latlng=f?e.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(d=0;d<b.length&&!(b[d].fire(a,c,!0),c.originalEvent._stopped||!1===b[d].options.bubblingMouseEvents&&-1!==Ea(this._mouseEvents,a));d++);
}},_draggableMoved:function(d){return(d=d.dragging&&d.dragging.enabled()?d:this).dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,a=this._handlers.length;d<a;d++)this._handlers[d].disable()},whenReady:function(d,a){return this._loaded?d.call(a||this,{target:this}):this.on("load",d,a),this},_getMapPanePos:function(){return Ha(this._mapPane)||new G(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,
a){return(d&&void 0!==a?this._getNewPixelOrigin(d,a):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,a){var b=this.getSize()._divideBy(2);return this.project(d,a)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,a,b){b=this._getNewPixelOrigin(b,a);return this.project(d,a)._subtract(b)},_latLngBoundsToNewLayerBounds:function(d,a,b){b=this._getNewPixelOrigin(b,a);return pa([this.project(d.getSouthWest(),a)._subtract(b),this.project(d.getNorthWest(),
a)._subtract(b),this.project(d.getSouthEast(),a)._subtract(b),this.project(d.getNorthEast(),a)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,a,b){if(!b)return d;var c=this.project(d,a),e=this.getSize().divideBy(2);e=new O(c.subtract(e),c.add(e));b=this._getBoundsOffset(e,b,a);return b.round().equals([0,
0])?d:this.unproject(c.add(b),a)},_limitOffset:function(d,a){if(!a)return d;var b=this.getPixelBounds();b=new O(b.min.add(d),b.max.add(d));return d.add(this._getBoundsOffset(b,a))},_getBoundsOffset:function(d,a,b){b=pa(this.project(a.getNorthEast(),b),this.project(a.getSouthWest(),b));a=b.min.subtract(d.min);d=b.max.subtract(d.max);return new G(this._rebound(a.x,-d.x),this._rebound(a.y,-d.y))},_rebound:function(d,a){return 0<d+a?Math.round(d-a)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(a))},
_limitZoom:function(d){var a=this.getMinZoom(),b=this.getMaxZoom(),c=Xa?this.options.zoomSnap:1;return c&&(d=Math.round(d/c)*c),Math.max(a,Math.min(b,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){da(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(d,a){var b=this._getCenterOffset(d)._floor();return!(!0!==(a&&a.animate)&&!this.getSize().contains(b))&&(this.panBy(b,a),!0)},_createAnimProxy:function(){var d=this._proxy=T("div",
"leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d);this.on("zoomanim",function(d){var a=Nc,b=this._proxy.style[a];ka(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1));b===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",function(){var d=this.getCenter(),a=this.getZoom();ka(this._proxy,this.project(d,a),this.getZoomScale(a,1))},this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){A(this._proxy);
delete this._proxy},_catchTransitionEnd:function(d){this._animatingZoom&&0<=d.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,a,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||!1===b.animate||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(a);c=this._getCenterOffset(d)._divideBy(1-
1/c);return!(!0!==b.animate&&!this.getSize().contains(c))&&(P(function(){this._moveStart(!0)._animateZoom(d,a,!0)},this),!0)},_animateZoom:function(d,a,b,c){b&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=a,I(this._mapPane,"leaflet-zoom-anim"));this.fire("zoomanim",{center:d,zoom:a,noUpdate:c});setTimeout(l(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(da(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,
this._animateToZoom),P(function(){this._moveEnd(!0)},this))}}),kb=ia.extend({options:{position:"topright"},initialize:function(d){K(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var a=this._map;return a&&a.removeControl(this),this.options.position=d,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove();this._map=d;var a=this._container=this.onAdd(d),b=this.getPosition();d=d._controlCorners[b];return I(a,
"leaflet-control"),-1!==b.indexOf("bottom")?d.insertBefore(a,d.firstChild):d.appendChild(a),this},remove:function(){return this._map?(A(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&0<d.screenX&&0<d.screenY&&this._map.getContainer().focus()}}),Cc=function(d){return new kb(d)};ca.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){function d(d,
e){a[d+e]=T("div",b+d+" "+b+e,c)}var a=this._controlCorners={},b="leaflet-",c=this._controlContainer=T("div",b+"control-container",this._container);d("top","left");d("top","right");d("bottom","left");d("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)A(this._controlCorners[d]);A(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var ud=kb.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,
sortFunction:function(d,a,b,c){return b<c?-1:c<b?1:0}},initialize:function(d,a,b){K(this,b);this._layerControlInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=!1;for(var c in d)this._addLayer(d[c],c);for(c in a)this._addLayer(a[c],c,!0)},onAdd:function(d){this._initLayout();this._update();this._map=d;d.on("zoomend",this._checkDisabledLayers,this);for(d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return kb.prototype.addTo.call(this,
d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,a){return this._addLayer(d,a),this._map?this._update():this},addOverlay:function(d,a){return this._addLayer(d,a,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);d=this._getLayer(v(d));return d&&this._layers.splice(this._layers.indexOf(d),
1),this._map?this._update():this},expand:function(){I(this._container,"leaflet-control-layers-expanded");this._form.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._form.clientHeight?(I(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=d+"px"):da(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return da(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d=
this._container=T("div","leaflet-control-layers"),a=this.options.collapsed;d.setAttribute("aria-haspopup",!0);Aa(d);Ta(d);var b=this._form=T("form","leaflet-control-layers-list");a&&(this._map.on("click",this.collapse,this),yb||H(d,{mouseenter:this.expand,mouseleave:this.collapse},this));var e=this._layersLink=T("a","leaflet-control-layers-toggle",d);e.href="#";e.title="Layers";va?(H(e,"click",c),H(e,"click",this.expand,this)):H(e,"focus",this.expand,this);a||this.expand();this._baseLayersList=T("div",
"leaflet-control-layers-base",b);this._separator=T("div","leaflet-control-layers-separator",b);this._overlaysList=T("div","leaflet-control-layers-overlays",b);d.appendChild(b)},_getLayer:function(d){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&v(this._layers[a].layer)===d)return this._layers[a]},_addLayer:function(d,a,b){this._map&&d.on("add remove",this._onLayerChange,this);this._layers.push({layer:d,name:a,overlay:b});this.options.sortLayers&&this._layers.sort(l(function(d,a){return this.options.sortFunction(d.layer,
a.layer,d.name,a.name)},this));this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex));this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ba(this._baseLayersList);Ba(this._overlaysList);this._layerControlInputs=[];var d,a=0;for(d=0;d<this._layers.length;d++){var b=this._layers[d];this._addItem(b);var c=c||b.overlay;var e=e||!b.overlay;a+=b.overlay?0:1}return this.options.hideSingleBase&&(e=e&&1<a,this._baseLayersList.style.display=e?"":
"none"),this._separator.style.display=c&&e?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var a=this._getLayer(v(d.target));(d=a.overlay?"add"===d.type?"overlayadd":"overlayremove":"add"===d.type?"baselayerchange":null)&&this._map.fire(d,a)},_createRadioElement:function(d,a){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(a?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=b,c.firstChild},_addItem:function(d){var a,
b=document.createElement("label"),c=this._map.hasLayer(d.layer);d.overlay?((a=document.createElement("input")).type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=c):a=this._createRadioElement("leaflet-base-layers",c);this._layerControlInputs.push(a);a.layerId=v(d.layer);H(a,"click",this._onInputClick,this);c=document.createElement("span");c.innerHTML=" "+d.name;var e=document.createElement("div");return b.appendChild(e),e.appendChild(a),e.appendChild(c),(d.overlay?this._overlaysList:
this._baseLayersList).appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){var d=this._layerControlInputs,a=[],b=[];this._handlingClick=!0;for(var c=d.length-1;0<=c;c--){var e=d[c];var f=this._getLayer(e.layerId).layer;e.checked?a.push(f):e.checked||b.push(f)}for(c=0;c<b.length;c++)this._map.hasLayer(b[c])&&this._map.removeLayer(b[c]);for(c=0;c<a.length;c++)this._map.hasLayer(a[c])||this._map.addLayer(a[c]);this._handlingClick=!1;this._refocusOnMap()},_checkDisabledLayers:function(){for(var d,
a,b=this._layerControlInputs,c=this._map.getZoom(),e=b.length-1;0<=e;e--)d=b[e],a=this._getLayer(d.layerId).layer,d.disabled=void 0!==a.options.minZoom&&c<a.options.minZoom||void 0!==a.options.maxZoom&&c>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),hd=kb.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",
zoomOutTitle:"Zoom out"},onAdd:function(d){var a=T("div","leaflet-control-zoom leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,"leaflet-control-zoom-in",a,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,"leaflet-control-zoom-out",a,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},
disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,a,b,e,f){b=T("a",b,e);return b.innerHTML=d,b.href=
"#",b.title=a,b.setAttribute("role","button"),b.setAttribute("aria-label",a),Aa(b),H(b,"click",c),H(b,"click",f,this),H(b,"click",this._refocusOnMap,this),b},_updateDisabled:function(){var d=this._map;da(this._zoomInButton,"leaflet-disabled");da(this._zoomOutButton,"leaflet-disabled");(this._disabled||d._zoom===d.getMinZoom())&&I(this._zoomOutButton,"leaflet-disabled");(this._disabled||d._zoom===d.getMaxZoom())&&I(this._zoomInButton,"leaflet-disabled")}});ca.mergeOptions({zoomControl:!0});ca.addInitHook(function(){this.options.zoomControl&&
(this.zoomControl=new hd,this.addControl(this.zoomControl))});var Dc=kb.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var a=T("div","leaflet-control-scale"),b=this.options;return this._addScales(b,"leaflet-control-scale-line",a),d.on(b.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),a},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,a,b){d.metric&&(this._mScale=
T("div",a,b));d.imperial&&(this._iScale=T("div",a,b))},_update:function(){var d=this._map,a=d.getSize().y/2;d=d.distance(d.containerPointToLatLng([0,a]),d.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(d)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d);this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var a=this._getRoundNum(d);this._updateScale(this._mScale,1E3>a?a+" m":a/1E3+" km",a/d)},_updateImperial:function(d){var a,
b,c;d*=3.2808399;5280<d?(a=d/5280,b=this._getRoundNum(a),this._updateScale(this._iScale,b+" mi",b/a)):(c=this._getRoundNum(d),this._updateScale(this._iScale,c+" ft",c/d))},_updateScale:function(d,a,b){d.style.width=Math.round(this.options.maxWidth*b)+"px";d.innerHTML=a},_getRoundNum:function(d){var a=Math.pow(10,(Math.floor(d)+"").length-1);d/=a;return d=10<=d?10:5<=d?5:3<=d?3:2<=d?2:1,a*d}}),bd=kb.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},
initialize:function(d){K(this,d);this._attributions={}},onAdd:function(d){d.attributionControl=this;this._container=T("div","leaflet-control-attribution");Aa(this._container);for(var a in d._layers)d._layers[a].getAttribution&&this.addAttribution(d._layers[a].getAttribution());return this._update(),this._container},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),
this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(a in this._attributions)this._attributions[a]&&d.push(a);var a=[];this.options.prefix&&a.push(this.options.prefix);d.length&&a.push(d.join(", "));this._container.innerHTML=a.join(" | ")}}});ca.mergeOptions({attributionControl:!0});ca.addInitHook(function(){this.options.attributionControl&&(new bd).addTo(this)});kb.Layers=ud;kb.Zoom=
hd;kb.Scale=Dc;kb.Attribution=bd;Cc.layers=function(d,a,b){return new ud(d,a,b)};Cc.zoom=function(d){return new hd(d)};Cc.scale=function(d){return new Dc(d)};Cc.attribution=function(d){return new bd(d)};var vd,Cb=ia.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),Fd={Events:na},wd=va?"touchstart mousedown":
"mousedown",xd={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},cd={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},fc=nb.extend({options:{clickTolerance:3},initialize:function(d,a,b,c){K(this,c);this._element=d;this._dragStartTarget=a||d;this._preventOutline=b},enable:function(){this._enabled||(H(this._dragStartTarget,wd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(fc._dragging===
this&&this.finishDrag(),fa(this._dragStartTarget,wd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(!d._simulated&&this._enabled&&(this._moved=!1,!(ub(this._element,"leaflet-zoom-anim")||fc._dragging||d.shiftKey||1!==d.which&&1!==d.button&&!d.touches||(fc._dragging=this,this._preventOutline&&eb(this._element),Va(),Oc(),this._moving)))){this.fire("down");var a=d.touches?d.touches[0]:d;this._startPoint=new G(a.clientX,a.clientY);H(document,cd[d.type],this._onMove,this);H(document,
xd[d.type],this._onUp,this)}},_onMove:function(d){if(!d._simulated&&this._enabled)if(d.touches&&1<d.touches.length)this._moved=!0;else{var a=d.touches&&1===d.touches.length?d.touches[0]:d;a=(new G(a.clientX,a.clientY)).subtract(this._startPoint);(a.x||a.y)&&(Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(z(d),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Ha(this._element).subtract(a),I(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&
this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),I(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,Fa(this._animRequest),this._lastEvent=d,this._animRequest=P(this._updatePosition,this,!0)))}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d);ea(this._element,this._newPos);this.fire("drag",d)},_onUp:function(d){!d._simulated&&this._enabled&&this.finishDrag()},
finishDrag:function(){da(document.body,"leaflet-dragging");this._lastTarget&&(da(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var d in cd)fa(document,cd[d],this._onMove,this),fa(document,xd[d],this._onUp,this);sa();Pc();this._moved&&this._moving&&(Fa(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1;fc._dragging=!1}}),Dd=(Object.freeze||Object)({simplify:Gb,pointToSegmentDistance:Hb,closestPointOnSegment:function(d,a,
b){return Wa(d,a,b)},clipSegment:bc,_getEdgeIntersection:mb,_getBitCode:ta,_sqClosestPointOnSegment:Wa,isFlat:Ka,_flat:Wb}),Gd=(Object.freeze||Object)({clipPolygon:ab}),fd={project:function(d){return new G(d.lng,d.lat)},unproject:function(d){return new Q(d.y,d.x)},bounds:new O([-180,-90],[180,90])},id={R:6378137,R_MINOR:6356752.314245179,bounds:new O([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,1.876465623138E7]),project:function(d){var a=Math.PI/180,b=this.R,c=d.lat*a,e=this.R_MINOR/b;
e=Math.sqrt(1-e*e);var f=e*Math.sin(c);return c=-b*Math.log(Math.max(Math.tan(Math.PI/4-c/2)/Math.pow((1-f)/(1+f),e/2),1E-10)),new G(d.lng*a*b,c)},unproject:function(d){var a,b=180/Math.PI,c=this.R,e=this.R_MINOR/c;e=Math.sqrt(1-e*e);var f=Math.exp(-d.y/c),g=Math.PI/2-2*Math.atan(f),h=0;for(a=.1;15>h&&1E-7<Math.abs(a);h++)a=e*Math.sin(g),a=Math.pow((1-a)/(1+a),e/2),g+=a=Math.PI/2-2*Math.atan(f*a)-g;return new Q(g*b,d.x*b/c)}},Id=(Object.freeze||Object)({LonLat:fd,Mercator:id,SphericalMercator:xb}),
Jd=m({},za,{code:"EPSG:3395",projection:id,transformation:function(){var d=.5/(Math.PI*id.R);return Pa(d,.5,-d,.5)}()}),yd=m({},za,{code:"EPSG:4326",projection:fd,transformation:Pa(1/180,1,-1/180,.5)}),Kd=m({},Oa,{projection:fd,transformation:Pa(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,a){var b=a.lng-d.lng,c=a.lat-d.lat;return Math.sqrt(b*b+c*c)},infinite:!0});Oa.Earth=za;Oa.EPSG3395=Jd;Oa.EPSG3857=Ic;Oa.EPSG900913=kc;Oa.EPSG4326=
yd;Oa.Simple=Kd;var db=nb.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[v(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[v(d)],
this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var a=d.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var b=this.getEvents();a.on(b,this);this.once("remove",function(){a.off(b,this)},this)}this.onAdd(a);this.getAttribution&&a.attributionControl&&a.attributionControl.addAttribution(this.getAttribution());this.fire("add");a.fire("layeradd",{layer:this})}}});ca.include({addLayer:function(a){if(!a._layerAdd)throw Error("The provided object is not a Layer.");
var d=v(a);return this._layers[d]?this:(this._layers[d]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var d=v(a);return this._layers[d]?(this._loaded&&a.onRemove(this),a.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(a.getAttribution()),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return!!a&&v(a)in
this._layers},eachLayer:function(a,b){for(var d in this._layers)a.call(b,this._layers[d]);return this},_addLayers:function(a){for(var d=0,b=(a=a?w(a)?a:[a]:[]).length;d<b;d++)this.addLayer(a[d])},_addZoomLimit:function(a){!isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[v(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){a=v(a);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,b=-1/0,
c=this._getZoomSpan(),e;for(e in this._zoomBoundLayers){var f=this._zoomBoundLayers[e].options;a=void 0===f.minZoom?a:Math.min(a,f.minZoom);b=void 0===f.maxZoom?b:Math.max(b,f.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b;this._layersMinZoom=a===1/0?void 0:a;c!==this._getZoomSpan()&&this.fire("zoomlevelschange");void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom);void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<
this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sb=db.extend({initialize:function(a){this._layers={};var d;if(a){var b=0;for(d=a.length;b<d;b++)this.addLayer(a[b])}},addLayer:function(a){var d=this.getLayerId(a);return this._layers[d]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){a=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(a){return!!a&&(a in this._layers||
this.getLayerId(a)in this._layers)},clearLayers:function(){for(var a in this._layers)this.removeLayer(this._layers[a]);return this},invoke:function(a){var d,b,c=Array.prototype.slice.call(arguments,1);for(d in this._layers)(b=this._layers[d])[a]&&b[a].apply(b,c);return this},onAdd:function(a){for(var d in this._layers)a.addLayer(this._layers[d])},onRemove:function(a){for(var d in this._layers)a.removeLayer(this._layers[d])},eachLayer:function(a,b){for(var d in this._layers)a.call(b,this._layers[d]);
return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[],b;for(b in this._layers)a.push(this._layers[b]);return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return v(a)}}),gc=Sb.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Sb.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),
Sb.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ja,b;for(b in this._layers){var c=this._layers[b];a.extend(c.getBounds?c.getBounds():c.getLatLng())}return a}}),lc=ia.extend({initialize:function(a){K(this,a)},createIcon:function(a){return this._createIcon("icon",a)},
createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var d=this._getIconUrl(a);if(!d){if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null}d=this._createImg(d,b&&"IMG"===b.tagName?b:null);return this._setIconStyles(d,a),d},_setIconStyles:function(a,b){var d=this.options,c=d[b+"Size"];"number"==typeof c&&(c=[c,c]);c=F(c);var e=F("shadow"===b&&d.shadowAnchor||d.iconAnchor||c&&c.divideBy(2,!0));a.className="leaflet-marker-"+b+" "+
(d.className||"");e&&(a.style.marginLeft=-e.x+"px",a.style.marginTop=-e.y+"px");c&&(a.style.width=c.x+"px",a.style.height=c.y+"px")},_createImg:function(a,b){return b=b||document.createElement("img"),b.src=a,b},_getIconUrl:function(a){return qb&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}}),Ec=lc.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,
41]},_getIconUrl:function(a){return Ec.imagePath||(Ec.imagePath=this._detectIconPath()),(this.options.imagePath||Ec.imagePath)+lc.prototype._getIconUrl.call(this,a)},_detectIconPath:function(){var a=T("div","leaflet-default-icon-path",document.body),b=tb(a,"background-image")||tb(a,"backgroundImage");return document.body.removeChild(a),null===b||0!==b.indexOf("url")?"":b.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),td=Cb.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=
this._marker._icon;this._draggable||(this._draggable=new fc(a,a,!0));this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable();I(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&da(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=
this._marker.getLatLng();this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(a){var d=this._marker,b=d._shadow,c=Ha(d._icon),e=d._map.layerPointToLatLng(c);b&&ea(b,c);d._latlng=e;a.latlng=e;a.oldLatLng=this._oldLatLng;d.fire("move",a).fire("drag",a)},_onDragEnd:function(a){delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",a)}}),Fc=db.extend({options:{icon:new Ec,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,
riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(a,b){K(this,b);this._latlng=M(a)},onAdd:function(a){(this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation)&&a.on("zoomanim",this._animateZoom,this);this._initIcon();this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks());delete this.dragging;this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},
getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var d=this._latlng;return this._latlng=M(a),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},
update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=a.icon.createIcon(this._icon),e=!1;c!==this._icon&&(this._icon&&this._removeIcon(),e=!0,a.title&&(c.title=a.title),a.alt&&(c.alt=a.alt));I(c,b);a.keyboard&&(c.tabIndex="0");this._icon=c;a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});c=a.icon.createShadow(this._shadow);
var f=!1;c!==this._shadow&&(this._removeShadow(),f=!0);c&&(I(c,b),c.alt="");this._shadow=c;1>a.opacity&&this._updateOpacity();e&&this.getPane().appendChild(this._icon);this._initInteraction();c&&f&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});A(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&A(this._shadow);this._shadow=
null},_setPos:function(a){ea(this._icon,a);this._shadow&&ea(this._shadow,a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(I(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),td)){var a=this.options.draggable;this.dragging&&
(a=this.dragging.enabled(),this.dragging.disable());this.dragging=new td(this);a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;wa(this._icon,a);this._shadow&&wa(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||
[0,0]}}),Tb=db.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),
this},setStyle:function(a){return K(this,a),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(va?10:0)}}),Qc=Tb.extend({options:{fill:!0,radius:10},initialize:function(a,
b){K(this,b);this._latlng=M(a);this._radius=this.options.radius},setLatLng:function(a){return this._latlng=M(a),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var d=a&&a.radius||this._radius;return Tb.prototype.setStyle.call(this,a),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);
this._updateBounds()},_updateBounds:function(){var a=this._radius,b=this._radiusY||a,c=this._clickTolerance();a=[a+c,b+c];this._pxBounds=new O(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),ed=Qc.extend({initialize:function(a,
b,c){if("number"==typeof b&&(b=m({},c,{radius:b})),K(this,b),this._latlng=M(a),isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ja(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Tb.prototype.setStyle,
_project:function(){var a=this._latlng.lng,b=this._latlng.lat,c=this._map,e=c.options.crs;if(e.distance===za.distance){var f=Math.PI/180;e=this._mRadius/za.R/f;var g=c.project([b+e,a]),h=c.project([b-e,a]);h=g.add(h).divideBy(2);var k=c.unproject(h).lat;f=Math.acos((Math.cos(e*f)-Math.sin(b*f)*Math.sin(k*f))/(Math.cos(b*f)*Math.cos(k*f)))/f;(isNaN(f)||0===f)&&(f=e/Math.cos(Math.PI/180*b));this._point=h.subtract(c.getPixelOrigin());this._radius=isNaN(f)?0:Math.max(Math.round(h.x-c.project([k,a-f]).x),
1);this._radiusY=Math.max(Math.round(h.y-g.y),1)}else a=e.unproject(e.project(this._latlng).subtract([this._mRadius,0])),this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(a).x;this._updateBounds()}}),Db=Tb.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,b){K(this,b);this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},
closestLayerPoint:function(a){for(var d,b,c=1/0,e=null,f=Wa,g=0,h=this._parts.length;g<h;g++)for(var k=this._parts[g],l=1,m=k.length;l<m;l++){var n=f(a,d=k[l-1],b=k[l],!0);n<c&&(c=n,e=f(a,d,b))}return e&&(e.distance=Math.sqrt(c)),e},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var a,b,c,e,f,g,h,k=this._rings[0],l=k.length;if(!l)return null;for(b=a=0;a<l-1;a++)b+=k[a].distanceTo(k[a+1])/2;if(0===b)return this._map.layerPointToLatLng(k[0]);for(e=a=
0;a<l-1;a++)if(f=k[a],g=k[a+1],c=f.distanceTo(g),(e+=c)>b)return h=(e-b)/c,this._map.layerPointToLatLng([g.x-h*(g.x-f.x),g.y-h*(g.y-f.y)])},getBounds:function(){return this._bounds},addLatLng:function(a,b){return b=b||this._defaultShape(),a=M(a),b.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ja;this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Ka(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var d=[],b=
Ka(a),c=0,e=a.length;c<e;c++)b?(d[c]=M(a[c]),this._bounds.extend(d[c])):d[c]=this._convertLatLngs(a[c]);return d},_project:function(){var a=new O;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,a);var b=this._clickTolerance();b=new G(b,b);this._bounds.isValid()&&a.isValid()&&(a.min._subtract(b),a.max._add(b),this._pxBounds=a)},_projectLatlngs:function(a,b,c){var d,e=a.length;if(a[0]instanceof Q){var f=[];for(d=0;d<e;d++)f[d]=this._map.latLngToLayerPoint(a[d]),c.extend(f[d]);b.push(f)}else for(d=
0;d<e;d++)this._projectLatlngs(a[d],b,c)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else{var b,c,e,f,g,h=this._parts;var k=b=0;for(c=this._rings.length;b<c;b++){var l=0;for(e=(g=this._rings[b]).length;l<e-1;l++)(f=bc(g[l],g[l+1],a,l,!0))&&(h[k]=h[k]||[],h[k].push(f[0]),f[1]===g[l+1]&&l!==e-2||(h[k].push(f[1]),k++))}}},_simplifyPoints:function(){for(var a=this._parts,b=this.options.smoothFactor,
c=0,e=a.length;c<e;c++)a[c]=Gb(a[c],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,b){var d,c,e,f,g=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;var t=0;for(c=this._parts.length;t<c;t++){var h=0;for(d=(e=(f=this._parts[t]).length)-1;h<e;d=h++)if((b||0!==h)&&Hb(a,f[d],f[h])<=g)return!0}return!1}});Db._flat=Wb;var oc=Db.extend({options:{fill:!0},
isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var a,b,c,e,f,g=this._rings[0],h=g.length;if(!h)return null;var k=b=c=e=0;for(a=h-1;k<h;a=k++){var l=g[k];a=g[a];var m=l.y*a.x-a.y*l.x;c+=(l.x+a.x)*m;e+=(l.y+a.y)*m;b+=3*m}return f=0===b?g[0]:[c/b,e/b],this._map.layerPointToLatLng(f)},_convertLatLngs:function(a){a=Db.prototype._convertLatLngs.call(this,a);var d=a.length;return 2<=
d&&a[0]instanceof Q&&a[0].equals(a[d-1])&&a.pop(),a},_setLatLngs:function(a){Db.prototype._setLatLngs.call(this,a);Ka(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ka(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,b=this.options.weight;b=new G(b,b);if(a=new O(a.min.subtract(b),a.max.add(b)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(a))if(this.options.noClip)this._parts=this._rings;else{var c;
b=0;for(var e=this._rings.length;b<e;b++)(c=ab(this._rings[b],a,!0)).length&&this._parts.push(c)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var d,b,c,e,f=!1;if(!this._pxBounds.contains(a))return!1;var g=0;for(c=this._parts.length;g<c;g++){var h=0;for(b=(e=(d=this._parts[g]).length)-1;h<e;b=h++){var k=d[h];b=d[b];k.y>a.y!=b.y>a.y&&a.x<(b.x-k.x)*(a.y-k.y)/(b.y-k.y)+k.x&&(f=!f)}}return f||Db.prototype._containsPoint.call(this,a,!0)}}),Eb=gc.extend({initialize:function(a,
b){K(this,b);this._layers={};a&&this.addData(a)},addData:function(a){var d,b,c=w(a)?a:a.features;if(c){a=0;for(d=c.length;a<d;a++)((b=c[a]).geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}b=this.options;return b.filter&&!b.filter(a)?this:(c=hc(a,b))?(c.feature=ra(a),c.defaultOptions=c.options,this.resetStyle(c),b.onEachFeature&&b.onEachFeature(a,c),this.addLayer(c)):this},resetStyle:function(a){return a.options=m({},a.defaultOptions),this._setLayerStyle(a,this.options.style),
this},setStyle:function(a){return this.eachLayer(function(d){this._setLayerStyle(d,a)},this)},_setLayerStyle:function(a,b){"function"==typeof b&&(b=b(a.feature));a.setStyle&&a.setStyle(b)}}),jd={toGeoJSON:function(a){return wb(this,{type:"Point",coordinates:Ib(this.getLatLng(),a)})}};Fc.include(jd);ed.include(jd);Qc.include(jd);Db.include({toGeoJSON:function(a){var d=!Ka(this._latlngs);a=Ob(this._latlngs,d?1:0,!1,a);return wb(this,{type:(d?"Multi":"")+"LineString",coordinates:a})}});oc.include({toGeoJSON:function(a){var d=
!Ka(this._latlngs),b=d&&!Ka(this._latlngs[0]);a=Ob(this._latlngs,b?2:d?1:0,!0,a);return d||(a=[a]),wb(this,{type:(b?"Multi":"")+"Polygon",coordinates:a})}});Sb.include({toMultiPoint:function(a){var d=[];return this.eachLayer(function(b){d.push(b.toGeoJSON(a).geometry.coordinates)}),wb(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(a){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===d)return this.toMultiPoint(a);var b="GeometryCollection"===d,c=[];
return this.eachLayer(function(d){d.toGeoJSON&&(d=d.toGeoJSON(a),b?c.push(d.geometry):(d=ra(d),"FeatureCollection"===d.type?c.push.apply(c,d.features):c.push(d)))}),b?wb(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});var kd=db.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,b,c){this._url=a;this._bounds=la(b);K(this,c)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&
this._updateOpacity());this.options.interactive&&(I(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image));this.getPane().appendChild(this._image);this._reset()},onRemove:function(){A(this._image);this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&$a(this._image),
this},bringToBack:function(){return this._map&&Ca(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=la(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},
_initImage:function(){var a=this._image=T("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));a.onselectstart=C;a.onmousemove=C;a.onload=l(this.fire,this,"load");a.onerror=l(this._overlayOnError,this,"error");this.options.crossOrigin&&(a.crossOrigin="");this.options.zIndex&&this._updateZIndex();a.src=this._url;a.alt=this.options.alt},_animateZoom:function(a){var d=this._map.getZoomScale(a.zoom);a=this._map._latLngBoundsToNewLayerBounds(this._bounds,
a.zoom,a.center).min;ka(this._image,a,d)},_reset:function(){var a=this._image,b=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=b.getSize();ea(a,b.min);a.style.width=c.x+"px";a.style.height=c.y+"px"},_updateOpacity:function(){wa(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");
var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)}}),zd=kd.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var a="VIDEO"===this._url.tagName,b=this._image=a?this._url:T("video");if(b["class"]=b["class"]||"",b["class"]+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),b.onselectstart=C,b.onmousemove=C,b.onloadeddata=l(this.fire,this,"load"),!a)for(w(this._url)||(this._url=[this._url]),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,
a=0;a<this._url.length;a++){var c=T("source");c.src=this._url[a];b.appendChild(c)}}}),Fb=db.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(a,b){K(this,a);this._source=b},onAdd:function(a){this._zoomAnimated=a._zoomAnimated;this._container||this._initLayout();a._fadeAnimated&&wa(this._container,0);clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();a._fadeAnimated&&wa(this._container,1);this.bringToFront()},onRemove:function(a){a._fadeAnimated?
(wa(this._container,0),this._removeTimeout=setTimeout(l(A,void 0,this._container),200)):A(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=M(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),
this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$a(this._container),this},bringToBack:function(){return this._map&&Ca(this._container),this},_updateContent:function(){if(this._content){var a=this._contentNode,
b="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof b)a.innerHTML=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),b=F(this.options.offset),c=this._getAnchor();this._zoomAnimated?ea(this._container,a.add(c)):b=b.add(a).add(c);a=this._containerBottom=-b.y;b=this._containerLeft=-Math.round(this._containerWidth/
2)+b.x;this._container.style.bottom=a+"px";this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}}),pc=Fb.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(a){return a.openPopup(this),this},onAdd:function(a){Fb.prototype.onAdd.call(this,a);a.fire("popupopen",{popup:this});this._source&&(this._source.fire("popupopen",
{popup:this},!0),this._source instanceof Tb||this._source.on("preclick",V))},onRemove:function(a){Fb.prototype.onRemove.call(this,a);a.fire("popupclose",{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Tb||this._source.off("preclick",V))},getEvents:function(){var a=Fb.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&
(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a=this._container=T("div","leaflet-popup "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=T("div","leaflet-popup-content-wrapper",a);if(this._contentNode=T("div","leaflet-popup-content",b),Aa(b),Ta(this._contentNode),H(b,"contextmenu",V),this._tipContainer=T("div","leaflet-popup-tip-container",a),this._tip=T("div","leaflet-popup-tip",this._tipContainer),this.options.closeButton)a=
this._closeButton=T("a","leaflet-popup-close-button",a),a.href="#close",a.innerHTML="&#215;",H(a,"click",this._onCloseButtonClick,this)},_updateLayout:function(){var a=this._contentNode,b=a.style;b.width="";b.whiteSpace="nowrap";var c=a.offsetWidth;c=Math.min(c,this.options.maxWidth);c=Math.max(c,this.options.minWidth);b.width=c+1+"px";b.whiteSpace="";b.height="";c=a.offsetHeight;var e=this.options.maxHeight;e&&c>e?(b.height=e+"px",I(a,"leaflet-popup-scrolled")):da(a,"leaflet-popup-scrolled");this._containerWidth=
this._container.offsetWidth},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);var d=this._getAnchor();ea(this._container,a.add(d))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var a=this._map,b=parseInt(tb(this._container,"marginBottom"),10)||0;b=this._container.offsetHeight+b;var c=this._containerWidth,e=new G(this._containerLeft,-b-this._containerBottom);e._add(Ha(this._container));e=a.layerPointToContainerPoint(e);
var f=F(this.options.autoPanPadding),g=F(this.options.autoPanPaddingTopLeft||f);f=F(this.options.autoPanPaddingBottomRight||f);var h=a.getSize(),k=0,l=0;e.x+c+f.x>h.x&&(k=e.x+c-h.x+f.x);0>e.x-k-g.x&&(k=e.x-g.x);e.y+b+f.y>h.y&&(l=e.y+b-h.y+f.y);0>e.y-l-g.y&&(l=e.y-g.y);(k||l)&&a.fire("autopanstart").panBy([k,l])}},_onCloseButtonClick:function(a){this._close();c(a)},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});ca.mergeOptions({closePopupOnClick:!0});
ca.include({openPopup:function(a,b,c){return a instanceof pc||(a=(new pc(c)).setContent(a)),b&&a.setLatLng(b),this.hasLayer(a)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=a,this.addLayer(a))},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&this.removeLayer(a),this}});db.include({bindPopup:function(a,b){return a instanceof pc?(K(a,b),this._popup=a,a._source=this):(this._popup&&!b||(this._popup=new pc(b,this)),this._popup.setContent(a)),
this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a,b){if(a instanceof db||(b=a,a=this),a instanceof gc)for(var d in this._layers){a=this._layers[d];break}return b||(b=
a.getCenter?a.getCenter():a.getLatLng()),this._popup&&this._map&&(this._popup._source=a,this._popup.update(),this._map.openPopup(this._popup,b)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(a){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(a)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},
_openPopup:function(a){var b=a.layer||a.target;this._popup&&this._map&&(c(a),b instanceof Tb?this.openPopup(a.layer||a.target,a.latlng):this._map.hasLayer(this._popup)&&this._popup._source===b?this.closePopup():this.openPopup(b,a.latlng))},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}});var qc=Fb.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(a){Fb.prototype.onAdd.call(this,
a);this.setOpacity(this.options.opacity);a.fire("tooltipopen",{tooltip:this});this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(a){Fb.prototype.onRemove.call(this,a);a.fire("tooltipclose",{tooltip:this});this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var a=Fb.prototype.getEvents.call(this);return va&&!this.options.permanent&&(a.preclick=this._close),a},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=
this._container=T("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var b=this._map,d=this._container,c=b.latLngToContainerPoint(b.getCenter());b=b.layerPointToContainerPoint(a);var e=this.options.direction,f=d.offsetWidth,g=d.offsetHeight,h=F(this.options.offset),k=this._getAnchor();"top"===e?a=a.add(F(-f/2+h.x,-g+h.y+k.y,!0)):"bottom"===e?a=a.subtract(F(f/2-h.x,
-h.y,!0)):"center"===e?a=a.subtract(F(f/2+h.x,g/2-k.y+h.y,!0)):"right"===e||"auto"===e&&b.x<c.x?(e="right",a=a.add(F(h.x+k.x,k.y-g/2+h.y,!0))):(e="left",a=a.subtract(F(f+k.x-h.x,g/2-k.y-h.y,!0)));da(d,"leaflet-tooltip-right");da(d,"leaflet-tooltip-left");da(d,"leaflet-tooltip-top");da(d,"leaflet-tooltip-bottom");I(d,"leaflet-tooltip-"+e);ea(d,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a;this._container&&
wa(this._container,a)},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(a)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});ca.include({openTooltip:function(a,b,c){return a instanceof qc||(a=(new qc(c)).setContent(a)),b&&a.setLatLng(b),this.hasLayer(a)?this:this.addLayer(a)},closeTooltip:function(a){return a&&this.removeLayer(a),this}});db.include({bindTooltip:function(a,
b){return a instanceof qc?(K(a,b),this._tooltip=a,a._source=this):(this._tooltip&&!b||(this._tooltip=new qc(b,this)),this._tooltip.setContent(a)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(a||!this._tooltipHandlersAdded){var b={remove:this.closeTooltip,
move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),va&&(b.click=this._openTooltip));this[a?"off":"on"](b);this._tooltipHandlersAdded=!a}},openTooltip:function(a,b){if(a instanceof db||(b=a,a=this),a instanceof gc)for(var d in this._layers){a=this._layers[d];break}return b||(b=a.getCenter?a.getCenter():a.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=
a,this._tooltip.update(),this._map.openTooltip(this._tooltip,b),this._tooltip.options.interactive&&this._tooltip._container&&(I(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(da(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(a){return this._tooltip&&
(this._tooltip._map?this.closeTooltip():this.openTooltip(a)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_openTooltip:function(a){var b=a.layer||a.target;this._tooltip&&this._map&&this.openTooltip(b,this._tooltip.options.sticky?a.latlng:void 0)},_moveTooltip:function(a){var b,d,c=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(b=this._map.mouseEventToContainerPoint(a.originalEvent),
d=this._map.containerPointToLayerPoint(b),c=this._map.layerPointToLatLng(d));this._tooltip.setLatLng(c)}});var pd=lc.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){a=a&&"DIV"===a.tagName?a:document.createElement("div");var b=this.options;if(a.innerHTML=!1!==b.html?b.html:"",b.bgPos)b=F(b.bgPos),a.style.backgroundPosition=-b.x+"px "+-b.y+"px";return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});lc.Default=Ec;var dd=
db.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Zb,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){K(this,a)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles();A(this._container);a._removeZoomLimit(this);
this._tileZoom=this._container=null},bringToFront:function(){return this._map&&($a(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ca(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&
(this._removeAllTiles(),this._update()),this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof
G?a:new G(a,a)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var b,d=this.getPane().children,c=-a(-1/0,1/0),e=0,f=d.length;e<f;e++)b=d[e].style.zIndex,d[e]!==this._container&&b&&(c=a(c,+b));isFinite(c)&&(this.options.zIndex=c+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Na){wa(this._container,this.options.opacity);var a=+new Date,b=!1,
c=!1,e;for(e in this._tiles){var f=this._tiles[e];if(f.current&&f.loaded){var g=Math.min(1,(a-f.loaded)/200);wa(f.el,g);1>g?b=!0:(f.active?c=!0:this._onOpaqueTile(f),f.active=!0)}}c&&!this._noPrune&&this._pruneTiles();b&&(Fa(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=T("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},
_updateLevels:function(){var a=this._tileZoom,b=this.options.maxZoom;if(void 0!==a){for(var c in this._levels)this._levels[c].el.children.length||c===a?(this._levels[c].el.style.zIndex=b-Math.abs(a-c),this._onUpdateLevel(c)):(A(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);c=this._levels[a];var e=this._map;return c||((c=this._levels[a]={}).el=T("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=b,c.origin=e.project(e.unproject(e.getPixelOrigin()),
a).round(),c.zoom=a,this._setZoomTransform(c,e.getCenter(),e.getZoom()),c.el.offsetWidth,this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var a,b,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom)this._removeAllTiles();else{for(a in this._tiles)(b=this._tiles[a]).retain=b.current;for(a in this._tiles)(b=this._tiles[a]).current&&!b.active&&(c=b.coords,this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,
c.y,c.z,c.z+2));for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}}},_removeTilesAtZoom:function(a){for(var b in this._tiles)this._tiles[b].coords.z===a&&this._removeTile(b)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)A(this._levels[a].el),this._onRemoveLevel(a),delete this._levels[a];this._removeAllTiles();this._tileZoom=null},_retainParent:function(a,b,c,e){a=Math.floor(a/2);b=Math.floor(b/2);--c;var d=
new G(+a,+b);d.z=+c;d=this._tileCoordsToKey(d);return(d=this._tiles[d])&&d.active?(d.retain=!0,!0):(d&&d.loaded&&(d.retain=!0),c>e&&this._retainParent(a,b,c,e))},_retainChildren:function(a,b,c,e){for(var d=2*a;d<2*a+2;d++)for(var f=2*b;f<2*b+2;f++){var g=new G(d,f);g.z=c+1;g=this._tileCoordsToKey(g);(g=this._tiles[g])&&g.active?g.retain=!0:(g&&g.loaded&&(g.retain=!0),c+1<e&&this._retainChildren(d,f,c+1,e))}},_resetView:function(a){a=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),
a,a)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var b=this.options;return void 0!==b.minNativeZoom&&a<b.minNativeZoom?b.minNativeZoom:void 0!==b.maxNativeZoom&&b.maxNativeZoom<a?b.maxNativeZoom:a},_setView:function(a,b,c,e){var d=this._clampZoom(Math.round(b));(void 0!==this.options.maxZoom&&d>this.options.maxZoom||void 0!==this.options.minZoom&&d<this.options.minZoom)&&(d=void 0);var f=this.options.updateWhenZooming&&d!==this._tileZoom;e&&!f||(this._tileZoom=
d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==d&&this._update(a),c||this._pruneTiles(),this._noPrune=!!c);this._setZoomTransforms(a,b)},_setZoomTransforms:function(a,b){for(var d in this._levels)this._setZoomTransform(this._levels[d],a,b)},_setZoomTransform:function(a,b,c){var d=this._map.getZoomScale(c,a.zoom);b=a.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(b,c)).round();Xa?ka(a.el,b,d):ea(a.el,b)},_resetGrid:function(){var a=this._map,
b=a.options.crs,c=this._tileSize=this.getTileSize(),e=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f));this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,b.wrapLng[0]],e).x/c.x),Math.ceil(a.project([0,b.wrapLng[1]],e).x/c.y)];this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([b.wrapLat[0],0],e).y/c.x),Math.ceil(a.project([b.wrapLat[1],0],e).y/c.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&
this._update()},_getTiledPixelBounds:function(a){var b=this._map,d=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom();d=b.getZoomScale(d,this._tileZoom);a=b.project(a,this._tileZoom).floor();b=b.getSize().divideBy(2*d);return new O(a.subtract(b),a.add(b))},_update:function(a){var b=this._map;if(b){var d=this._clampZoom(b.getZoom());if(void 0===a&&(a=b.getCenter()),void 0!==this._tileZoom){b=this._getTiledPixelBounds(a);var c=this._pxBoundsToTileRange(b),e=c.getCenter();b=[];var f=
this.options.keepBuffer;f=new O(c.getBottomLeft().subtract([f,-f]),c.getTopRight().add([f,-f]));if(!(isFinite(c.min.x)&&isFinite(c.min.y)&&isFinite(c.max.x)&&isFinite(c.max.y)))throw Error("Attempted to load an infinite number of tiles");for(var g in this._tiles){var h=this._tiles[g].coords;h.z===this._tileZoom&&f.contains(new G(h.x,h.y))||(this._tiles[g].current=!1)}if(1<Math.abs(d-this._tileZoom))this._setView(a,d);else{for(d=c.min.y;d<=c.max.y;d++)for(a=c.min.x;a<=c.max.x;a++)g=new G(a,d),g.z=
this._tileZoom,this._isValidTile(g)&&(this._tiles[this._tileCoordsToKey(g)]||b.push(g));if(b.sort(function(a,b){return a.distanceTo(e)-b.distanceTo(e)}),0!==b.length){this._loading||(this._loading=!0,this.fire("loading"));c=document.createDocumentFragment();for(a=0;a<b.length;a++)this._addTile(b[a],c);this._level.el.appendChild(c)}}}}},_isValidTile:function(a){var b=this._map.options.crs;if(!b.infinite){var d=this._globalTileRange;if(!b.wrapLng&&(a.x<d.min.x||a.x>d.max.x)||!b.wrapLat&&(a.y<d.min.y||
a.y>d.max.y))return!1}if(!this.options.bounds)return!0;a=this._tileCoordsToBounds(a);return la(this.options.bounds).overlaps(a)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToBounds:function(a){var b=this._map,d=this.getTileSize(),c=a.scaleBy(d);d=c.add(d);a=new ja(b.unproject(c,a.z),b.unproject(d,a.z));return this.options.noWrap||b.wrapLatLngBounds(a),a},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){a=a.split(":");
var b=new G(+a[0],+a[1]);return b.z=+a[2],b},_removeTile:function(a){var b=this._tiles[a];b&&(A(b.el),delete this._tiles[a],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){I(a,"leaflet-tile");var b=this.getTileSize();a.style.width=b.x+"px";a.style.height=b.y+"px";a.onselectstart=C;a.onmousemove=C;Na&&1>this.options.opacity&&wa(a,this.options.opacity);yb&&!ic&&(a.style.WebkitBackfaceVisibility="hidden")},_addTile:function(a,b){var d=this._getTilePos(a),c=
this._tileCoordsToKey(a),e=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(e);2>this.createTile.length&&P(l(this._tileReady,this,a,null,e));ea(e,d);this._tiles[c]={el:e,coords:a,current:!0};b.appendChild(e);this.fire("tileloadstart",{tile:e,coords:a})},_tileReady:function(a,b,c){if(this._map){b&&this.fire("tileerror",{error:b,tile:c,coords:a});var d=this._tileCoordsToKey(a);(c=this._tiles[d])&&(c.loaded=+new Date,this._map._fadeAnimated?(wa(c.el,0),Fa(this._fadeFrame),
this._fadeFrame=P(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),b||(I(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Na||!this._map._fadeAnimated?P(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))}},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var b=new G(this._wrapX?E(a.x,this._wrapX):a.x,this._wrapY?E(a.y,this._wrapY):
a.y);return b.z=a.z,b},_pxBoundsToTileRange:function(a){var b=this.getTileSize();return new O(a.min.unscaleBy(b).floor(),a.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}}),mc=dd.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(a,b){this._url=a;(b=K(this,b)).detectRetina&&qb&&0<b.maxZoom&&(b.tileSize=
Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom++):(b.zoomOffset++,b.maxZoom--),b.minZoom=Math.max(0,b.minZoom));"string"==typeof b.subdomains&&(b.subdomains=b.subdomains.split(""));yb||this.on("tileunload",this._onTileRemove)},setUrl:function(a,b){return this._url=a,b||this.redraw(),this},createTile:function(a,b){var c=document.createElement("img");return H(c,"load",l(this._tileOnLoad,this,b,c)),H(c,"error",l(this._tileOnError,this,b,c)),this.options.crossOrigin&&(c.crossOrigin=
""),c.alt="",c.setAttribute("role","presentation"),c.src=this.getTileUrl(a),c},getTileUrl:function(a){var b={r:qb?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};this._map&&!this._map.options.crs.infinite&&(a=this._globalTileRange.max.y-a.y,this.options.tms&&(b.y=a),b["-y"]=a);return ha(this._url,m(b,this.options))},_tileOnLoad:function(a,b){Na?setTimeout(l(a,this,null,b),0):a(null,b)},_tileOnError:function(a,b,c){var d=this.options.errorTileUrl;d&&b.src!==d&&(b.src=d);a(c,b)},
_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,b=this.options.maxZoom,c=this.options.zoomOffset;return this.options.zoomReverse&&(a=b-a),a+c},_getSubdomain:function(a){return this.options.subdomains[Math.abs(a.x+a.y)%this.options.subdomains.length]},_abortLoading:function(){var a,b;for(a in this._tiles)this._tiles[a].coords.z!==this._tileZoom&&((b=this._tiles[a].el).onload=C,b.onerror=C,b.complete||(b.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",
A(b)))}}),Ad=mc.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,b){this._url=a;var c=m({},this.defaultWmsParams),d;for(d in b)d in this.options||(c[d]=b[d]);b=K(this,b);c.width=c.height=b.tileSize*(b.detectRetina&&qb?2:1);this.wmsParams=c},onAdd:function(a){this._crs=this.options.crs||a.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=
this._wmsVersion?"crs":"srs"]=this._crs.code;mc.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this._tileCoordsToBounds(a),c=this._crs.project(b.getNorthWest());b=this._crs.project(b.getSouthEast());c=(1.3<=this._wmsVersion&&this._crs===yd?[b.y,c.x,c.y,b.x]:[c.x,b.y,b.x,c.y]).join(",");a=mc.prototype.getTileUrl.call(this,a);return a+S(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+c},setParams:function(a,b){return m(this.wmsParams,a),b||this.redraw(),
this}});mc.WMS=Ad;pb.wms=function(a,b){return new Ad(a,b)};var sb=db.extend({options:{padding:.1},initialize:function(a){K(this,a);v(this);this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&I(this._container,"leaflet-zoom-animated"));this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var a=
{viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,b){var c=this._map.getZoomScale(b,this._zoom),d=Ha(this._container),e=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,b);f=this._map.project(a,
b).subtract(f);d=e.multiplyBy(-c).add(d).add(e).subtract(f);Xa?ka(this._container,d,c):ea(this._container,d)},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,b=this._map.getSize(),c=this._map.containerPointToLayerPoint(b.multiplyBy(-a)).round();
this._bounds=new O(c,c.add(b.multiplyBy(1+2*a)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}}),ma=sb.extend({getEvents:function(){var a=sb.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){sb.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");H(a,"mousemove",p(this._onMouseMove,32,this),this);H(a,
"click dblclick mousedown mouseup contextmenu",this._onClick,this);H(a,"mouseout",this._handleMouseOut,this);this._ctx=a.getContext("2d")},_destroyContainer:function(){delete this._ctx;A(this._container);fa(this._container);delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var a in this._layers)this._layers[a]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={};sb.prototype._update.call(this);
var a=this._bounds,b=this._container,c=a.getSize(),e=qb?2:1;ea(b,a.min);b.width=e*c.x;b.height=e*c.y;b.style.width=c.x+"px";b.style.height=c.y+"px";qb&&this._ctx.scale(2,2);this._ctx.translate(-a.min.x,-a.min.y);this.fire("update")}},_reset:function(){sb.prototype._reset.call(this);this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a);this._layers[v(a)]=a;a=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=
a);this._drawLast=a;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var b=a._order,c=b.next;b=b.prev;c?c.prev=b:this._drawLast=b;b?b.next=c:this._drawFirst=c;delete a._order;delete this._layers[L.stamp(a)];this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a);a._project();a._update();this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a);this._requestRedraw(a)},_updateDashArray:function(a){if(a.options.dashArray){var b,
c=a.options.dashArray.split(","),d=[];for(b=0;b<c.length;b++)d.push(Number(c[b]));a.options._dashArray=d}},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||P(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var b=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O;this._redrawBounds.extend(a._pxBounds.min.subtract([b,b]));this._redrawBounds.extend(a._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=
null;this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil());this._clear();this._draw();this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var b=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,b.x,b.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var a=this._redrawBounds;if(this._ctx.save(),a){var b=a.getSize();this._ctx.beginPath();this._ctx.rect(a.min.x,a.min.y,b.x,b.y);this._ctx.clip()}this._drawing=
!0;for(var c=this._drawFirst;c;c=c.next)b=c.layer,(!a||b._pxBounds&&b._pxBounds.intersects(a))&&b._updatePath();this._drawing=!1;this._ctx.restore()},_updatePoly:function(a,b){if(this._drawing){var c,d,e=a._parts,f=e.length,g=this._ctx;if(f){this._drawnLayers[a._leaflet_id]=a;g.beginPath();for(c=0;c<f;c++){var h=0;for(d=e[c].length;h<d;h++){var k=e[c][h];g[h?"lineTo":"moveTo"](k.x,k.y)}b&&g.closePath()}this._fillStroke(g,a)}}},_updateCircle:function(a){if(this._drawing&&!a._empty()){var b=a._point,
c=this._ctx,d=a._radius,e=(a._radiusY||d)/d;this._drawnLayers[a._leaflet_id]=a;1!==e&&(c.save(),c.scale(1,e));c.beginPath();c.arc(b.x,b.y/e,d,0,2*Math.PI,!1);1!==e&&c.restore();this._fillStroke(c,a)}},_fillStroke:function(a,b){var c=b.options;c.fill&&(a.globalAlpha=c.fillOpacity,a.fillStyle=c.fillColor||c.color,a.fill(c.fillRule||"evenodd"));c.stroke&&0!==c.weight&&(a.setLineDash&&a.setLineDash(b.options&&b.options._dashArray||[]),a.globalAlpha=c.opacity,a.lineWidth=c.weight,a.strokeStyle=c.color,
a.lineCap=c.lineCap,a.lineJoin=c.lineJoin,a.stroke())},_onClick:function(a){for(var b,c,d=this._map.mouseEventToLayerPoint(a),e=this._drawFirst;e;e=e.next)(b=e.layer).options.interactive&&b._containsPoint(d)&&!this._map._draggableMoved(b)&&(c=b);c&&(ec(a),this._fireEvent([c],a))},_onMouseMove:function(a){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var b=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,b)}},_handleMouseOut:function(a){var b=this._hoveredLayer;
b&&(da(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(a,b){for(var c,d,e=this._drawFirst;e;e=e.next)(c=e.layer).options.interactive&&c._containsPoint(b)&&(d=c);d!==this._hoveredLayer&&(this._handleMouseOut(a),d&&(I(this._container,"leaflet-interactive"),this._fireEvent([d],a,"mouseover"),this._hoveredLayer=d));this._hoveredLayer&&this._fireEvent([this._hoveredLayer],a)},_fireEvent:function(a,b,c){this._map._fireDOMEvent(b,
c||b.type,a)},_bringToFront:function(a){var b=a._order,c=b.next,d=b.prev;c&&(c.prev=d,d?d.next=c:c&&(this._drawFirst=c),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(a))},_bringToBack:function(a){var b=a._order,c=b.next,d=b.prev;d&&(d.next=c,c?c.prev=d:d&&(this._drawLast=d),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(a))}}),Gc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),
function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch(d){return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Ed={_initContainer:function(){this._container=T("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(sb.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var b=a._container=Gc("shape");I(b,"leaflet-vml-shape "+(this.options.className||""));b.coordsize="1 1";
a._path=Gc("path");b.appendChild(a._path);this._updateStyle(a);this._layers[v(a)]=a},_addPath:function(a){var b=a._container;this._container.appendChild(b);a.options.interactive&&a.addInteractiveTarget(b)},_removePath:function(a){var b=a._container;A(b);a.removeInteractiveTarget(b);delete this._layers[v(a)]},_updateStyle:function(a){var b=a._stroke,c=a._fill,d=a.options,e=a._container;e.stroked=!!d.stroke;e.filled=!!d.fill;d.stroke?(b||(b=a._stroke=Gc("stroke")),e.appendChild(b),b.weight=d.weight+
"px",b.color=d.color,b.opacity=d.opacity,d.dashArray?b.dashStyle=w(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=d.lineCap.replace("butt","flat"),b.joinstyle=d.lineJoin):b&&(e.removeChild(b),a._stroke=null);d.fill?(c||(c=a._fill=Gc("fill")),e.appendChild(c),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(e.removeChild(c),a._fill=null)},_updateCircle:function(a){var b=a._point.round(),c=Math.round(a._radius),d=Math.round(a._radiusY||c);this._setPath(a,
a._empty()?"M0 0":"AL "+b.x+","+b.y+" "+c+","+d+" 0,23592600")},_setPath:function(a,b){a._path.v=b},_bringToFront:function(a){$a(a._container)},_bringToBack:function(a){Ca(a._container)}},Rc=yc?Gc:Ya,X=sb.extend({getEvents:function(){var a=sb.prototype.getEvents.call(this);return a.zoomstart=this._onZoomStart,a},_initContainer:function(){this._container=Rc("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=Rc("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){A(this._container);
fa(this._container);delete this._container;delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){sb.prototype._update.call(this);var a=this._bounds,b=a.getSize(),c=this._container;this._svgSize&&this._svgSize.equals(b)||(this._svgSize=b,c.setAttribute("width",b.x),c.setAttribute("height",b.y));ea(c,a.min);c.setAttribute("viewBox",[a.min.x,a.min.y,b.x,b.y].join(" "));this.fire("update")}},_initPath:function(a){var b=a._path=
Rc("path");a.options.className&&I(b,a.options.className);a.options.interactive&&I(b,"leaflet-interactive");this._updateStyle(a);this._layers[v(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer();this._rootGroup.appendChild(a._path);a.addInteractiveTarget(a._path)},_removePath:function(a){A(a._path);a.removeInteractiveTarget(a._path);delete this._layers[v(a)]},_updatePath:function(a){a._project();a._update()},_updateStyle:function(a){var b=a._path;a=a.options;b&&(a.stroke?(b.setAttribute("stroke",
a.color),b.setAttribute("stroke-opacity",a.opacity),b.setAttribute("stroke-width",a.weight),b.setAttribute("stroke-linecap",a.lineCap),b.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?b.setAttribute("stroke-dasharray",a.dashArray):b.removeAttribute("stroke-dasharray"),a.dashOffset?b.setAttribute("stroke-dashoffset",a.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),a.fill?(b.setAttribute("fill",a.fillColor||a.color),b.setAttribute("fill-opacity",a.fillOpacity),
b.setAttribute("fill-rule",a.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(a,b){this._setPath(a,g(a._parts,b))},_updateCircle:function(a){var b=a._point,c=a._radius,d="a"+c+","+(a._radiusY||c)+" 0 1,0 ";b=a._empty()?"M0 0":"M"+(b.x-c)+","+b.y+d+2*c+",0 "+d+2*-c+",0 ";this._setPath(a,b)},_setPath:function(a,b){a._path.setAttribute("d",b)},_bringToFront:function(a){$a(a._path)},_bringToBack:function(a){Ca(a._path)}});yc&&X.include(Ed);ca.include({getRenderer:function(a){a=
a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this.options.preferCanvas&&Pb()||Xb()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(a){if("overlayPane"===a||void 0===a)return!1;var b=this._paneRenderers[a];return void 0===b&&(b=X&&Xb({pane:a})||ma&&Pb({pane:a}),this._paneRenderers[a]=b),b}});var qd=oc.extend({initialize:function(a,b){oc.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},
_boundsToLatLngs:function(a){return a=la(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});X.create=Rc;X.pointsToPath=g;Eb.geometryToLayer=hc;Eb.coordsToLatLng=La;Eb.coordsToLatLngs=vb;Eb.latLngToCoords=Ib;Eb.latLngsToCoords=Ob;Eb.getFeature=wb;Eb.asFeature=ra;ca.mergeOptions({boxZoom:!0});var Bd=Cb.extend({initialize:function(a){this._map=a;this._container=a._container;this._pane=a._panes.overlayPane;this._resetStateTimeout=0;a.on("unload",this._destroy,this)},addHooks:function(){H(this._container,
"mousedown",this._onMouseDown,this)},removeHooks:function(){fa(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){A(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;this._clearDeferredResetState();
this._resetState();Oc();Va();this._startPoint=this._map.mouseEventToContainerPoint(a);H(document,{contextmenu:c,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=T("div","leaflet-zoom-box",this._container),I(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));this._point=this._map.mouseEventToContainerPoint(a);a=new O(this._point,this._startPoint);var b=a.getSize();ea(this._box,a.min);
this._box.style.width=b.x+"px";this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(A(this._box),da(this._container,"leaflet-crosshair"));Pc();sa();fa(document,{contextmenu:c,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){1!==a.which&&1!==a.button||(this._finish(),!this._moved)||(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0),a=new ja(this._map.containerPointToLatLng(this._startPoint),
this._map.containerPointToLatLng(this._point)),this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a}))},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});ca.addInitHook("addHandler","boxZoom",Bd);ca.mergeOptions({doubleClickZoom:!0});var rd=Cb.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,c=b.getZoom(),d=b.options.zoomDelta;c=a.originalEvent.shiftKey?
c-d:c+d;"center"===b.options.doubleClickZoom?b.setZoom(c):b.setZoomAround(a.containerPoint,c)}});ca.addInitHook("addHandler","doubleClickZoom",rd);ca.mergeOptions({dragging:!0,inertia:!ic,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var rb=Cb.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new fc(a._mapPane,a._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},
this);this._draggable.on("predrag",this._onPreDragLimit,this);a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}I(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){da(this._map._container,"leaflet-grab");da(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&
this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=la(this._map.options.maxBounds);this._offsetLimit=pa(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=
null;a.fire("movestart").fire("dragstart");a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var b=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c);this._times.push(b);50<b-this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire("move",a).fire("drag",a)},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,
0]).subtract(a).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,b){return a-(a-b)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var a=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;a.x<b.min.x&&(a.x=this._viscousLimit(a.x,b.min.x));a.y<b.min.y&&(a.y=this._viscousLimit(a.y,b.min.y));a.x>b.max.x&&(a.x=this._viscousLimit(a.x,b.max.x));a.y>b.max.y&&(a.y=this._viscousLimit(a.y,b.max.y));this._draggable._newPos=
this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,e=this._draggable._newPos.x,f=(e-b+c)%a+b-c;a=(e+b+c)%a-b-c;c=Math.abs(f+c)<Math.abs(a+c)?f:a;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=c},_onDragEnd:function(a){var b=this._map,c=b.options,d=!c.inertia||2>this._times.length;if(b.fire("dragend",a),d)b.fire("moveend");else{a=this._lastPos.subtract(this._positions[0]);var e=c.easeLinearity;
d=a.multiplyBy(e/((this._lastTime-this._times[0])/1E3));var f=d.distanceTo([0,0]);a=Math.min(c.inertiaMaxSpeed,f);d=d.multiplyBy(a/f);var g=a/(c.inertiaDeceleration*e),h=d.multiplyBy(-g/2).round();h.x||h.y?(h=b._limitOffset(h,b.options.maxBounds),P(function(){b.panBy(h,{duration:g,easeLinearity:e,noMoveStart:!0,animate:!0})})):b.fire("moveend")}}});ca.addInitHook("addHandler","dragging",rb);ca.mergeOptions({keyboard:!0,keyboardPanDelta:80});var nd=Cb.extend({keyCodes:{left:[37],right:[39],down:[40],
up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a;this._setPanDelta(a.options.keyboardPanDelta);this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;0>=a.tabIndex&&(a.tabIndex="0");H(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();fa(this._map._container,{focus:this._onFocus,blur:this._onBlur,
mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,b=document.documentElement,c=a.scrollTop||b.scrollTop;a=a.scrollLeft||b.scrollLeft;this._map._container.focus();window.scrollTo(a,c)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanDelta:function(a){var b,c=this._panKeys={},d=this.keyCodes;var e=0;for(b=
d.left.length;e<b;e++)c[d.left[e]]=[-1*a,0];e=0;for(b=d.right.length;e<b;e++)c[d.right[e]]=[a,0];e=0;for(b=d.down.length;e<b;e++)c[d.down[e]]=[0,a];e=0;for(b=d.up.length;e<b;e++)c[d.up[e]]=[0,-1*a]},_setZoomDelta:function(a){var b,c=this._zoomKeys={},d=this.keyCodes;var e=0;for(b=d.zoomIn.length;e<b;e++)c[d.zoomIn[e]]=a;e=0;for(b=d.zoomOut.length;e<b;e++)c[d.zoomOut[e]]=-a},_addHooks:function(){H(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fa(document,"keydown",this._onKeyDown,
this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var b=a.keyCode;var d=this._map;if(b in this._panKeys){if(d._panAnim&&d._panAnim._inProgress)return;b=this._panKeys[b];a.shiftKey&&(b=F(b).multiplyBy(3));d.panBy(b);d.options.maxBounds&&d.panInsideBounds(d.options.maxBounds)}else if(b in this._zoomKeys)d.setZoom(d.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[b]);else{if(27!==b||!d._popup)return;d.closePopup()}c(a)}}});ca.addInitHook("addHandler","keyboard",nd);ca.mergeOptions({scrollWheelZoom:!0,
wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $c=Cb.extend({addHooks:function(){H(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){fa(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var b=dc(a),d=this._map.options.wheelDebounceTime;this._delta+=b;this._lastMousePos=this._map.mouseEventToContainerPoint(a);this._startTime||(this._startTime=+new Date);b=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer);
this._timer=setTimeout(l(this._performZoom,this),b);c(a)},_performZoom:function(){var a=this._map,b=a.getZoom(),c=this._map.options.zoomSnap||0;a._stop();var e=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2;c=c?Math.ceil(e/c)*c:e;c=a._limitZoom(b+(0<this._delta?c:-c))-b;this._delta=0;this._startTime=null;c&&("center"===a.options.scrollWheelZoom?a.setZoom(b+c):a.setZoomAround(this._lastMousePos,b+c))}});ca.addInitHook("addHandler","scrollWheelZoom",
$c);ca.mergeOptions({tap:!0,tapTolerance:15});var ad=Cb.extend({addHooks:function(){H(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fa(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches){if(z(a),this._fireClick=!0,1<a.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var b=a.touches[0];a=b.target;this._startPos=this._newPos=new G(b.clientX,b.clientY);a.tagName&&"a"===a.tagName.toLowerCase()&&I(a,"leaflet-active");
this._holdTimeout=setTimeout(l(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",b))},this),1E3);this._simulateEvent("mousedown",b);H(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(a){if(clearTimeout(this._holdTimeout),fa(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&a&&a.changedTouches){a=a.changedTouches[0];var b=a.target;b&&b.tagName&&"a"===b.tagName.toLowerCase()&&da(b,"leaflet-active");
this._simulateEvent("mouseup",a);this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){a=a.touches[0];this._newPos=new G(a.clientX,a.clientY);this._simulateEvent("mousemove",a)},_simulateEvent:function(a,b){var c=document.createEvent("MouseEvents");c._simulated=!0;b.target._simulatedClick=!0;c.initMouseEvent(a,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,
0,null);b.target.dispatchEvent(c)}});va&&!bb&&ca.addInitHook("addHandler","tap",ad);ca.mergeOptions({touchZoom:va&&!ic,bounceAtZoomLimits:!0});var od=Cb.extend({addHooks:function(){I(this._map._container,"leaflet-touch-zoom");H(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){da(this._map._container,"leaflet-touch-zoom");fa(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&!b._animatingZoom&&
!this._zooming){var c=b.mouseEventToContainerPoint(a.touches[0]),d=b.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=b.getSize()._divideBy(2);this._startLatLng=b.containerPointToLatLng(this._centerPoint);"center"!==b.options.touchZoom&&(this._pinchStartLatLng=b.containerPointToLatLng(c.add(d)._divideBy(2)));this._startDist=c.distanceTo(d);this._startZoom=b.getZoom();this._moved=!1;this._zooming=!0;b._stop();H(document,"touchmove",this._onTouchMove,this);H(document,"touchend",this._onTouchEnd,
this);z(a)}},_onTouchMove:function(a){if(a.touches&&2===a.touches.length&&this._zooming){var b=this._map,c=b.mouseEventToContainerPoint(a.touches[0]),d=b.mouseEventToContainerPoint(a.touches[1]),e=c.distanceTo(d)/this._startDist;if(this._zoom=b.getScaleZoom(e,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&1>e||this._zoom>b.getMaxZoom()&&1<e)&&(this._zoom=b._limitZoom(this._zoom)),"center"===b.options.touchZoom){if(this._center=this._startLatLng,1===e)return}else{c=c._add(d)._divideBy(2)._subtract(this._centerPoint);
if(1===e&&0===c.x&&0===c.y)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(c),this._zoom)}this._moved||(b._moveStart(!0),this._moved=!0);Fa(this._animRequest);b=l(b._move,b,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=P(b,this,!0);z(a)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Fa(this._animRequest),fa(document,"touchmove",this._onTouchMove),fa(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,
this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ca.addInitHook("addHandler","touchZoom",od);ca.BoxZoom=Bd;ca.DoubleClickZoom=rd;ca.Drag=rb;ca.Keyboard=nd;ca.ScrollWheelZoom=$c;ca.Tap=ad;ca.TouchZoom=od;var Cd=window.L;window.L=b;Object.freeze=Qa;b.version="1.2.0+HEAD.1ac320b";b.noConflict=function(){return window.L=Cd,this};b.Control=kb;b.control=Cc;b.Browser=md;b.Evented=nb;b.Mixin=Fd;b.Util=
aa;b.Class=ia;b.Handler=Cb;b.extend=m;b.bind=l;b.stamp=v;b.setOptions=K;b.DomEvent=Yc;b.DomUtil=Hd;b.PosAnimation=sd;b.Draggable=fc;b.LineUtil=Dd;b.PolyUtil=Gd;b.Point=G;b.point=F;b.Bounds=O;b.bounds=pa;b.Transformation=ya;b.transformation=Pa;b.Projection=Id;b.LatLng=Q;b.latLng=M;b.LatLngBounds=ja;b.latLngBounds=la;b.CRS=Oa;b.GeoJSON=Eb;b.geoJSON=Da;b.geoJson=Da;b.Layer=db;b.LayerGroup=Sb;b.layerGroup=function(a){return new Sb(a)};b.FeatureGroup=gc;b.featureGroup=function(a){return new gc(a)};b.ImageOverlay=
kd;b.imageOverlay=function(a,b,c){return new kd(a,b,c)};b.VideoOverlay=zd;b.videoOverlay=function(a,b,c){return new zd(a,b,c)};b.DivOverlay=Fb;b.Popup=pc;b.popup=function(a,b){return new pc(a,b)};b.Tooltip=qc;b.tooltip=function(a,b){return new qc(a,b)};b.Icon=lc;b.icon=function(a){return new lc(a)};b.DivIcon=pd;b.divIcon=function(a){return new pd(a)};b.Marker=Fc;b.marker=function(a,b){return new Fc(a,b)};b.TileLayer=mc;b.tileLayer=pb;b.GridLayer=dd;b.gridLayer=function(a){return new dd(a)};b.SVG=
X;b.svg=Xb;b.Renderer=sb;b.Canvas=ma;b.canvas=Pb;b.Path=Tb;b.CircleMarker=Qc;b.circleMarker=function(a,b){return new Qc(a,b)};b.Circle=ed;b.circle=function(a,b,c){return new ed(a,b,c)};b.Polyline=Db;b.polyline=function(a,b){return new Db(a,b)};b.Polygon=oc;b.polygon=function(a,b){return new oc(a,b)};b.Rectangle=qd;b.rectangle=function(a,b){return new qd(a,b)};b.Map=ca;b.map=function(a,b){return new ca(a,b)}});
(function(){var b=function(b){for(var l=Array.prototype.slice.call(arguments,1),m=0;m<l.length;++m){var E=l[m],C;for(C in E)E.hasOwnProperty(C)&&(b[C]=E[C])}return b},m={get:function(b,m){if(b===m)return 0;if(0===b.length)return m.length;if(0===m.length)return b.length;var l=Array(m.length+1),v=Array(m.length+1),C,D;for(C=0;C<l.length;++C)l[C]=C;for(C=0;C<b.length;++C){v[0]=C+1;for(D=0;D<m.length;++D)v[D+1]=Math.min(l[D]+(b.charAt(C)===m.charAt(D)?0:1),v[D]+1,l[D+1]+1),l[D]=v[D];l[D]=v[D]}return v[m.length]},
getAsync:function(l,m,p,E){E=b({},{progress:null},E);if(l===m)return p(null,0);if(0===l.length)return p(null,m.length);if(0===m.length)return p(null,l.length);var v=Array(m.length+1),D=Array(m.length+1),Z,R,K;for(Z=0;Z<v.length;++Z)v[Z]=Z;D[0]=1;Z=0;var S=-1;var ha=function(){for(K=R=(new Date).valueOf();1E3>K-R;){if(m.length<=++S){v[S]=D[S];if(l.length<=++Z)return p(null,D[m.length]);D[0]=Z+1;S=0}D[S+1]=Math.min(v[S]+(l.charAt(Z)===m.charAt(S)?0:1),D[S]+1,v[S+1]+1);v[S]=D[S];K=(new Date).valueOf()}if(null!==
E.progress)try{E.progress.call(null,100*Z/l.length)}catch(Ea){return p("Progress callback: "+Ea.toString())}setTimeout(ha(),0)};ha()}};"undefined"!==typeof define&&null!==define&&define.amd?define(function(){return m}):"undefined"!==typeof module&&null!==module?module.exports=m:"undefined"!==typeof window&&null!==window&&(window.Levenshtein=m)})();
(function(){function b(){if(!(window.isAutoScrolling||C&&150>new Date-C)){for(var b=viewportFromTop(),l,p=Infinity,K=0;K<v.length;K++){var S=v[K],ha=Math.abs(targetFromTop(S)-b);ha<p&&(l=S,p=ha)}b=E.querySelector(".selected");l=E.querySelector('a[href="'+m+"#"+(l&&l.id)+'"]');l!==b&&(b&&u.removeClass(b,"selected"),u.addClass(l,"selected"));C=new Date}}var m=window.location.pathname;smoothScroll("body > section");for(var l=document.querySelectorAll("body > section"),v=[],p=0;p<l.length;p++)document.querySelector('#page-header .page-nav-links [href="'+
m+"#"+l[p].id+'"]')&&v.push(l[p]);var E=document.querySelector("body > header"),C;u.on(window,"scroll",b);u.on(window,"load",b)})();
(function(){function b(b,l){var p=m.querySelector(".videos-slider .selected"),v=m.querySelector(".videos-slider "+b);if(v!==p){var C=m.querySelector(".videos-pager .selected");u.removeClass(p,"selected");u.removeClass(C,"selected");u.addClass(v,"selected");u.addClass(l,"selected")}}var m=document.getElementById("videos");if(m){u.on(m,"click",function(b){clearInterval(E)});var l=m.querySelectorAll(".videos-pager li > a");u.eachNode(l,function(l){u.on(l,"click",function(l){u.stop(l);b(l.target.hash,
l.target)})});var v=m.querySelectorAll(".videos-slider .slide");u.eachNode(v,function(b){var l=b.querySelector(".video a");u.on(l,"click",function(m){this.dataset.youtubeid&&(u.stop(m),m=this.dataset.youtubeid)&&(l.innerHTML='<iframe width="600" height="338" src="//www.youtube.com/embed/'+m+'?rel=0&wmode=opaque&autoplay=1" frameborder="0" allowfullscreen></iframe>',u.addClass(b,"activated"))})});var p=0,E=setInterval(function(){p=(p+1)%l.length;b(l[p].hash,l[p])},4E3)}})();
(function(b){window.app=b;b.models={};b.views={};b.filterWidgets={};b.mixins={};b.config={map:{tiles:"http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",centre:[-1.293,36.817],mathare:[-1.262,36.858],kibera:[-1.313,36.788],zoom:13,localZoom:17},marker:{radius:5},throttle:85};b.pages={};b.pages.home=function(){var m=new b.models.Schools,l=new b.views.MapAllSchools({el:$("#map .map"),collection:m}),v=this.mapfilters=new b.views.MapFilters({el:$("#map .controls"),schools:m,map:l.map});m=new b.views.SchoolsStats({el:$("#stats .stats-container"),
collection:m});v.render();l.render();m.render();u.eachNode(document.querySelectorAll(".action-school-search"),function(b){b.addEventListener("click",function(){v.quickSearchWidget.model.set("expanded",!0)})})};b.pages.schoolProfile=function(){var m=new b.models.School(school);window.v=(new b.views.MapOneSchool({el:$("#school-map-display"),model:m})).render();new b.views.ProfileData({el:$("#school-blurbs"),model:m})}})(new function(){});
app.models.School=Backbone.Model.extend({defaults:{mapScore:1,_filterScore:1,excluded:!1,cursored:!1,selected:!1,location:0}});
app.models.Schools=Backbone.Collection.extend({url:"/app/schools.json",comparator:"name",model:app.models.School,initialize:function(){this.fetch();this.listenTo(this,"change:_filterScore",this._updateExcluded);this.listenTo(this,"cursorme",this.updateCursored);this.listenTo(this,"selectme",this.updateSelected)},updateSelected:function(b){this.selectedOption&&this.selectedOption.set("selected",!1);(this.selectedOption=b)&&b.set("selected",!0)},updateCursored:function(b){this.cursoredOption&&this.cursoredOption.set("cursored",
!1);(this.cursoredOption=b)&&b.set("cursored",!0)},_updateExcluded:function(b,m){0<m?b.set({excluded:!1}):b.set({excluded:!0})},notExcluded:function(){return this.filter(function(b){return 0<b.get("_filterScore")&&0<b.get("mapScore")})}});app.models.SchoolFields=Backbone.Collection.extend({url:"/app/fields.json",model:Backbone.Model.extend({}),initialize:function(){this.fetch()}});
app.models.Filters=Backbone.Collection.extend({comparator:"workToCompute",initialize:function(b){this.listenTo(this,"filterchange",this.filterChange);this.listenTo(this,"slumchange",this.slumChange)},filterChange:function(){this.schools.each(function(b){var m=1;this.each(function(l){0>=m||(m-=l.scoreSchool(b))});b.set("_filterScore",m)},this);this.each(function(b){b.trigger("filtersupdated")})},slumChange:function(b){"deselected"===b?this.map.map.flyTo(app.config.map.centre,app.config.map.zoom):"Mathare-schools-osm"===
b?this.map.map.flyTo(app.config.map.mathare,16,{animate:!0}):this.map.map.flyTo(app.config.map.kibera,15,{animate:!0})},updateScore:function(){lower_x=this.map.map.getBounds()._southWest.lat;lower_y=this.map.map.getBounds()._southWest.lng;upper_x=this.map.map.getBounds()._northEast.lat;upper_y=this.map.map.getBounds()._northEast.lng;this.schools.each(function(b){x=b.attributes.locations[0][0];y=b.attributes.locations[0][1];x<lower_x||y<lower_y||x>upper_x||y>upper_y?b.set("mapScore",0):b.set("mapScore",
1)},this);this.each(function(b){b.trigger("filtersupdated")})},collapseAll:function(){_(this.models).each(function(b){b.set("expanded",!1)})}});app.models.SelectFilterOption=Backbone.Model.extend({defaults:{cursored:!1,selected:!1},initialize:function(){this.schools=new Backbone.Collection},countNotExcluded:function(){return app.models.Schools.prototype.notExcluded.call(this.schools).length}});
app.models.SelectFilterOptions=app.models.Schools.extend({model:app.models.SelectFilterOption,cursoredOption:void 0,selectedOption:void 0,comparator:function(b,m){var l=b.countNotExcluded(),v=m.countNotExcluded();return l===v?0:l<v?1:-1},initialize:function(){this.listenTo(this,"cursorme",this.updateCursored);this.listenTo(this,"selectme",this.updateSelected)}});
app.models.SelectFilter=Backbone.Model.extend({workToCompute:1,defaults:{expanded:!1,value:void 0},initialize:function(b){this.key=b.key;var m=b.schools;this.options=new app.models.SelectFilterOptions;this.listenTo(this.options,"change:selected",this.changeSelect);this.capitalize=b.capitalize;m.each(this.addSchool);this.listenTo(m,"add",this.addSchool)},addSchool:function(b){var m=b.get(this.key);m=m&&m.split(",")||["unknown"];_.each(m,function(l){l=l.capitaliseFirstLetter(this.capitalize);var m=
this.options.find(function(b){return b.get("optionValue")===l});m||(m=new app.models.SelectFilterOption({optionValue:l}),this.options.add(m));m.schools.add(b)},this)},changeSelect:function(b,m){m?(this.set("value",b.get("optionValue")),this.trigger("filterchange"),"osm:slum"===this.key&&this.trigger("slumchange",b.get("optionValue"))):"osm:slum"===this.key&&this.trigger("slumchange","deselected")},scoreSchool:function(b){return this.options.selectedOption?this.options.selectedOption.schools.contains(b)?
0:1:0}});String.prototype.capitaliseFirstLetter=function(b){var m=this.split("_");m=m.map(function(l){return 3<l.length||"normal"==b?l.charAt(0).toUpperCase()+l.slice(1):l.toUpperCase()});return m.join(" ")};
app.models.QuickSearchFilter=Backbone.Model.extend({defaults:{value:void 0,rawValue:void 0},initialize:function(b){this.key=b.key;this.options=this.schools=b.schools;this.normalizedKeyRefs={};this.listenTo(this,"change:rawValue",this.inputChanged);this.schools.each(this.addSchool);this.listenTo(this.schools,"add",this.addSchool)},addSchool:function(b){var m=this._simplify(b.get(this.key));if(_.has(this.normalizedKeyRefs,b.cid))throw Error("School registred twice:",b);this.normalizedKeyRefs[b.cid]=
m},inputChanged:function(b,m){if(m){var l=this._simplify(m);this.set("value",l);this.trigger("filterchange")}else this.set("value",void 0)},scoreSchool:function(b){var m=this.get("value");b=this.normalizedKeyRefs[b.cid];if(!m)return 0;b=b.slice(0,m.length);var l=Levenshtein.get(b,m);l+=+!u.startsWith(b,m.slice(0,1));return l/4},_simplify:function(b){return b.toLowerCase().replace(/[^a-z]/g,"")}});
app.views.SchoolPin=Backbone.View.extend({popupTemplate:_.template('<h3><a href="/schools/<%= slug %>/"><%= name %></a></h3><% if(edType || opType) { %>  <p><%= edType %><%= (edType && opType) ? " / " : " " %><%= opType %></p><% } %><p><a href="/schools/<%= slug %>/">Go to School Profile \u2192</a></p>'),initialize:function(b){this.map=b.map;var m=this.model.get("locations");this.locations={osm:m[0].reverse()};this.locations.kenyaopendata=m[1]&&m[1].reverse();b.popupTemplate&&(this.popupTemplate=
b.popupTemplate);this.marker=L.circleMarker(this.locations.osm,{color:"#75b81b",opacity:.9,weight:6,fillOpacity:.667,radius:app.config.marker.radius});this.marker.addTo(this.map);this.listenTo(this.marker,"mouseover",this.cursor);this.listenTo(this.marker,"mouseout",this.uncursor);this.listenTo(this.marker,"click",this.select);this.popup=L.popup().setLatLng(this.locations.osm).setContent(this.popupTemplate(this.templatable()));this.listenTo(this.model,"change:cursored",this.updateCursored);this.listenTo(this.model,
"change:selected",this.updateSelected);this.listenTo(this.model,"change:excluded",this.updateExcluded);this.listenTo(this.model,"change:location",this.updateLocation)},templatable:function(){var b=this.model.attributes;return{name:b.name,slug:b.slug,edType:b["osm:education:type"],opType:b["osm:operator:type"]}},cursor:function(){this.model.collection&&this.model.collection.updateCursored(this.model)},uncursor:function(){this.model.set("cursored",!1)},updateCursored:function(b,m){m?this.marker.setStyle({color:"#f8ad32"}).bringToFront():
this.marker.setStyle({color:"#75b81b"})},select:function(){this.model.collection?this.model.collection.updateSelected(this.model):(this.model.set("selected",!0),this.updateSelected())},updateSelected:function(b,m){void 0===m&&(m=this.model.get("selected"));m&&(this.map.openPopup(this.popup),this.marker.bringToFront())},updateExcluded:function(b,m){m?this.marker.setStyle({weight:2,opacity:.4,fillOpacity:0}).bringToBack():this.marker.setStyle({weight:6,opacity:.9,fillOpacity:.667}).bringToFront()},
updateLocation:function(){this.model.get("location")>this.model.get("locations").length-1||(this.marker.setLatLng(this.model.get("locations")[this.model.get("location")]),this.popup.setLatLng(this.model.get("locations")[this.model.get("location")]),this.updateSelected())}});
app.views.MapAllSchools=Backbone.View.extend({initialize:function(){this.map=new app.views.Map({el:this.el});this.collection.each(this.map.pinSchool);this.map.listenTo(this.collection,"add",this.map.pinSchool);this.listenTo(this.map.map,"popupclose",this.deselect)},deselect:function(){this.collection.updateSelected(null)}});
app.views.MapFilters=Backbone.View.extend({initialize:function(b){var m=new app.models.SelectFilter({name:"Slum Name",key:"osm:slum",schools:b.schools,capitalize:"normal"}),l=new app.models.QuickSearchFilter({name:"School Name",key:"name",schools:b.schools}),v=new app.models.SelectFilter({name:"Education Level",key:"osm:education:type",schools:b.schools,capitalize:"normal"}),p=new app.models.SelectFilter({name:"School Sponsor",key:"osm:operator:type",schools:b.schools,capitalize:"abbr"});this.filters=
new app.models.Filters([m,l,v,p]);this.filters.schools=b.schools;this.filters.map=b.map;this.filters.listenTo(this.filters.map.map,"moveend",this.filters.updateScore);this.slumWidget=new app.filterWidgets.Select({model:m});this.quickSearchWidget=new app.filterWidgets.QuickSearch({model:l});this.edLevelWidget=new app.filterWidgets.Select({model:v});this.schoolTypeWidget=new app.filterWidgets.Select({model:p})},render:function(){var b=[this.slumWidget.render().el,this.quickSearchWidget.render().el,
this.edLevelWidget.render().el,this.schoolTypeWidget.render().el];this.$el.prepend(b);return this}});app.views.MapOneSchool=Backbone.View.extend({initialize:function(){this.map=new app.views.Map({el:this.el});this.pin=this.map.pinSchool(this.model,{feature:!0});this.map.map.setView(this.model.get("locations")[this.model.get("location")],app.config.map.localZoom);this.model.set("selected",!0)}});
app.views.Map=Backbone.View.extend({initialize:function(){var b=L.map(this.el,{scrollWheelZoom:!1});b.setView(app.config.map.centre,app.config.map.zoom);L.tileLayer(app.config.map.tiles).addTo(b);b.on("click",function(){app.view.mapfilters&&app.view.mapfilters.filters.collapseAll()});this.map=b},pinSchool:function(b,m){var l={model:b,map:this.map};m.feature&&(l.popupTemplate=_.template('<h3><%= name %></h3><% if(edType || opType) { %>  <p><%= edType %><%= (edType && opType) ? " / " : " " %><%= opType %></p><% } %><div class="share"><a href="https://twitter.com/share" class="twitter-share-button" data-url="http://openschoolskenya.org/schools/<%= slug %>">Tweet</a><div class="fb-like" data-href="http://openschoolskenya.org/schools/<%= slug %>" data-width="80" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false"></div></div>'));
return new app.views.SchoolPin(l)}});
app.views.MappedSchool=Backbone.View.extend({template:_.template('<h3><a href="#"><%= name %></h3>'),initialize:function(b){this.map=b.map;this.marker=this.createMarker();this.listenTo(this.model,"change:excluded",this.excluded);this.excluded();this.marker.addTo(this.map)},createMarker:function(){var b=L.marker(this.model.get("locations")[0].reverse());b.bindPopup(this.template(this.model.attributes));return b},excluded:function(){this.model.get("excluded")?this.marker.setOpacity(.2):this.marker.setOpacity(1)}});
app.views.SchoolsStats=Backbone.View.extend({template:_.template('<h3><span class="bignum"><%= schools %></span> schools</h3><h3><span class="bignum"><%= teachers %></span> teachers</h3><h3><span class="bignum"><%= students %></span> students</h3>'),initialize:function(){this.listenTo(this.collection,"add change:excluded change:mapScore",this.render)},render:function(){var b=this.collection.notExcluded(),m=this.countPeople(b);this.$el.html(this.template({schools:b.length,teachers:m.teachers,students:m.students}));
return this},countPeople:function(b){var m=0,l=0;_.each(b,function(b){if(b.has("osm:education:teachers")){var p=+b.get("osm:education:teachers");isNaN(p)&&(p=0);m+=p}b.has("osm:education:students")&&(b=+b.get("osm:education:students"),isNaN(b)&&(b=0),l+=b)});return{teachers:m,students:l}}});
app.filterWidgets.OptionView=Backbone.View.extend({tagName:"li",template:_.template('<a href="#">  <%= optionValue || "unknown" %></a>'),events:{mouseover:"cursorMePlease",click:"selectMePlease"},initialize:function(){this.listenTo(this.model,"change:cursored",this.changeCursored);this.listenTo(this.model,"change:selected",this.changeSelected)},render:function(){this.$el.html(this.template(this.getRenderContext()));return this},getRenderContext:function(){return this.model.attributes},cursorMePlease:function(){this.model.trigger("cursorme",
this.model)},selectMePlease:function(){this.model.trigger("selectme",this.model);this.$("a").focus()},changeCursored:function(b,m){this.$el[m?"addClass":"removeClass"]("cursored")},changeSelected:function(b,m){this.$el[m?"addClass":"removeClass"]("selected")}});
app.filterWidgets.Select=Backbone.View.extend({tagName:"li",template:_.template('<a class="activate" href="#"><%= name %></a><a class="clear-filter" href="#">&times;</a><div class="map-control-dropdown"></div>'),dropDownTemplate:_.template("<ul></ul>"),events:{"click >.activate":"selectUIActivate","click .clear-filter":"clearFilter",keydown:"selectUIKeyNav","click .map-control-dropdown":"clickedToSelect"},initialize:function(){this.rendered=!1;this.model.options.each(this.addOption);this.listenTo(this.model,
"change:expanded",this.expandOptions);this.listenTo(this.model,"change:value",this.setSelect);this.listenTo(this.model.options,"add",this.reorderOptions);this.listenTo(this.model.options,"sort",this.reorderOptions)},render:function(){this.$el.html(this.template(this.model.attributes));this.$(".map-control-dropdown").html(this.dropDownTemplate());this.rendered||(this.reorderOptions(),this.rendered=!0);return this},reorderOptions:function(){this.rendered&&(this.$(".map-control-dropdown > ul").html(this.model.options.map(function(b){return(new app.filterWidgets.OptionView({model:b})).render().el},
this)),this.moveCursor(0))},clearFilter:function(b){b.preventDefault();this.model.options.updateSelected(void 0);this.model.set("value",void 0);this.model.trigger("filterchange")},setSelect:function(b,m){this.$el[m?"addClass":"removeClass"]("filtering");this.$(">.activate").text(m||this.model.get("name"))},expandOptions:function(b,m){this.$el[m?"addClass":"removeClass"]("active");this.$(">.activate").focus()},selectUIActivate:function(b){b.preventDefault();b=this.model.get("expanded");this.model.collection.collapseAll();
b||this.model.set("expanded",!0)},selectCursored:function(){var b=this.model.options.find(function(b){return b.get("cursored")});b||(b=this.model.options.at(0));b.trigger("selectme",b)},moveCursor:function(b){var m=this.model.options.find(function(b){return b.get("cursored")});m||(m=this.model.options.at(0));m=this.model.options.indexOf(m);b=this.model.options.at(Math.max(0,Math.min(this.model.options.length-1,m+b)));b.trigger("cursorme",b)},selectUIKeyNav:function(b){var m={ESCAPE:function(){this.model.set("expanded",
!1)},SPACE:function(){this.selectCursored()},ENTER:function(){this.selectCursored();this.model.set("expanded",!1)},UP:function(){this.moveCursor(-1)},DOWN:function(){this.moveCursor(1)},PAGEUP:function(){this.moveCursor(-7)},PAGEDOWN:function(){this.moveCursor(7)},HOME:function(){this.moveCursor(-Infinity)},END:function(){this.moveCursor(Infinity)}}[u.key[b.keyCode]];m&&(b.preventDefault(),m.call(this),this.model.get("expanded")||this.selectCursored())},clickedToSelect:function(b){b.preventDefault();
this.model.set("expanded",!1)}});app.filterWidgets.SearchListingView=app.filterWidgets.OptionView.extend({template:_.template('<a href="#">  <%= name %></a>')});
app.filterWidgets.QuickSearch=app.filterWidgets.Select.extend({dropDownTemplate:_.template('<input type="text" name="quicksearch"        placeholder="Quick Search" /><ul></ul>'),events:_.extend(app.filterWidgets.Select.prototype.events,{"keydown input":"maybeBlockSpace","keyup input":"changeInput","change input":"changeInput","click input":"noop"}),initialize:function(){this.rendered=!1;this.listenTo(this.model.schools,"add",this.reorderOptions);this.listenTo(this.model,"change:value",this.setUIValue);
this.listenTo(this.model,"change:expanded",this.expandOptions);this.listenTo(this.model,"change:expanded",this.focusOnExpand);this.listenTo(this.model,"filtersupdated",this.reorderOptions)},reorderOptions:_.debounce(function(){if(this.rendered){var b=this.model.schools.notExcluded();b=0<b.length?_(b).sortBy(function(b){return-b.get("_filterScore")}).map(function(b){return(new app.filterWidgets.SearchListingView({model:b})).render().el},this):'<li><a href="#">No schools matched the filter criteria</a></li>';
this.$(".map-control-dropdown > ul").html(b)}},app.config.throttle),clearFilter:function(){app.filterWidgets.Select.prototype.clearFilter.apply(this,arguments);this.$("input").val("");this.model.get("expanded")&&this.$("input").focus()},moveCursor:function(b){var m=this.model.schools.notExcluded(),l=_(m).find(function(b){return b.get("cursored")});l||(l=m[0]);l=m.indexOf(l);b=m[Math.max(0,Math.min(m.length-1,l+b))];b.trigger("cursorme",b)},maybeBlockSpace:function(b){"SPACE"===u.key[b.keyCode]&&(console.log("spaaaaaaace"),
b.stopPropagation())},changeInput:function(b){this.model.set("rawValue",b.target.value)},focusOnExpand:function(b){this.$("input").focus()},setUIValue:function(b,m){this.$el[m?"addClass":"removeClass"]("filtering");this.$(">.activate").text(m||this.model.get("name"))},noop:function(b){b.stopPropagation()}});
app.views.ProfileData=Backbone.View.extend({events:{'click [href^="#data-source-"]':"changeSource"},changeSource:function(b){$(".data-selectable").removeClass("selected");b=b.currentTarget.getAttribute("href").split("-").slice(-1)[0];$(".data-"+b).addClass("selected");this.model.set("location",{osm:0,kod:1,compare:2}[b]);return!1}});
(function(b){var m=window.location.pathname,l=_.find([{match:/^\/$/,page:b.pages.home},{match:/^\/schools\//,page:b.pages.schoolProfile}],function(b){return b.match.test(m)});console.info("routing: ",l&&l.match||"no match");l&&l.page();b.view=l})(window.app);
